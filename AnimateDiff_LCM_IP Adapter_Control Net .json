{
  "last_node_id": 238,
  "last_link_id": 535,
  "nodes": [
    {
      "id": 142,
      "type": "ADE_StandardUniformContextOptions",
      "pos": [
        1240,
        -180
      ],
      "size": {
        "0": 327.6000061035156,
        "1": 222
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_context",
          "type": "CONTEXT_OPTIONS",
          "link": null
        },
        {
          "name": "view_opts",
          "type": "VIEW_OPTS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "CONTEXT_OPTS",
          "type": "CONTEXT_OPTIONS",
          "links": [
            343
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_StandardUniformContextOptions"
      },
      "widgets_values": [
        16,
        1,
        4,
        "pyramid",
        false,
        0,
        1
      ]
    },
    {
      "id": 154,
      "type": "ADE_AnimateDiffSamplingSettings",
      "pos": [
        1230,
        100
      ],
      "size": {
        "0": 315,
        "1": 198
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "noise_layers",
          "type": "NOISE_LAYERS",
          "link": null
        },
        {
          "name": "iteration_opts",
          "type": "ITERATION_OPTS",
          "link": null
        },
        {
          "name": "seed_override",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "seed_override"
          }
        }
      ],
      "outputs": [
        {
          "name": "settings",
          "type": "SAMPLE_SETTINGS",
          "links": [
            369
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffSamplingSettings"
      },
      "widgets_values": [
        0,
        "FreeNoise",
        "comfy",
        0,
        0,
        false
      ]
    },
    {
      "id": 162,
      "type": "ControlNetLoader",
      "pos": [
        1131.928211328125,
        608.5692679687502
      ],
      "size": {
        "0": 412.0341491699219,
        "1": 58
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            405
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11f1p_sd15_depth.safetensors"
      ]
    },
    {
      "id": 211,
      "type": "Reroute",
      "pos": [
        -530.0722236718756,
        8.715409980468744
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 494
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "links": [
            495
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 212,
      "type": "Reroute",
      "pos": [
        -460.0722236718754,
        -31.284590019531258
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 496
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP_VISION",
          "links": [
            497
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 213,
      "type": "Reroute",
      "pos": [
        -390.07222367187535,
        -51.284590019531294
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 498
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IPADAPTER",
          "links": [
            499
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 178,
      "type": "PrepImageForClipVision",
      "pos": [
        79.9277763281243,
        -421.28459001953104
      ],
      "size": {
        "0": 243.60000610351562,
        "1": 106
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 437
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            438
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "PrepImageForClipVision"
      },
      "widgets_values": [
        "LANCZOS",
        "pad",
        0
      ]
    },
    {
      "id": 214,
      "type": "Reroute",
      "pos": [
        319.92777632812454,
        -601.2845900195309
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 500
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IPADAPTER",
          "links": [
            501
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 215,
      "type": "Reroute",
      "pos": [
        309.9277763281244,
        -501.284590019531
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 504
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP_VISION",
          "links": [
            503
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 187,
      "type": "LoadImageMask",
      "pos": [
        -490.0722236718753,
        78.7154099804687
      ],
      "size": [
        236.3011932373047,
        317.99999809265137
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            450
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImageMask"
      },
      "widgets_values": [
        "mask 2.png",
        "green",
        "image"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 200,
      "type": "LoadImage",
      "pos": [
        31.928211328125002,
        638.5692679687502
      ],
      "size": {
        "0": 210,
        "1": 183.06056213378906
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            474
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "blank.png",
        "image"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 170,
      "type": "Reroute",
      "pos": [
        1950,
        1486
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 485
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "LATENT",
          "links": [
            420
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 168,
      "type": "Reroute",
      "pos": [
        2038,
        1546
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 416
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "links": [
            417
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 169,
      "type": "Reroute",
      "pos": [
        -428,
        1496
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 508
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "LATENT",
          "links": [
            485
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 167,
      "type": "Reroute",
      "pos": [
        -463,
        1547
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 455
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "links": [
            416
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 147,
      "type": "ModelSamplingDiscrete",
      "pos": [
        1220,
        -470
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 433,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            452
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ModelSamplingDiscrete"
      },
      "widgets_values": [
        "lcm",
        false
      ]
    },
    {
      "id": 72,
      "type": "ADE_UseEvolvedSampling",
      "pos": [
        1690,
        -227
      ],
      "size": {
        "0": 305.6752014160156,
        "1": 118
      },
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 452
        },
        {
          "name": "m_models",
          "type": "M_MODELS",
          "link": 177
        },
        {
          "name": "context_options",
          "type": "CONTEXT_OPTIONS",
          "link": 343,
          "slot_index": 2
        },
        {
          "name": "sample_settings",
          "type": "SAMPLE_SETTINGS",
          "link": 369,
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            181
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_UseEvolvedSampling"
      },
      "widgets_values": [
        "sqrt_linear (AnimateDiff)"
      ]
    },
    {
      "id": 71,
      "type": "ADE_LoadAnimateDiffModel",
      "pos": [
        890,
        -340
      ],
      "size": {
        "0": 308.58197021484375,
        "1": 58
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "ad_settings",
          "type": "AD_SETTINGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MOTION_MODEL",
          "type": "MOTION_MODEL_ADE",
          "links": [
            175
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_LoadAnimateDiffModel"
      },
      "widgets_values": [
        "AnimateLCM_sd15_t2v.ckpt"
      ]
    },
    {
      "id": 219,
      "type": "ImageBatchRepeatInterleaving",
      "pos": [
        586,
        640
      ],
      "size": {
        "0": 235.1999969482422,
        "1": 62.28269577026367
      },
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 515
        },
        {
          "name": "repeats",
          "type": "INT",
          "link": 514,
          "widget": {
            "name": "repeats"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            516
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBatchRepeatInterleaving"
      },
      "widgets_values": [
        200
      ]
    },
    {
      "id": 207,
      "type": "Reroute",
      "pos": [
        465.928211328125,
        562.5692679687502
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 517,
          "slot_index": 0,
          "widget": {
            "name": "value"
          }
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            514
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 159,
      "type": "DepthAnythingPreprocessor",
      "pos": [
        1261.928211328125,
        728.5692679687502
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 479,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            406
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthAnythingPreprocessor"
      },
      "widgets_values": [
        "depth_anything_vitl14.pth",
        512
      ]
    },
    {
      "id": 177,
      "type": "LoadImage",
      "pos": [
        -270.07222367187535,
        -421.28459001953104
      ],
      "size": {
        "0": 315,
        "1": 314
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            437
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "ComfyUI_temp_mvzpu_00008_.png",
        "image"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 70,
      "type": "ADE_ApplyAnimateDiffModelSimple",
      "pos": [
        1230,
        -340
      ],
      "size": {
        "0": 301.5458984375,
        "1": 106
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "motion_model",
          "type": "MOTION_MODEL_ADE",
          "link": 175,
          "slot_index": 0
        },
        {
          "name": "motion_lora",
          "type": "MOTION_LORA",
          "link": null,
          "slot_index": 1
        },
        {
          "name": "scale_multival",
          "type": "MULTIVAL",
          "link": null,
          "slot_index": 2
        },
        {
          "name": "effect_multival",
          "type": "MULTIVAL",
          "link": null,
          "slot_index": 3
        },
        {
          "name": "ad_keyframes",
          "type": "AD_KEYFRAMES",
          "link": null,
          "slot_index": 4
        }
      ],
      "outputs": [
        {
          "name": "M_MODELS",
          "type": "M_MODELS",
          "links": [
            177
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_ApplyAnimateDiffModelSimple"
      }
    },
    {
      "id": 197,
      "type": "OneFormer-COCO-SemSegPreprocessor",
      "pos": [
        326,
        963
      ],
      "size": {
        "0": 246.50091552734375,
        "1": 58
      },
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 488
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            465
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "OneFormer-COCO-SemSegPreprocessor"
      },
      "widgets_values": [
        512
      ]
    },
    {
      "id": 198,
      "type": "MaskFromColor+",
      "pos": [
        618,
        960
      ],
      "size": {
        "0": 210,
        "1": 130.0805206298828
      },
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 465
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            468
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskFromColor+"
      },
      "widgets_values": [
        220,
        20,
        60,
        0
      ]
    },
    {
      "id": 199,
      "type": "ImageCompositeMasked",
      "pos": [
        881,
        867
      ],
      "size": {
        "0": 315,
        "1": 146
      },
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "IMAGE",
          "link": 516,
          "slot_index": 0
        },
        {
          "name": "source",
          "type": "IMAGE",
          "link": 487
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 468
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            479
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCompositeMasked"
      },
      "widgets_values": [
        0,
        0,
        false
      ]
    },
    {
      "id": 174,
      "type": "IPAdapterApply",
      "pos": [
        499.92777632812454,
        -461.28459001953104
      ],
      "size": {
        "0": 315,
        "1": 258
      },
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 501,
          "slot_index": 0
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 503,
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 438,
          "slot_index": 2
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 535
        },
        {
          "name": "attn_mask",
          "type": "MASK",
          "link": 451,
          "slot_index": 4
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            433
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterApply"
      },
      "widgets_values": [
        1,
        0.3,
        "original",
        0,
        1,
        false
      ]
    },
    {
      "id": 160,
      "type": "ImageScale",
      "pos": [
        11.928211328125002,
        888.5692679687502
      ],
      "size": {
        "0": 237.7709197998047,
        "1": 130
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 387
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            487,
            488
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "lanczos",
        768,
        512,
        "center"
      ]
    },
    {
      "id": 202,
      "type": "ImageScale",
      "pos": [
        291.928211328125,
        638.5692679687502
      ],
      "size": {
        "0": 242.1208038330078,
        "1": 130
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 474
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            515
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "lanczos",
        768,
        512,
        "disabled"
      ]
    },
    {
      "id": 184,
      "type": "PrepImageForClipVision",
      "pos": [
        -925,
        -11
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 533
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            529
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "PrepImageForClipVision"
      },
      "widgets_values": [
        "LANCZOS",
        "center",
        0
      ]
    },
    {
      "id": 183,
      "type": "LoadImage",
      "pos": [
        -1283,
        -11
      ],
      "size": {
        "0": 328.7373046875,
        "1": 320.6669921875
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            533
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "ComfyUI_temp_kqpdj_00008_.png",
        "image"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 181,
      "type": "IPAdapterModelLoader",
      "pos": [
        -994,
        -602
      ],
      "size": {
        "0": 374.0920715332031,
        "1": 60.16712951660156
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "IPADAPTER",
          "type": "IPADAPTER",
          "links": [
            498,
            500
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterModelLoader"
      },
      "widgets_values": [
        "ip-adapter-plus_sd15.safetensors"
      ]
    },
    {
      "id": 182,
      "type": "CLIPVisionLoader",
      "pos": [
        -1000,
        -494
      ],
      "size": {
        "0": 400,
        "1": 58
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            496,
            504
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader"
      },
      "widgets_values": [
        "CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"
      ]
    },
    {
      "id": 164,
      "type": "ACN_AdvancedControlNetApply",
      "pos": [
        1651.928211328125,
        498.56926796874984
      ],
      "size": {
        "0": 355.20001220703125,
        "1": 266
      },
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 401
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 402
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 405
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 406
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null
        },
        {
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME",
          "link": null
        },
        {
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME",
          "link": null
        },
        {
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "link": null
        },
        {
          "name": "model_optional",
          "type": "MODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            481
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            482
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "model_opt",
          "type": "MODEL",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [
        1,
        0,
        1
      ]
    },
    {
      "id": 233,
      "type": "Note",
      "pos": [
        -237,
        287
      ],
      "size": [
        210,
        106.83276367187216
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This image has 2 colours, red for subject, green for background. Does not have to be precisely drawn. This is the same image as the other Load Image (as Mask) node. "
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 231,
      "type": "Note",
      "pos": [
        -937,
        246
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This image is your background"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 232,
      "type": "Note",
      "pos": [
        63,
        -166
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This image is your subject"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 236,
      "type": "Reroute",
      "pos": [
        262,
        -53
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 534
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "links": [
            535
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 188,
      "type": "LoadImageMask",
      "pos": [
        179,
        27
      ],
      "size": {
        "0": 230.0284423828125,
        "1": 336.2348937988281
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            451
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImageMask"
      },
      "widgets_values": [
        "mask 2 (1).png",
        "red",
        "image"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 235,
      "type": "Note",
      "pos": [
        429,
        247
      ],
      "size": {
        "0": 210,
        "1": 106.832763671875
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This image has 2 colours, red for subject, green for background. Does not have to be precisely drawn. This is the same image as the other Load Image (as Mask) node. "
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 237,
      "type": "Note",
      "pos": [
        -1495,
        693
      ],
      "size": [
        221.54150390624727,
        118.93161621093441
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This is how many frames you want to use to generate the final video. Reduce this number if you do not have lots of VRAM"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 230,
      "type": "Note",
      "pos": [
        -365,
        1092
      ],
      "size": [
        298.2416015624956,
        74.13173217773192
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This is your input video where the actions will drive what the subject will do in the generated video."
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 238,
      "type": "Note",
      "pos": [
        264,
        808
      ],
      "size": [
        242.74199218749789,
        69.23169250487967
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This is just a black image, we resize, so the size does not really matter. "
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 69,
      "type": "KSampler (Efficient)",
      "pos": [
        2403,
        479
      ],
      "size": {
        "0": 323.7059631347656,
        "1": 839.750244140625
      },
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 181
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 481
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 482
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 420
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": 417,
          "slot_index": 4
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [],
          "shape": 3,
          "slot_index": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [],
          "shape": 3,
          "slot_index": 4
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            341
          ],
          "shape": 3,
          "slot_index": 5
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        329184276119675,
        null,
        8,
        1,
        "lcm",
        "sgm_uniform",
        1,
        "taesd",
        "true"
      ],
      "shape": 1
    },
    {
      "id": 220,
      "type": "PrimitiveNode",
      "pos": [
        -1508,
        556
      ],
      "size": [
        237.93155937499887,
        82
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            517,
            518,
            519
          ],
          "slot_index": 0,
          "widget": {
            "name": "value"
          }
        }
      ],
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        200,
        "fixed"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 140,
      "type": "VHS_VideoCombine",
      "pos": [
        2809,
        574
      ],
      "size": [
        1276.6105395937375,
        1141.7403597291582
      ],
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 341
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null
        },
        {
          "name": "batch_manager",
          "type": "VHS_BatchManager",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 30,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AnimateDiff_00021.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4"
          }
        }
      }
    },
    {
      "id": 155,
      "type": "Efficient Loader",
      "pos": [
        -1155,
        472
      ],
      "size": {
        "0": 400,
        "1": 654
      },
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": null
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null
        },
        {
          "name": "batch_size",
          "type": "INT",
          "link": 518,
          "widget": {
            "name": "batch_size"
          }
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            494
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            401
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            402
          ],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            508
          ],
          "shape": 3,
          "slot_index": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            455
          ],
          "shape": 3,
          "slot_index": 4
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": null,
          "shape": 3
        },
        {
          "name": "DEPENDENCIES",
          "type": "DEPENDENCIES",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Efficient Loader"
      },
      "widgets_values": [
        "epicphotogasm_lastUnicorn.safetensors",
        "Baked VAE",
        -1,
        "SD1.5\\AnimateLCM_sd15_t2v_lora.safetensors",
        1,
        1,
        "white top",
        "nsfw, (nipples: 1.5), drawing, painting",
        "none",
        "comfy",
        768,
        512,
        200
      ],
      "color": "#443322",
      "bgcolor": "#665533",
      "shape": 1
    },
    {
      "id": 180,
      "type": "IPAdapterApply",
      "pos": [
        -190.07222367187552,
        -51.284590019531294
      ],
      "size": {
        "0": 315,
        "1": 258
      },
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 499,
          "slot_index": 0
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 497,
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 529,
          "slot_index": 2
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 495
        },
        {
          "name": "attn_mask",
          "type": "MASK",
          "link": 450,
          "slot_index": 4
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            534
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterApply"
      },
      "widgets_values": [
        1.4000000000000001,
        0.3,
        "original",
        0,
        1,
        false
      ]
    },
    {
      "id": 158,
      "type": "VHS_LoadVideo",
      "pos": [
        -377.071788671875,
        637.5692679687502
      ],
      "size": [
        325.6344299316406,
        403.91936683654785
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "batch_manager",
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "frame_load_cap",
          "type": "INT",
          "link": 519,
          "widget": {
            "name": "frame_load_cap"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            387
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": null,
          "shape": 3
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo"
      },
      "widgets_values": {
        "video": "WIN_20240325_22_44_27_Pro.mp4",
        "force_rate": 0,
        "force_size": "Disabled",
        "custom_width": 512,
        "custom_height": 512,
        "frame_load_cap": 200,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "choose video to upload": "image",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "frame_load_cap": 200,
            "skip_first_frames": 0,
            "force_rate": 0,
            "select_every_nth": 1,
            "filename": "WIN_20240325_22_44_27_Pro.mp4",
            "type": "input",
            "format": "video/mp4"
          }
        }
      },
      "color": "#223",
      "bgcolor": "#335"
    }
  ],
  "links": [
    [
      175,
      71,
      0,
      70,
      0,
      "MOTION_MODEL_ADE"
    ],
    [
      177,
      70,
      0,
      72,
      1,
      "M_MODELS"
    ],
    [
      181,
      72,
      0,
      69,
      0,
      "MODEL"
    ],
    [
      341,
      69,
      5,
      140,
      0,
      "IMAGE"
    ],
    [
      343,
      142,
      0,
      72,
      2,
      "CONTEXT_OPTIONS"
    ],
    [
      369,
      154,
      0,
      72,
      3,
      "SAMPLE_SETTINGS"
    ],
    [
      387,
      158,
      0,
      160,
      0,
      "IMAGE"
    ],
    [
      401,
      155,
      1,
      164,
      0,
      "CONDITIONING"
    ],
    [
      402,
      155,
      2,
      164,
      1,
      "CONDITIONING"
    ],
    [
      405,
      162,
      0,
      164,
      2,
      "CONTROL_NET"
    ],
    [
      406,
      159,
      0,
      164,
      3,
      "IMAGE"
    ],
    [
      416,
      167,
      0,
      168,
      0,
      "*"
    ],
    [
      417,
      168,
      0,
      69,
      4,
      "VAE"
    ],
    [
      420,
      170,
      0,
      69,
      3,
      "LATENT"
    ],
    [
      433,
      174,
      0,
      147,
      0,
      "MODEL"
    ],
    [
      437,
      177,
      0,
      178,
      0,
      "IMAGE"
    ],
    [
      438,
      178,
      0,
      174,
      2,
      "IMAGE"
    ],
    [
      450,
      187,
      0,
      180,
      4,
      "MASK"
    ],
    [
      451,
      188,
      0,
      174,
      4,
      "MASK"
    ],
    [
      452,
      147,
      0,
      72,
      0,
      "MODEL"
    ],
    [
      455,
      155,
      4,
      167,
      0,
      "*"
    ],
    [
      465,
      197,
      0,
      198,
      0,
      "IMAGE"
    ],
    [
      468,
      198,
      0,
      199,
      2,
      "MASK"
    ],
    [
      474,
      200,
      0,
      202,
      0,
      "IMAGE"
    ],
    [
      479,
      199,
      0,
      159,
      0,
      "IMAGE"
    ],
    [
      481,
      164,
      0,
      69,
      1,
      "CONDITIONING"
    ],
    [
      482,
      164,
      1,
      69,
      2,
      "CONDITIONING"
    ],
    [
      485,
      169,
      0,
      170,
      0,
      "*"
    ],
    [
      487,
      160,
      0,
      199,
      1,
      "IMAGE"
    ],
    [
      488,
      160,
      0,
      197,
      0,
      "IMAGE"
    ],
    [
      494,
      155,
      0,
      211,
      0,
      "*"
    ],
    [
      495,
      211,
      0,
      180,
      3,
      "MODEL"
    ],
    [
      496,
      182,
      0,
      212,
      0,
      "*"
    ],
    [
      497,
      212,
      0,
      180,
      1,
      "CLIP_VISION"
    ],
    [
      498,
      181,
      0,
      213,
      0,
      "*"
    ],
    [
      499,
      213,
      0,
      180,
      0,
      "IPADAPTER"
    ],
    [
      500,
      181,
      0,
      214,
      0,
      "*"
    ],
    [
      501,
      214,
      0,
      174,
      0,
      "IPADAPTER"
    ],
    [
      503,
      215,
      0,
      174,
      1,
      "CLIP_VISION"
    ],
    [
      504,
      182,
      0,
      215,
      0,
      "*"
    ],
    [
      508,
      155,
      3,
      169,
      0,
      "*"
    ],
    [
      514,
      207,
      0,
      219,
      1,
      "INT"
    ],
    [
      515,
      202,
      0,
      219,
      0,
      "IMAGE"
    ],
    [
      516,
      219,
      0,
      199,
      0,
      "IMAGE"
    ],
    [
      517,
      220,
      0,
      207,
      0,
      "*"
    ],
    [
      518,
      220,
      0,
      155,
      2,
      "INT"
    ],
    [
      519,
      220,
      0,
      158,
      1,
      "INT"
    ],
    [
      529,
      184,
      0,
      180,
      2,
      "IMAGE"
    ],
    [
      533,
      183,
      0,
      184,
      0,
      "IMAGE"
    ],
    [
      534,
      180,
      0,
      236,
      0,
      "*"
    ],
    [
      535,
      236,
      0,
      174,
      3,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "title": "IP Adapter",
      "bounding": [
        -1315,
        -712,
        2169,
        1128
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Control Net",
      "bounding": [
        -447,
        427,
        2488,
        1034
      ],
      "color": "#a1309b",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Animate Diff",
      "bounding": [
        877,
        -707,
        1156,
        1121
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    }
  ],
  "config": {},
  "extra": {
    "groupNodes": {}
  },
  "version": 0.4
}