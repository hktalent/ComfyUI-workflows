{"last_node_id": 62, "last_link_id": 137, "nodes": [{"id": 1, "type": "CheckpointLoaderSimple", "pos": [10, 170], "size": {"0": 430, "1": 100}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [68], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [69], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [26], "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["xl\\juggernautXL_v9Rdphoto2Lightning.safetensors"], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 19, "type": "Reroute", "pos": [1590, -180], "size": [75, 26], "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 47, "widget": {"name": "value"}}], "outputs": [{"name": "INT", "type": "INT", "links": [48], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 40, "type": "Reroute", "pos": [1340, -150], "size": [82, 26], "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 81}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [82], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 41, "type": "Reroute", "pos": [1590, -150], "size": [82, 26], "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 82}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [83], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 42, "type": "Reroute", "pos": [2060, -150], "size": [82, 26], "flags": {}, "order": 39, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 85}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [86], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 44, "type": "Bus Node", "pos": [550, -330], "size": {"0": 144.39999389648438, "1": 130}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "bus", "type": "BUS", "link": null}, {"name": "model", "type": "MODEL", "link": 89}, {"name": "clip", "type": "CLIP", "link": 90}, {"name": "vae", "type": "VAE", "link": 91}, {"name": "positive", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}], "outputs": [{"name": "bus", "type": "BUS", "links": [98], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": [], "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "Bus Node"}, "shape": 1}, {"id": 13, "type": "Reroute", "pos": [860, -180], "size": [75, 26], "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 33, "widget": {"name": "value"}}], "outputs": [{"name": "INT", "type": "INT", "links": [34, 47], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 36, "type": "CR Apply LoRA Stack", "pos": [240, 40], "size": {"0": 200, "1": 70}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 68}, {"name": "clip", "type": "CLIP", "link": 69}, {"name": "lora_stack", "type": "LORA_STACK", "link": 67}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [71], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [70, 102, 103], "shape": 3, "slot_index": 1}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "CR Apply LoRA Stack"}, "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 12, "type": "Reroute", "pos": [760, -180], "size": [75, 26], "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 32, "widget": {"name": "value"}}], "outputs": [{"name": "INT", "type": "INT", "links": [33], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 20, "type": "PreviewImage", "pos": [2059.808131837219, 40.70098828424702], "size": {"0": 480, "1": 1010}, "flags": {}, "order": 38, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 49}], "properties": {"Node name for S&R": "PreviewImage"}, "color": "#2a363b", "bgcolor": "#3f5159", "shape": 1}, {"id": 18, "type": "UpscaleModelLoader", "pos": [1710, 40], "size": {"0": 320, "1": 60}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [46], "shape": 3}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x_NMKD-Siax_200k.pth"], "color": "#2a363b", "bgcolor": "#3f5159", "shape": 1}, {"id": 37, "type": "Reroute", "pos": [430, -310], "size": [82, 26], "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 71}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [89], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 8, "type": "Reroute", "pos": [430, -280], "size": [75, 26], "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 70}], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [90], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 9, "type": "Reroute", "pos": [430, -250], "size": [75, 26], "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 26}], "outputs": [{"name": "VAE", "type": "VAE", "links": [91], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 17, "type": "Image Save", "pos": [1330, 40], "size": {"0": 310, "1": 850}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 107}], "properties": {"Node name for S&R": "Image Save"}, "widgets_values": ["[time(%Y-%m-%d)]_Lightning\\", "ComfyUI", "_", 4, "false", "png", 100, "false", "false", "false", "true", "true", "true"], "color": "#223", "bgcolor": "#335", "shape": 1}, {"id": 15, "type": "UltimateSDUpscale", "pos": [1710, 160], "size": {"0": 320, "1": 890}, "flags": {}, "order": 34, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 83}, {"name": "model", "type": "MODEL", "link": 77}, {"name": "positive", "type": "CONDITIONING", "link": 78}, {"name": "negative", "type": "CONDITIONING", "link": 79}, {"name": "vae", "type": "VAE", "link": 80}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 46, "slot_index": 5}, {"name": "seed", "type": "INT", "link": 48, "widget": {"name": "seed"}}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [49, 85], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [1.5, 228361032569353, "randomize", 4, 2.5, "dpmpp_sde", "karras", 0.16, "Linear", 920, 920, 8, 32, "None", 1, 64, 8, 16, true, false], "color": "#2a363b", "bgcolor": "#3f5159", "shape": 1}, {"id": 30, "type": "PreviewImage", "pos": [3490, 40], "size": {"0": 480, "1": 740}, "flags": {}, "order": 43, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 65}], "properties": {"Node name for S&R": "PreviewImage"}, "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 22, "type": "ToDetailerPipe", "pos": [2870, 40], "size": {"0": 262, "1": 290}, "flags": {}, "order": 40, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 111}, {"name": "clip", "type": "CLIP", "link": 112}, {"name": "vae", "type": "VAE", "link": 113}, {"name": "positive", "type": "CONDITIONING", "link": 56, "slot_index": 3}, {"name": "negative", "type": "CONDITIONING", "link": 59}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 136}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 63, "slot_index": 6}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": 137}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null}], "outputs": [{"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": [51], "shape": 3}], "properties": {"Node name for S&R": "ToDetailerPipe"}, "widgets_values": ["", "Select the LoRA to add to the text", "Select the Wildcard to add to the text"], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 28, "type": "SAMLoader", "pos": [2610, 380], "size": {"0": 260, "1": 82}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [63], "shape": 3}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_b_01ec64.pth", "AUTO"], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 43, "type": "Reroute", "pos": [3040, -150], "size": [82, 26], "flags": {}, "order": 41, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 86}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [87], "slot_index": 0}], "properties": {"showOutputText": true, "horizontal": false}, "shape": 1}, {"id": 35, "type": "LoRA Stacker", "pos": [10, 330], "size": {"0": 430, "1": 230}, "flags": {}, "order": 3, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}], "outputs": [{"name": "LORA_STACK", "type": "LORA_STACK", "links": [67], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "LoRA Stacker"}, "widgets_values": ["simple", 3, "xl\\add-detail-xl.safetensors", 1, 1, 1, "None", 0.9, 1, 1, "xl\\aesthetic_anime_v1s_xl.safetensors", 0.8, 1, 1, "xl\\Ais_Wallenstein_Bunny_xl_75_25_fp16.safetensors", 0.4, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 25, "type": "CLIPTextEncode", "pos": [2610, 220], "size": {"0": 230, "1": 110}, "flags": {}, "order": 37, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 58}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [59], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["colored sclera, \ndeformed, blurry, glitter, "], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 4, "type": "KSampler (Efficient)", "pos": [970, 40], "size": {"0": 330, "1": 850}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 100}, {"name": "positive", "type": "CONDITIONING", "link": 19}, {"name": "negative", "type": "CONDITIONING", "link": 18}, {"name": "latent_image", "type": "LATENT", "link": 6}, {"name": "optional_vae", "type": "VAE", "link": 101}, {"name": "script", "type": "SCRIPT", "link": null}, {"name": "seed", "type": "INT", "link": 34, "widget": {"name": "seed"}}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [23], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [24], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": null, "shape": 3}, {"name": "VAE", "type": "VAE", "links": [], "shape": 3, "slot_index": 4}, {"name": "IMAGE", "type": "IMAGE", "links": [81, 106], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": [0, null, 4, 2, "dpmpp_sde", "karras", 1, "latent2rgb", "true"], "color": "#223", "bgcolor": "#335", "shape": 1}, {"id": 26, "type": "UltralyticsDetectorProvider", "pos": [2610, 680], "size": {"0": 260, "1": 80}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [133], "shape": 3, "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [135], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/Eyeful_v1.pt"], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 59, "type": "Note", "pos": [2890, 560], "size": {"0": 240, "1": 120}, "flags": {}, "order": 5, "mode": 0, "properties": {"text": ""}, "widgets_values": ["\u2190Select true for Human/Realistc faces and false for everything else.\nAnd on Ultralitics Provider you can choose Eyeful for eyes only or FacesV1 for nom human faces.\nWatch this tutorial for faceDetailer node \nhttps://www.youtube.com/watch?v=_uaO7VOv3FA"], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 62, "type": "Note", "pos": [740, 580], "size": {"0": 210, "1": 60}, "flags": {}, "order": 6, "mode": 2, "properties": {"text": ""}, "widgets_values": ["\u2191Enable this node to enable image sharpening"], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 45, "type": "Bus Node", "pos": [790, -330], "size": {"0": 150, "1": 130}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "bus", "type": "BUS", "link": 98}, {"name": "model", "type": "MODEL", "link": null}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "vae", "type": "VAE", "link": null}, {"name": "positive", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}], "outputs": [{"name": "bus", "type": "BUS", "links": [99], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [100], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": [], "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [101], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "Bus Node"}, "shape": 1}, {"id": 39, "type": "Bus Node", "pos": [1550, -330], "size": {"0": 150, "1": 130}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "bus", "type": "BUS", "link": 75}, {"name": "model", "type": "MODEL", "link": null}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "vae", "type": "VAE", "link": null}, {"name": "positive", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}], "outputs": [{"name": "bus", "type": "BUS", "links": [76], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [77], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": null, "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [80], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [78], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [79], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "Bus Node"}, "shape": 1}, {"id": 7, "type": "Bus Node", "pos": [1340, -330], "size": {"0": 150, "1": 130}, "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "bus", "type": "BUS", "link": 99}, {"name": "model", "type": "MODEL", "link": null}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "vae", "type": "VAE", "link": null}, {"name": "positive", "type": "CONDITIONING", "link": 23}, {"name": "negative", "type": "CONDITIONING", "link": 24}], "outputs": [{"name": "bus", "type": "BUS", "links": [75], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": null, "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "Bus Node"}, "shape": 1}, {"id": 23, "type": "Bus Node", "pos": [2390, -330], "size": {"0": 150, "1": 130}, "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "bus", "type": "BUS", "link": 76}, {"name": "model", "type": "MODEL", "link": null}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "vae", "type": "VAE", "link": null}, {"name": "positive", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}], "outputs": [{"name": "bus", "type": "BUS", "links": [110], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": [57, 58], "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "Bus Node"}, "shape": 1}, {"id": 51, "type": "Bus Node", "pos": [2680, -330], "size": {"0": 150, "1": 130}, "flags": {}, "order": 35, "mode": 0, "inputs": [{"name": "bus", "type": "BUS", "link": 110}, {"name": "model", "type": "MODEL", "link": null}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "vae", "type": "VAE", "link": null}, {"name": "positive", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}], "outputs": [{"name": "bus", "type": "BUS", "links": null, "shape": 3}, {"name": "model", "type": "MODEL", "links": [111], "shape": 3, "slot_index": 1}, {"name": "clip", "type": "CLIP", "links": [112], "shape": 3, "slot_index": 2}, {"name": "vae", "type": "VAE", "links": [113], "shape": 3, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 4}, {"name": "negative", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "Bus Node"}, "shape": 1}, {"id": 47, "type": "ImageSharpen", "pos": [3760, 840], "size": {"0": 210, "1": 110}, "flags": {}, "order": 44, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 105, "slot_index": 0}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [104], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageSharpen"}, "widgets_values": [1, 0.30000000000000004, 0.30000000000000004], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 52, "type": "Note", "pos": [1330, 950], "size": {"0": 310, "1": 60}, "flags": {}, "order": 7, "mode": 0, "properties": {"text": ""}, "widgets_values": ["\u2191Enable this to save the first generation."], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 3, "type": "CLIPTextEncode", "pos": [510.2610079920371, 272.1358302532938], "size": {"0": 430, "1": 90}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 103}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [18], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["blurry, night, dark, \nbig head, chibi, colored sclera, \n(open mouth:1.1), "], "color": "#322", "bgcolor": "#533", "shape": 1}, {"id": 11, "type": "Seed (rgthree)", "pos": [510, 420], "size": {"0": 210, "1": 130}, "flags": {}, "order": 8, "mode": 0, "outputs": [{"name": "SEED", "type": "INT", "links": [32], "shape": 3, "dir": 4, "slot_index": 0}], "properties": {"Node name for S&R": "Seed (rgthree)"}, "widgets_values": [153527051626593, null, null, null], "color": "#223", "bgcolor": "#335", "shape": 1}, {"id": 48, "type": "ImageSharpen", "pos": [740, 420], "size": {"0": 210, "1": 110}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 106}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [107], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageSharpen"}, "widgets_values": [1, 0.30000000000000004, 0.30000000000000004], "color": "#223", "bgcolor": "#335", "shape": 1}, {"id": 31, "type": "PreviewImage", "pos": [3490, 840], "size": {"0": 240, "1": 250}, "flags": {}, "order": 45, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 66}], "properties": {"Node name for S&R": "PreviewImage"}, "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 60, "type": "Note", "pos": [3760, 1000], "size": {"0": 210, "1": 90}, "flags": {}, "order": 9, "mode": 0, "properties": {"text": ""}, "widgets_values": ["\u2191Enable this node to enable image sharpening"], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 5, "type": "CR SDXL Aspect Ratio", "pos": [510, 610], "size": {"0": 220, "1": 280}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "width", "type": "INT", "links": null, "shape": 3}, {"name": "height", "type": "INT", "links": null, "shape": 3}, {"name": "upscale_factor", "type": "FLOAT", "links": null, "shape": 3}, {"name": "batch_size", "type": "INT", "links": null, "shape": 3}, {"name": "empty_latent", "type": "LATENT", "links": [6], "shape": 3, "slot_index": 4}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR SDXL Aspect Ratio"}, "widgets_values": [720, 1280, "custom", "Off", 1, 1], "color": "#223", "bgcolor": "#335", "shape": 1}, {"id": 24, "type": "CLIPTextEncode", "pos": [2610, 40], "size": {"0": 230, "1": 120}, "flags": {}, "order": 36, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 57}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [56], "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["blue eyes, long eyelashes, "], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 58, "type": "workflow/Switch Detector", "pos": [2610, 510], "size": {"0": 260, "1": 120}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "bbox1", "type": "*", "link": 132}, {"name": "bbox2", "type": "*", "link": 133}, {"name": "segm1", "type": "*", "link": 134}, {"name": "segm2", "type": "*", "link": 135}], "outputs": [{"name": "BBOX", "type": "*", "links": [136], "shape": 3, "slot_index": 0}, {"name": "SEGM", "type": "*", "links": [137], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "workflow/Switch Detector"}, "widgets_values": [true], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 46, "type": "Image Save", "pos": [4000, 40], "size": {"0": 390, "1": 1050}, "flags": {}, "order": 46, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 104}], "properties": {"Node name for S&R": "Image Save"}, "widgets_values": ["[time(%Y-%m-%d)]_Lightning\\Upscale", "ComfyUI", "_", 4, "false", "png", 100, "false", "false", "false", "true", "true", "true"], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 61, "type": "Note", "pos": [3160, 1030], "size": {"0": 310, "1": 60}, "flags": {}, "order": 11, "mode": 0, "properties": {"text": ""}, "widgets_values": ["\u2191On this node you can change the sampler, scheduler, cfg and steps for fast generation or leave at euler_a for more details."], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 21, "type": "FaceDetailerPipe", "pos": [3160, 40], "size": {"0": 304, "1": 950}, "flags": {}, "order": 42, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 87}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "link": 51, "slot_index": 1}, {"name": "seed", "type": "INT", "link": 64, "widget": {"name": "seed"}}], "outputs": [{"name": "image", "type": "IMAGE", "links": [65, 105], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": null, "shape": 6}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": [66], "shape": 6, "slot_index": 2}, {"name": "mask", "type": "MASK", "links": null, "shape": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6}], "properties": {"Node name for S&R": "FaceDetailerPipe"}, "widgets_values": [768, true, 1080, 674183425900043, "randomize", 9, 5, "euler_ancestral", "normal", 0.3, 20, true, true, 0.92, 45, 1.5, "center-1", 35, 0.93, 35, 0.7, "False", 10, 0.2, 1, false, 0], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 29, "type": "Seed (rgthree)", "pos": [2890, 380], "size": {"0": 240, "1": 130}, "flags": {}, "order": 12, "mode": 0, "outputs": [{"name": "SEED", "type": "INT", "links": [64], "shape": 3, "dir": 4, "slot_index": 0}], "properties": {"Node name for S&R": "Seed (rgthree)"}, "widgets_values": [112400826379072, null, null, null], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 50, "type": "MediaPipeFaceMeshDetectorProvider //Inspire", "pos": [2610, 810], "size": {"0": 294, "1": 270}, "flags": {}, "order": 13, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [132], "shape": 3, "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [134], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "MediaPipeFaceMeshDetectorProvider //Inspire"}, "widgets_values": [10, false, false, false, true, false, false, true, false], "color": "#233", "bgcolor": "#355", "shape": 1}, {"id": 2, "type": "CLIPTextEncode", "pos": [510.2610079920371, 42.135830253293854], "size": {"0": 430, "1": 170}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 102}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [19], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["aqua short hair, blue eyes, futuristc technology armor, red and silver neon lights gold trim, \nphoto background, "], "color": "#232", "bgcolor": "#353", "shape": 1}], "links": [[6, 5, 4, 4, 3, "LATENT"], [18, 3, 0, 4, 2, "CONDITIONING"], [19, 2, 0, 4, 1, "CONDITIONING"], [23, 4, 1, 7, 4, "CONDITIONING"], [24, 4, 2, 7, 5, "CONDITIONING"], [26, 1, 2, 9, 0, "*"], [32, 11, 0, 12, 0, "*"], [33, 12, 0, 13, 0, "*"], [34, 13, 0, 4, 6, "INT"], [46, 18, 0, 15, 5, "UPSCALE_MODEL"], [47, 13, 0, 19, 0, "*"], [48, 19, 0, 15, 6, "INT"], [49, 15, 0, 20, 0, "IMAGE"], [51, 22, 0, 21, 1, "DETAILER_PIPE"], [56, 24, 0, 22, 3, "CONDITIONING"], [57, 23, 2, 24, 0, "CLIP"], [58, 23, 2, 25, 0, "CLIP"], [59, 25, 0, 22, 4, "CONDITIONING"], [63, 28, 0, 22, 6, "SAM_MODEL"], [64, 29, 0, 21, 2, "INT"], [65, 21, 0, 30, 0, "IMAGE"], [66, 21, 2, 31, 0, "IMAGE"], [67, 35, 0, 36, 2, "LORA_STACK"], [68, 1, 0, 36, 0, "MODEL"], [69, 1, 1, 36, 1, "CLIP"], [70, 36, 1, 8, 0, "*"], [71, 36, 0, 37, 0, "*"], [75, 7, 0, 39, 0, "BUS"], [76, 39, 0, 23, 0, "BUS"], [77, 39, 1, 15, 1, "MODEL"], [78, 39, 4, 15, 2, "CONDITIONING"], [79, 39, 5, 15, 3, "CONDITIONING"], [80, 39, 3, 15, 4, "VAE"], [81, 4, 5, 40, 0, "*"], [82, 40, 0, 41, 0, "*"], [83, 41, 0, 15, 0, "IMAGE"], [85, 15, 0, 42, 0, "*"], [86, 42, 0, 43, 0, "*"], [87, 43, 0, 21, 0, "IMAGE"], [89, 37, 0, 44, 1, "MODEL"], [90, 8, 0, 44, 2, "CLIP"], [91, 9, 0, 44, 3, "VAE"], [98, 44, 0, 45, 0, "BUS"], [99, 45, 0, 7, 0, "BUS"], [100, 45, 1, 4, 0, "MODEL"], [101, 45, 3, 4, 4, "VAE"], [102, 36, 1, 2, 0, "CLIP"], [103, 36, 1, 3, 0, "CLIP"], [104, 47, 0, 46, 0, "IMAGE"], [105, 21, 0, 47, 0, "IMAGE"], [106, 4, 5, 48, 0, "IMAGE"], [107, 48, 0, 17, 0, "IMAGE"], [110, 23, 0, 51, 0, "BUS"], [111, 51, 1, 22, 0, "MODEL"], [112, 51, 2, 22, 1, "CLIP"], [113, 51, 3, 22, 2, "VAE"], [132, 50, 0, 58, 0, "*"], [133, 26, 0, 58, 1, "*"], [134, 50, 1, 58, 2, "*"], [135, 26, 1, 58, 3, "*"], [136, 58, 0, 22, 5, "BBOX_DETECTOR"], [137, 58, 1, 22, 7, "SEGM_DETECTOR"]], "groups": [{"title": "Load Model and LoRa's", "bounding": [0, -34, 450, 934], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "", "bounding": [501, -33, 1149, 933], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Upscale", "bounding": [1700, -33, 850, 1133], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Face/Eyes Detailer", "bounding": [2601, -33, 1800, 1133], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Bus Nodes", "bounding": [401, -400, 3299, 300], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {"groupNodes": {"Switch Detector": {"nodes": [{"type": "Primitive boolean [Crystools]", "pos": [2930, 860], "size": {"0": 210, "1": 60}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "boolean", "type": "BOOLEAN", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Primitive boolean [Crystools]"}, "widgets_values": [true], "index": 0}, {"type": "Switch any [Crystools]", "pos": [2930, 730], "size": {"0": 210, "1": 80}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "on_true", "type": "*", "link": null, "slot_index": 0, "label": "bbox1"}, {"name": "on_false", "type": "*", "link": null, "label": "bbox2"}, {"name": "boolean", "type": "BOOLEAN", "link": null, "widget": {"name": "boolean"}, "slot_index": 2}], "outputs": [{"name": "*", "type": "*", "links": null, "shape": 3, "label": "BBOX"}], "title": "\ud83e\ude9b Switch BBOX", "properties": {"Node name for S&R": "Switch any [Crystools]"}, "widgets_values": [true], "index": 1}, {"type": "Switch any [Crystools]", "pos": [2930, 590], "size": {"0": 210, "1": 80}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "on_true", "type": "*", "link": null, "label": "segm1"}, {"name": "on_false", "type": "*", "link": null, "label": "segm2"}, {"name": "boolean", "type": "BOOLEAN", "link": null, "widget": {"name": "boolean"}}], "outputs": [{"name": "*", "type": "*", "links": null, "shape": 3, "label": "SEGM"}], "title": "\ud83e\ude9b Switch SEGM", "properties": {"Node name for S&R": "Switch any [Crystools]"}, "widgets_values": [true], "index": 2}], "links": [[null, 0, 1, 0, 50, "BBOX_DETECTOR"], [null, 0, 1, 1, 26, "BBOX_DETECTOR"], [0, 0, 1, 2, 57, "BOOLEAN"], [null, 1, 2, 0, 50, "SEGM_DETECTOR"], [null, 1, 2, 1, 26, "SEGM_DETECTOR"], [0, 0, 2, 2, 57, "BOOLEAN"]], "external": []}}}, "version": 0.4}