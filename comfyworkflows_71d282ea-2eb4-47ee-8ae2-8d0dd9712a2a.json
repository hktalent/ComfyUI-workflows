{"last_node_id": 1001, "last_link_id": 2273, "nodes": [{"id": 472, "type": "PreviewImage", "pos": [760, -270], "size": {"0": 760, "1": 1090}, "flags": {"pinned": true}, "order": 62, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 2262}], "title": "Preview Ultimate SD Upscale", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 776, "type": "Text to Conditioning", "pos": [1810, 1200], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 67, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 1774}, {"name": "text", "type": "STRING", "link": 1775, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [1931], "shape": 3, "slot_index": 0}], "title": "CONDITION NEG", "properties": {"Node name for S&R": "Text to Conditioning"}, "widgets_values": [""], "color": "#322", "bgcolor": "#533"}, {"id": 143, "type": "UltralyticsDetectorProvider", "pos": [1750, 1240], "size": {"0": 290, "1": 80}, "flags": {"pinned": false}, "order": 0, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [1923], "shape": 3, "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": null, "shape": 3}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/face_yolov8n_v2.pt"], "color": "#323", "bgcolor": "#535"}, {"id": 144, "type": "SAMLoader", "pos": [1750, 1360], "size": {"0": 290, "1": 82}, "flags": {"pinned": false}, "order": 1, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [1924], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_b_01ec64.pth", "Prefer GPU"], "color": "#323", "bgcolor": "#535"}, {"id": 720, "type": "PlaySound|pysssss", "pos": [2050, 1700], "size": {"0": 315, "1": 82}, "flags": {"collapsed": true}, "order": 70, "mode": 0, "inputs": [{"name": "any", "type": "*", "link": 1927, "slot_index": 0}], "properties": {"Node name for S&R": "PlaySound|pysssss"}, "widgets_values": ["always", 0.5], "color": "#432", "bgcolor": "#653"}, {"id": 155, "type": "MaskToImage", "pos": [2370, 990], "size": {"0": 220, "1": 30}, "flags": {"pinned": false, "collapsed": true}, "order": 73, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 1926}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [308], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MaskToImage"}}, {"id": 856, "type": "PlaySound|pysssss", "pos": [2570, 1650], "size": {"0": 315, "1": 82}, "flags": {"collapsed": true}, "order": 77, "mode": 0, "inputs": [{"name": "any", "type": "*", "link": 1943, "slot_index": 0}], "properties": {"Node name for S&R": "PlaySound|pysssss"}, "widgets_values": ["always", 0.5], "color": "#432", "bgcolor": "#653"}, {"id": 848, "type": "MaskToImage", "pos": [2890, 990], "size": {"0": 210, "1": 26}, "flags": {"pinned": false, "collapsed": true}, "order": 79, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 1913}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [1912], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MaskToImage"}}, {"id": 849, "type": "PreviewImage", "pos": [2890, 1030], "size": {"0": 190, "1": 250}, "flags": {"pinned": false}, "order": 81, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 1912}], "title": "Mask", "properties": {"Node name for S&R": "PreviewImage"}, "color": "#323", "bgcolor": "#535"}, {"id": 867, "type": "Text to Conditioning", "pos": [1810, 1160], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 68, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 1957}, {"name": "text", "type": "STRING", "link": 1956, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [1961], "shape": 3, "slot_index": 0}], "title": "CONDITION POS", "properties": {"Node name for S&R": "Text to Conditioning"}, "widgets_values": [""], "color": "#232", "bgcolor": "#353"}, {"id": 857, "type": "PreviewImage", "pos": [1530, -270], "size": {"0": 760, "1": 1090}, "flags": {"pinned": true}, "order": 71, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 1944}], "title": "Preview Image After Detailer X1", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 851, "type": "PreviewImage", "pos": [2300, -270], "size": {"0": 760, "1": 1090}, "flags": {"pinned": true}, "order": 76, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 1915}], "title": "Preview Image After Detailer X2", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 854, "type": "FaceDetailer", "pos": [2050, 900], "size": {"0": 304, "1": 760}, "flags": {"pinned": false, "collapsed": false}, "order": 69, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 2095, "slot_index": 0}, {"name": "model", "type": "MODEL", "link": 1918}, {"name": "clip", "type": "CLIP", "link": 1919}, {"name": "vae", "type": "VAE", "link": 1920, "slot_index": 3}, {"name": "positive", "type": "CONDITIONING", "link": 1961}, {"name": "negative", "type": "CONDITIONING", "link": 1931}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 1923}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 1924}, {"name": "seed", "type": "INT", "link": 1967, "widget": {"name": "seed"}, "slot_index": 12}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null, "slot_index": 9}], "outputs": [{"name": "image", "type": "IMAGE", "links": [1927, 1933, 1944, 2159], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": null, "shape": 6}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": null, "shape": 6}, {"name": "mask", "type": "MASK", "links": [1926], "shape": 3, "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": [1929], "shape": 3, "slot_index": 4}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6}], "title": "Face Detailer", "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [256, true, 384, 2024, "increment", 5, 1.5, "lcm", "sgm_uniform", 0.4, 4, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7000000000000001, "False", 10, ""], "color": "#323", "bgcolor": "#535"}, {"id": 186, "type": "Note", "pos": [1530, 1210], "size": {"0": 210, "1": 190}, "flags": {"pinned": false, "collapsed": false}, "order": 2, "mode": 0, "title": "Note After Detailer", "properties": {"text": ""}, "widgets_values": ["Make sure to download your models from the \"Install Models\" section of the Manager. Once downloaded (and ComfyUI restarted), select your specific models manually for these nodes.\n\nSeed controlled locally for repeat generation of faces without regenerating all images prior."], "color": "#323", "bgcolor": "#535"}, {"id": 847, "type": "FaceDetailerPipe", "pos": [2570, 900], "size": {"0": 304, "1": 710}, "flags": {}, "order": 74, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 1933}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "link": 1929}, {"name": "seed", "type": "INT", "link": 1947, "widget": {"name": "seed"}}], "outputs": [{"name": "image", "type": "IMAGE", "links": [1915, 1943, 2160], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": null, "shape": 6}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": null, "shape": 6}, {"name": "mask", "type": "MASK", "links": [1913], "shape": 3, "slot_index": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6}], "title": "Face Detailer X2", "properties": {"Node name for S&R": "FaceDetailerPipe"}, "widgets_values": [512, true, 768, 188681876793290, "fixed", 5, 1.5, "lcm", "sgm_uniform", 0.3, 3, true, true, 0.3, 10, 3, "center-1", 10, 0.93, 0, 0.7, "False", 10, 0.2], "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 959, "type": "Reroute", "pos": [-560, -340], "size": [75, 26], "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2209}], "outputs": [{"name": "", "type": "STRING", "links": [2174], "label": "NEG", "slot_index": 0}], "title": "NEG", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#322", "bgcolor": "#533"}, {"id": 965, "type": "Reroute", "pos": [-560, -370], "size": [75, 26], "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2206}], "outputs": [{"name": "", "type": "STRING", "links": [2208], "label": "POS_1", "slot_index": 0}], "title": "POS_1", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#232", "bgcolor": "#353"}, {"id": 960, "type": "Reroute", "pos": [2800, -340], "size": [75, 26], "flags": {}, "order": 34, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2174}], "outputs": [{"name": "", "type": "STRING", "links": [2175], "slot_index": 0, "label": "NEG"}], "title": "NEG", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#322", "bgcolor": "#533"}, {"id": 958, "type": "Reroute", "pos": [2800, -370], "size": [75, 26], "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2208}], "outputs": [{"name": "", "type": "STRING", "links": [2172], "label": "POS", "slot_index": 0}], "title": "POS", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#232", "bgcolor": "#353"}, {"id": 967, "type": "Reroute", "pos": [780, -400], "size": [75, 26], "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2186}], "outputs": [{"name": "", "type": "INT", "links": [2187], "label": "SEED", "slot_index": 0}], "title": "SEED", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#223", "bgcolor": "#335"}, {"id": 948, "type": "Reroute", "pos": [780, -430], "size": [75, 26], "flags": {}, "order": 3, "mode": 0, "inputs": [{"name": "", "type": "*", "link": null}], "outputs": [{"name": "", "type": "*", "links": [2164], "label": "TXT2IMG", "slot_index": 0}], "title": "TXT2IMG", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 772, "type": "Reroute", "pos": [780, -490], "size": [75, 26], "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2223}], "outputs": [{"name": "", "type": "INT", "links": [1753, 2190], "label": "WIDTH", "slot_index": 0}], "title": "WIDTH", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#432", "bgcolor": "#653"}, {"id": 773, "type": "Reroute", "pos": [780, -460], "size": [75, 26], "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2043}], "outputs": [{"name": "", "type": "INT", "links": [1754, 2189], "label": "HEIGTH", "slot_index": 0}], "title": "HEIGTH", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#332922", "bgcolor": "#593930"}, {"id": 949, "type": "Reroute", "pos": [1550, -430], "size": [75, 26], "flags": {}, "order": 61, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2158}], "outputs": [{"name": "", "type": "IMAGE", "links": [2163], "label": "USDU", "slot_index": 0}], "title": "USDU", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 950, "type": "Reroute", "pos": [2400, -430], "size": [75, 26], "flags": {}, "order": 72, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2159}], "outputs": [{"name": "", "type": "IMAGE", "links": [2162], "label": "AD_1", "slot_index": 0}], "title": "AD_1", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 968, "type": "Reroute", "pos": [2800, -400], "size": [75, 26], "flags": {}, "order": 41, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2187}], "outputs": [{"name": "", "type": "INT", "links": [2188], "label": "SEED", "slot_index": 0}], "title": "SEED", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#223", "bgcolor": "#335"}, {"id": 970, "type": "Reroute", "pos": [2800, -430], "size": [75, 26], "flags": {}, "order": 35, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2190}], "outputs": [{"name": "", "type": "INT", "links": [2191], "slot_index": 0, "label": "WIDTH"}], "title": "WIDTH", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#432", "bgcolor": "#653"}, {"id": 969, "type": "Reroute", "pos": [2800, -460], "size": [75, 26], "flags": {}, "order": 36, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2189}], "outputs": [{"name": "", "type": "INT", "links": [2192], "slot_index": 0, "label": "HEIGHT"}], "title": "HEIGHT", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#332922", "bgcolor": "#593930"}, {"id": 952, "type": "Reroute", "pos": [2960, -460], "size": [75, 26], "flags": {}, "order": 78, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2160}], "outputs": [{"name": "", "type": "IMAGE", "links": [2161], "label": "AD_2", "slot_index": 0}], "title": "AD_2", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 841, "type": "PreviewImage", "pos": [-361.3755982558058, 1541.1726081670763], "size": {"0": 240, "1": 420}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 2122}], "title": "Preview Depth", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 896, "type": "PreviewImage", "pos": [-111.37559825580641, 1541.1726081670763], "size": {"0": 240, "1": 420}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 2010}], "title": "Preview Pose", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 774, "type": "CR Module Input", "pos": [1530, 970], "size": {"0": 210, "1": 206}, "flags": {"collapsed": false, "pinned": false}, "order": 66, "mode": 0, "inputs": [{"name": "pipe", "type": "PIPE_LINE", "link": 2226}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [1918], "shape": 3, "slot_index": 1}, {"name": "pos", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 2}, {"name": "neg", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 3}, {"name": "latent", "type": "LATENT", "links": [], "shape": 3, "slot_index": 4}, {"name": "vae", "type": "VAE", "links": [1920], "shape": 3, "slot_index": 5}, {"name": "clip", "type": "CLIP", "links": [1774, 1919, 1957], "shape": 3, "slot_index": 6}, {"name": "controlnet", "type": "CONTROL_NET", "links": null, "shape": 3}, {"name": "image", "type": "IMAGE", "links": [2095], "shape": 3, "slot_index": 8}, {"name": "seed", "type": "INT", "links": [1947], "shape": 3, "slot_index": 9}], "title": "SDXL PIPE OUT", "properties": {"Node name for S&R": "CR Module Input"}, "color": "#432", "bgcolor": "#653"}, {"id": 770, "type": "EmptyLatentImage", "pos": [-1120, 810], "size": {"0": 210, "1": 80}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "width", "type": "INT", "link": 1747, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 1748, "widget": {"name": "height"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [1749], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [512, 512, 1], "color": "#323", "bgcolor": "#535"}, {"id": 471, "type": "PreviewImage", "pos": [-10, -270], "size": {"0": 760, "1": 1090}, "flags": {"pinned": true}, "order": 56, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 2237}], "title": "Preview Text to Image or Control Net", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 951, "type": "CR Image Input Switch (4 way)", "pos": [3070, -520], "size": {"0": 220, "1": 120}, "flags": {}, "order": 80, "mode": 0, "inputs": [{"name": "image1", "type": "IMAGE", "link": 2164}, {"name": "image2", "type": "IMAGE", "link": 2163}, {"name": "image3", "type": "IMAGE", "link": 2162}, {"name": "image4", "type": "IMAGE", "link": 2161}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [2165], "shape": 3, "slot_index": 0}], "title": "\ud83d\udd00 FINAL IMG", "properties": {"Node name for S&R": "CR Image Input Switch (4 way)"}, "widgets_values": [4]}, {"id": 947, "type": "Save Image w/Metadata", "pos": [3070, -370], "size": {"0": 370, "1": 480}, "flags": {}, "order": 82, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 2165}, {"name": "positive", "type": "STRING", "link": 2172, "widget": {"name": "positive"}}, {"name": "negative", "type": "STRING", "link": 2175, "widget": {"name": "negative"}}, {"name": "seed_value", "type": "INT", "link": 2188, "widget": {"name": "seed_value"}, "slot_index": 3}, {"name": "width", "type": "INT", "link": 2191, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 2192, "widget": {"name": "height"}}], "properties": {"Node name for S&R": "Save Image w/Metadata"}, "widgets_values": ["%time_%seed", "E:\\AI\\.public\\Text-To-Image\\IMG\\FINALMETA", "png", 8, 1.8, "SDXL_UnstableDiffusers_V8.safetensors", "lcm", "sgm_uniform", "unknown", "unknown", 0, 512, 512, true, 100, 0, "%Y-%m-%d-%H%M%S"], "color": "#323", "bgcolor": "#535"}, {"id": 927, "type": "ModelSamplingDiscrete", "pos": [-470, 400], "size": {"0": 210, "1": 82}, "flags": {}, "order": 42, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 2121}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ModelSamplingDiscrete"}, "widgets_values": ["lcm", false], "color": "#232", "bgcolor": "#353"}, {"id": 916, "type": "MiDaS-DepthMapPreprocessor", "pos": [-580, 1050], "size": {"0": 210, "1": 110}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 2049}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [2122, 2123], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MiDaS-DepthMapPreprocessor"}, "widgets_values": [6.4, 0.1, 1024]}, {"id": 895, "type": "OpenposePreprocessor", "pos": [-580, 1210], "size": {"0": 210, "1": 130}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 2009}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [2010, 2136], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "OpenposePreprocessor"}, "widgets_values": ["enable", "enable", "enable", "v1.1"]}, {"id": 902, "type": "CR Apply Multi-ControlNet", "pos": [150, 1050], "size": {"0": 243.60000610351562, "1": 100}, "flags": {}, "order": 51, "mode": 0, "inputs": [{"name": "base_positive", "type": "CONDITIONING", "link": 2028}, {"name": "base_negative", "type": "CONDITIONING", "link": 2029}, {"name": "controlnet_stack", "type": "CONTROL_NET_STACK", "link": 2019}], "outputs": [{"name": "base_pos", "type": "CONDITIONING", "links": [2021], "shape": 3, "slot_index": 0}, {"name": "base_neg", "type": "CONDITIONING", "links": [2022], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "CR Apply Multi-ControlNet"}, "widgets_values": ["On"]}, {"id": 843, "type": "VAEDecode", "pos": [500, 1290], "size": {"0": 210, "1": 46}, "flags": {}, "order": 53, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 1893}, {"name": "vae", "type": "VAE", "link": 1894}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [1907, 2132, 2237], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 938, "type": "PlaySound|pysssss", "pos": [500, 1380], "size": {"0": 210, "1": 82}, "flags": {"collapsed": true}, "order": 55, "mode": 0, "inputs": [{"name": "any", "type": "*", "link": 2132}], "properties": {"Node name for S&R": "PlaySound|pysssss"}, "widgets_values": ["always", 0.5], "color": "#432", "bgcolor": "#653"}, {"id": 831, "type": "CR Module Pipe Loader", "pos": [500, 1060], "size": {"0": 210, "1": 194}, "flags": {"pinned": false, "collapsed": false}, "order": 54, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 1900}, {"name": "pos", "type": "CONDITIONING", "link": 2089}, {"name": "neg", "type": "CONDITIONING", "link": 2090}, {"name": "latent", "type": "LATENT", "link": 1901, "slot_index": 3}, {"name": "vae", "type": "VAE", "link": 1902}, {"name": "clip", "type": "CLIP", "link": 1849}, {"name": "controlnet", "type": "CONTROL_NET", "link": null}, {"name": "image", "type": "IMAGE", "link": 1907}, {"name": "seed", "type": "INT", "link": 2236, "widget": {"name": "seed"}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [2239, 2240], "shape": 3, "slot_index": 0}], "title": "SDXL PIPE OUT", "properties": {"Node name for S&R": "CR Module Pipe Loader"}, "widgets_values": [232690408163895, "randomize"], "color": "#232", "bgcolor": "#353"}, {"id": 943, "type": "Note", "pos": [-10, 850], "size": {"0": 760, "1": 120}, "flags": {"collapsed": false}, "order": 4, "mode": 0, "title": "Note CTRLNET", "properties": {"text": ""}, "widgets_values": ["Control Net:\n\nTTxt2IMG/CTRLN - Turn off the Control Net in the Control Net Stack for basic Text to Image generation."], "color": "#323", "bgcolor": "#535"}, {"id": 827, "type": "LoadImage", "pos": [-890, 1050], "size": {"0": 300, "1": 430}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [2009, 2049], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["Velma_POSE.png", "image"]}, {"id": 485, "type": "BNK_CutoffSetRegions", "pos": [-560, 30], "size": {"0": 220, "1": 130}, "flags": {}, "order": 45, "mode": 0, "inputs": [{"name": "clip_regions", "type": "CLIPREGION", "link": 2152}], "outputs": [{"name": "CLIPREGION", "type": "CLIPREGION", "links": [2153], "slot_index": 0}], "properties": {"Node name for S&R": "BNK_CutoffSetRegions"}, "widgets_values": ["Yellow reading glasses", "Yellow", 1], "color": "#332922", "bgcolor": "#593930"}, {"id": 156, "type": "PreviewImage", "pos": [2370, 1030], "size": {"0": 180, "1": 250}, "flags": {"pinned": false}, "order": 75, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 308}], "title": "Mask", "properties": {"Node name for S&R": "PreviewImage"}, "color": "#323", "bgcolor": "#535"}, {"id": 900, "type": "CR Multi-ControlNet Stack", "pos": [-360, 1050], "size": {"0": 490, "1": 454}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "image_1", "type": "IMAGE", "link": 2123}, {"name": "image_2", "type": "IMAGE", "link": 2136}, {"name": "image_3", "type": "IMAGE", "link": null}, {"name": "controlnet_stack", "type": "CONTROL_NET_STACK", "link": null, "slot_index": 3}], "outputs": [{"name": "CONTROLNET_STACK", "type": "CONTROL_NET_STACK", "links": [2019], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CR Multi-ControlNet Stack"}, "widgets_values": ["Off", "control-LoRAs-rank256\\control-lora-depth-rank256.safetensors", 1, 0.5, 1, "Off", "control-Model-SDXL\\OpenPoseXL2.safetensors", 1, 0, 1, "Off", "None", 1, 0, 1]}, {"id": 973, "type": "PromptBuilder //Inspire", "pos": [-1120, -230], "size": {"0": 530, "1": 240}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [2198, 2206, 2241], "shape": 3, "slot_index": 0}], "title": "Prompt Builder POS", "properties": {"Node name for S&R": "PromptBuilder //Inspire"}, "widgets_values": ["Lighting", "#PRESET", "The alien inhabitants, ethereal beings with iridescent wings, glided through the air, embracing the cosmic beauty that painted their otherworldly home, (8K, Realistic, Hyperrealism, Depth of Field, 85mm lens, F/4.6:1.15), (ultra detailed, ultra accurate detailed:1.1), (Bokeh, Bokeh Lighting:1.1), (surrealism:1.05)"], "color": "#232", "bgcolor": "#353"}, {"id": 482, "type": "BNK_CutoffSetRegions", "pos": [-560, -140], "size": {"0": 220, "1": 130}, "flags": {}, "order": 43, "mode": 0, "inputs": [{"name": "clip_regions", "type": "CLIPREGION", "link": 2150}], "outputs": [{"name": "CLIPREGION", "type": "CLIPREGION", "links": [2151], "slot_index": 0}], "properties": {"Node name for S&R": "BNK_CutoffSetRegions"}, "widgets_values": ["Beautiful Green Head Women", "Green", 1], "color": "#332922", "bgcolor": "#593930"}, {"id": 842, "type": "KSamplerAdvanced", "pos": [150, 1190], "size": {"0": 320, "1": 310}, "flags": {}, "order": 52, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 1892}, {"name": "positive", "type": "CONDITIONING", "link": 2021}, {"name": "negative", "type": "CONDITIONING", "link": 2022}, {"name": "latent_image", "type": "LATENT", "link": 1891}, {"name": "noise_seed", "type": "INT", "link": 2235, "widget": {"name": "noise_seed"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [1893], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "KSamplerAdvanced"}, "widgets_values": ["enable", 578174924917496, "randomize", 8, 1.5, "lcm", "sgm_uniform", 0, 100, "disable"]}, {"id": 161, "type": "Reroute", "pos": [1630, 870], "size": [75, 26], "flags": {"pinned": false}, "order": 65, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2263, "label": "ON"}], "outputs": [{"name": "", "type": "PIPE_LINE", "links": [2226], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 136, "type": "UltimateSDUpscale", "pos": [1250, 900], "size": {"0": 250, "1": 560}, "flags": {"pinned": false}, "order": 58, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 2060}, {"name": "model", "type": "MODEL", "link": 1731}, {"name": "positive", "type": "CONDITIONING", "link": 1732}, {"name": "negative", "type": "CONDITIONING", "link": 1733}, {"name": "vae", "type": "VAE", "link": 2134}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 1742, "slot_index": 5}, {"name": "seed", "type": "INT", "link": 2088, "widget": {"name": "seed"}}, {"name": "tile_width", "type": "INT", "link": 1753, "widget": {"name": "tile_width"}}, {"name": "tile_height", "type": "INT", "link": 1754, "widget": {"name": "tile_height"}}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [1741, 2082, 2158, 2262], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [2, 581752676336168, "randomize", 3, 1.5, "lcm", "sgm_uniform", 0.1, "Linear", 512, 512, 32, 512, "None", 1, 64, 8, 16, "enable"], "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 926, "type": "Reroute", "pos": [1540, 870], "size": [75, 26], "flags": {}, "order": 64, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 2086}], "outputs": [{"name": "", "type": "PIPE_LINE", "links": [2263], "label": "PIPE", "slot_index": 0}], "title": "PIPE", "properties": {"showOutputText": false, "horizontal": false, "showTitle": true}}, {"id": 162, "type": "Reroute", "pos": [1630, 900], "size": [75, 26], "flags": {"pinned": false}, "order": 7, "mode": 0, "inputs": [{"name": "", "type": "*", "link": null, "label": "OFF"}], "outputs": [{"name": "", "type": "*", "links": null}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 824, "type": "CR Module Input", "pos": [-1110, 1050], "size": {"0": 210, "1": 206}, "flags": {"collapsed": false, "pinned": false}, "order": 50, "mode": 0, "inputs": [{"name": "pipe", "type": "PIPE_LINE", "link": 1831}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [1892, 1900], "shape": 3, "slot_index": 1}, {"name": "pos", "type": "CONDITIONING", "links": [2028, 2089], "shape": 3, "slot_index": 2}, {"name": "neg", "type": "CONDITIONING", "links": [2029, 2090], "shape": 3, "slot_index": 3}, {"name": "latent", "type": "LATENT", "links": [1891, 1901], "shape": 3, "slot_index": 4}, {"name": "vae", "type": "VAE", "links": [1894, 1902], "shape": 3, "slot_index": 5}, {"name": "clip", "type": "CLIP", "links": [1849], "shape": 3, "slot_index": 6}, {"name": "controlnet", "type": "CONTROL_NET", "links": null, "shape": 3}, {"name": "image", "type": "IMAGE", "links": null, "shape": 3}, {"name": "seed", "type": "INT", "links": [2235, 2236], "shape": 3, "slot_index": 9}], "title": "SDXL PIPE IN", "properties": {"Node name for S&R": "CR Module Input"}, "color": "#432", "bgcolor": "#653"}, {"id": 153, "type": "Text Multiline", "pos": [1750, 1040], "size": {"0": 220, "1": 80}, "flags": {"pinned": false}, "order": 8, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [1775], "shape": 3, "slot_index": 0}], "title": "Negative (FaceDetailer)", "properties": {"Node name for S&R": "Text Multiline"}, "widgets_values": ["low quality, worst quality, bad anatomy, scars, tattoos"], "color": "#322", "bgcolor": "#533"}, {"id": 152, "type": "Text Multiline", "pos": [1750, 900], "size": {"0": 260, "1": 100}, "flags": {"pinned": false}, "order": 9, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [1956], "shape": 3, "slot_index": 0}], "title": "Positive (FaceDetailer)", "properties": {"Node name for S&R": "Text Multiline"}, "widgets_values": ["(Detailed Face:1.2), (ultra detailed:1.2), (photorealistic:1.2), (Hypperrealism:1.1), (natural skin pores:1.1), (natural blemishes:1.05), (natural wrinkles:1.1), (makeup:1.1)"], "color": "#232", "bgcolor": "#353"}, {"id": 931, "type": "CR LoRA Stack", "pos": [-690, 520], "size": {"0": 400, "1": 330}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null, "slot_index": 0}], "outputs": [{"name": "LORA_STACK", "type": "LORA_STACK", "links": [2120], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CR LoRA Stack"}, "widgets_values": ["Off", "None", 0.8, 1, "Off", "None", 0.8, 1, "On", "pytorch_lora_weights.safetensors", 1, 1], "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 489, "type": "BNK_CutoffRegionsToConditioning", "pos": [-560, 200], "size": {"0": 252, "1": 110}, "flags": {}, "order": 47, "mode": 0, "inputs": [{"name": "clip_regions", "type": "CLIPREGION", "link": 2220}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [2268], "slot_index": 0}], "properties": {"Node name for S&R": "BNK_CutoffRegionsToConditioning"}, "widgets_values": ["", 0.7000000000000001, 1], "color": "#332922", "bgcolor": "#593930"}, {"id": 484, "type": "BNK_CutoffSetRegions", "pos": [-330, -140], "size": {"0": 220, "1": 130}, "flags": {}, "order": 44, "mode": 0, "inputs": [{"name": "clip_regions", "type": "CLIPREGION", "link": 2151}], "outputs": [{"name": "CLIPREGION", "type": "CLIPREGION", "links": [2152], "slot_index": 0}], "properties": {"Node name for S&R": "BNK_CutoffSetRegions"}, "widgets_values": ["Black ribbed sweater", "Black", 1], "color": "#332922", "bgcolor": "#593930"}, {"id": 784, "type": "Note", "pos": [-1860, -270], "size": {"0": 720, "1": 1050}, "flags": {"pinned": false, "collapsed": false}, "order": 11, "mode": 0, "properties": {"text": ""}, "widgets_values": ["-------- INSTRUCTION GUIDE ---------\n\n1. PIPE Switches and ON OFF Switches\n    POS Prompt Switch - Switches the Positive prompt between not using the Cutoff(option 1) and using the Cutoff(option 2). Cutoff can be useful when trying to specify colors to items within the prompt.\n\n    Txt2IMG/CTRLN - Turn off the Control Net in the Control Net Stack for basic Text to Image generation.\n\n    TXT2IMG/USDU - Switches between using the Text to Image generated image or the Ultimate SD Upscale generated image during the After Detailer step of the workflow.\n\nON / OFF Switches:\n   For the After Detailer there is an ON / OFF switch labeled with the section name. Switching this module to OFF means it will not run, and to ON means it will run.\n\n2. Prompt Positive/Negative\n   Prompt Builder (Inspire) is used heavily in the creation of the prompt. Use the category to select a category and select a preset to insert the text into the prompt. Edit these prompt-builder.yaml file in custom_nodes\\ComfyUI-Inspire-Pack\\resources directory to update your drop down selections.\n\n   Cutoff is also used to try to tailor the image appropriately. View the https://github.com/BlenderNeko/ComfyUI_Cutoff repository to learn more about how this works.\n\nCliff notes:\n\nCtrl+ Up Arrow/Down Arrow - change the weight of the prompt.\n\n[object:X] - adds object after a X steps\n[object::X] - removes object after a X steps\n[object1:object2:0.X] - first X% is object1, then swaps to object2\n[object1:object2:X] - starts with object1, then changes to object2 at step X\n[object1|object2] - alternates between object1 and object2 every step\n[object1|object2|...|objectN] - alternates between object1 .. objectN, then loops back to object1\n\n3. Save Image With Meta Data\n    Use the controls in the Final Image Meta Date section to save which image you would like with the appropriate meta data for upload.\n\n4. After Detailer\n    This allows you to alter specific portions of an image detected by the Ultralytics models. This includes face detection, hand detection, and person detection. This is basically just inpainting, with the masks drawn for you.\n\n4.1 Face Detailer\n    Select one of the bbox/face_*.pt models. Personally, I like using the bbox/face_yolov8n_v2.pt model for this.\n\n*Must Be added to workflow*\n4.2 Hand Detailer\n    Select one of the bbox/hand_*.pt models. I'd suggest the bbox/hand_yolov8n.pt model.\n\n4.3 Person Detailer\n    Select one of the segm/person_*.pt models. I haven't played with this much, so you will need to experiment with which model works best for you.\n\n5. Copy / Paste\n    With ComfyUI, there is the concept of the Clipspace, which is essentially like a clipboard, keeping track of all your copies and allowing you to paste them. If you just generated an image that you want to Inpaint, right click on the image and select \"Copy (Clipspace)\". You can then right click on the Inpaint Image node and select \"Paste (Clipspace)\".\n\n6. LCM\n    LCM Model Sampling is used within this workflow. It is recommended to use between 5-10 Steps and 1-2 CFG for quick accurate image generation. You must download the Lora at the link below. You must also set the sampler_name in your KSamplers to LCM (sgm_uniform scheduler recommended).\n\nhttps://huggingface.co/latent-consistency/lcm-lora-sdxl/tree/main\n\n7. Nodes/Models\n    To install missing nodes/models use the ComfyUI Manager and select Install Missing Custom Nodes. Then install the models you need via Install Models within the ComfyUI Manager.\nhttps://github.com/ltdrdata/ComfyUI-Manager\n\nNOTE: For SDXL based models, it is recommended to use trained resolution values listed below:\n - 1024 x 1024\n - 1152 x 896\n - 896  x 1152\n - 1216 x 832\n - 832  x 1216\n - 1344 x 768\n - 768  x 1344\n - 1536 x 640\n - 640  x 1536\n\n\nAny recommendations/issues can be left on the comment section of the workflow.\nOr join the ComfyUI Workflows Discord and @PCMonster so we can chat.\nEnjoy!"], "color": "#432", "bgcolor": "#653"}, {"id": 745, "type": "CR Module Input", "pos": [770, 900], "size": {"0": 210, "1": 206}, "flags": {"collapsed": false, "pinned": false}, "order": 57, "mode": 0, "inputs": [{"name": "pipe", "type": "PIPE_LINE", "link": 2240}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [], "shape": 3, "slot_index": 0}, {"name": "model", "type": "MODEL", "links": [1731, 2076], "shape": 3, "slot_index": 1}, {"name": "pos", "type": "CONDITIONING", "links": [1732, 2077], "shape": 3, "slot_index": 2}, {"name": "neg", "type": "CONDITIONING", "links": [1733, 2078], "shape": 3, "slot_index": 3}, {"name": "latent", "type": "LATENT", "links": [2079], "shape": 3, "slot_index": 4}, {"name": "vae", "type": "VAE", "links": [2080, 2134], "shape": 3, "slot_index": 5}, {"name": "clip", "type": "CLIP", "links": [2081], "shape": 3, "slot_index": 6}, {"name": "controlnet", "type": "CONTROL_NET", "links": null, "shape": 3}, {"name": "image", "type": "IMAGE", "links": [2060], "shape": 3, "slot_index": 8}, {"name": "seed", "type": "INT", "links": [2088], "shape": 3, "slot_index": 9}], "title": "SDXL PIPE IN SDXL", "properties": {"Node name for S&R": "CR Module Input"}, "color": "#432", "bgcolor": "#653"}, {"id": 62, "type": "UpscaleModelLoader", "pos": [770, 1140], "size": {"0": 250, "1": 60}, "flags": {"pinned": false}, "order": 12, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [1742], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x-UltraSharp.pth"]}, {"id": 718, "type": "PlaySound|pysssss", "pos": [1360, 1500], "size": {"0": 310, "1": 82}, "flags": {"collapsed": true}, "order": 59, "mode": 0, "inputs": [{"name": "any", "type": "*", "link": 1741, "slot_index": 0}], "properties": {"Node name for S&R": "PlaySound|pysssss"}, "widgets_values": ["always", 0.5], "color": "#432", "bgcolor": "#653"}, {"id": 925, "type": "CR Module Pipe Loader", "pos": [1000, 1690], "size": {"0": 210, "1": 194}, "flags": {"pinned": false, "collapsed": true}, "order": 60, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 2076}, {"name": "pos", "type": "CONDITIONING", "link": 2077}, {"name": "neg", "type": "CONDITIONING", "link": 2078}, {"name": "latent", "type": "LATENT", "link": 2079, "slot_index": 3}, {"name": "vae", "type": "VAE", "link": 2080}, {"name": "clip", "type": "CLIP", "link": 2081}, {"name": "controlnet", "type": "CONTROL_NET", "link": null}, {"name": "image", "type": "IMAGE", "link": 2082}, {"name": "seed", "type": "INT", "link": null, "widget": {"name": "seed"}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [2083], "shape": 3, "slot_index": 0}], "title": "USDU PIPE OUT", "properties": {"Node name for S&R": "CR Module Pipe Loader"}, "widgets_values": [646376684667545, "randomize"], "color": "#232", "bgcolor": "#353"}, {"id": 923, "type": "CR Pipe Switch", "pos": [1290, 1640], "size": {"0": 210, "1": 80}, "flags": {}, "order": 63, "mode": 0, "inputs": [{"name": "pipe1", "type": "PIPE_LINE", "link": 2239}, {"name": "pipe2", "type": "PIPE_LINE", "link": 2083}], "outputs": [{"name": "PIPE_LINE", "type": "PIPE_LINE", "links": [2086], "shape": 3, "slot_index": 0}], "title": "\ud83d\udd00\ufe0fTxt2IMG/USDU", "properties": {"Node name for S&R": "CR Pipe Switch"}, "widgets_values": [2]}, {"id": 1000, "type": "CR Conditioning Input Switch", "pos": [-290, 200], "size": {"0": 220, "1": 80}, "flags": {}, "order": 48, "mode": 0, "inputs": [{"name": "conditioning1", "type": "CONDITIONING", "link": 2267}, {"name": "conditioning2", "type": "CONDITIONING", "link": 2268}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [2269], "shape": 3, "slot_index": 0}], "title": "\ud83d\udd00 POS Prompt Switch", "properties": {"Node name for S&R": "CR Conditioning Input Switch"}, "widgets_values": [1]}, {"id": 944, "type": "Note", "pos": [1290, 1750], "size": {"0": 210, "1": 80}, "flags": {"collapsed": true}, "order": 13, "mode": 0, "title": "Note Pipe 2", "properties": {"text": ""}, "widgets_values": ["Pipe 1 = Txt2Img\n\nPipe 2 = Ultimate SD Upscale"], "color": "#323", "bgcolor": "#535"}, {"id": 486, "type": "BNK_CutoffSetRegions", "pos": [-330, 30], "size": {"0": 220, "1": 130}, "flags": {}, "order": 46, "mode": 0, "inputs": [{"name": "clip_regions", "type": "CLIPREGION", "link": 2153}], "outputs": [{"name": "CLIPREGION", "type": "CLIPREGION", "links": [2220], "slot_index": 0}], "properties": {"Node name for S&R": "BNK_CutoffSetRegions"}, "widgets_values": ["Sitting in library", "Sitting", 1], "color": "#332922", "bgcolor": "#593930"}, {"id": 1001, "type": "Note", "pos": [-290, 310], "size": {"0": 210, "1": 80}, "flags": {"collapsed": true}, "order": 14, "mode": 0, "title": "Note Prompt Switch", "properties": {"text": ""}, "widgets_values": ["Condition1 = Basic Prompt\n\nCondition2 = Basic Prompt + Cutoff"], "color": "#432", "bgcolor": "#653"}, {"id": 988, "type": "Text to Conditioning", "pos": [-330, -230], "size": {"0": 210, "1": 54}, "flags": {}, "order": 39, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 2272}, {"name": "text", "type": "STRING", "link": 2241, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [2267], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Text to Conditioning"}, "widgets_values": [""], "color": "#223", "bgcolor": "#335"}, {"id": 980, "type": "PromptBuilder //Inspire", "pos": [-1120, 100], "size": {"0": 530, "1": 170}, "flags": {}, "order": 15, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [2203, 2209], "shape": 3, "slot_index": 0}], "title": "Prompt Builder NEG", "properties": {"Node name for S&R": "PromptBuilder //Inspire"}, "widgets_values": ["Negative", "#PRESET", "Disfigure Body, Disfigured Torso, Disfigured Face, Disfigured Eyes, Disfigured Pupils, Disfigured Arms, Disfigured Hands, Disfigured Fingers, Disfigured Legs, Disfigured Toes, Blurry, Text, Watermark, Signature, Frame, Logo"], "color": "#322", "bgcolor": "#533"}, {"id": 872, "type": "CR Seed", "pos": [1720, 1480], "size": {"0": 320, "1": 82}, "flags": {}, "order": 16, "mode": 0, "outputs": [{"name": "seed", "type": "INT", "links": [1967], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CR Seed"}, "widgets_values": [693319159148035, "fixed"], "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 932, "type": "CR Apply LoRA Stack", "pos": [-700, 400], "size": {"0": 210, "1": 66}, "flags": {}, "order": 37, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 2118}, {"name": "clip", "type": "CLIP", "link": 2270}, {"name": "lora_stack", "type": "LORA_STACK", "link": 2120}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [2121, 2244], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [2233], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "CR Apply LoRA Stack"}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 483, "type": "BNK_CutoffBasePrompt", "pos": [-560, -230], "size": {"0": 210, "1": 54}, "flags": {}, "order": 38, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 2271}, {"name": "text", "type": "STRING", "link": 2198, "widget": {"name": "text"}}], "outputs": [{"name": "CLIPREGION", "type": "CLIPREGION", "links": [2150], "slot_index": 0}], "title": "Cutoff PROMPT", "properties": {"Node name for S&R": "BNK_CutoffBasePrompt"}, "widgets_values": [""], "color": "#332922", "bgcolor": "#593930"}, {"id": 981, "type": "CLIPSetLastLayer", "pos": [-1120, 540], "size": {"0": 270, "1": 60}, "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 2217}], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [2270, 2271, 2272, 2273], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPSetLastLayer"}, "widgets_values": [-2], "color": "#432", "bgcolor": "#653"}, {"id": 730, "type": "Text to Conditioning", "pos": [-1120, 310], "size": {"0": 210, "1": 54}, "flags": {"collapsed": true}, "order": 40, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 2273}, {"name": "text", "type": "STRING", "link": 2203, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [1641], "shape": 3, "slot_index": 0}], "title": "CONDITION NEG", "properties": {"Node name for S&R": "Text to Conditioning"}, "widgets_values": [""], "color": "#322", "bgcolor": "#533"}, {"id": 769, "type": "SDXLAspectRatio", "pos": [-1120, 640], "size": {"0": 300, "1": 130}, "flags": {"pinned": false}, "order": 17, "mode": 0, "outputs": [{"name": "Width", "type": "INT", "links": [1747, 2223], "shape": 3, "slot_index": 0}, {"name": "Height", "type": "INT", "links": [1748, 2043], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "SDXLAspectRatio"}, "widgets_values": [1024, 1024, "16:9 - 1344x768 landscape"], "color": "#233", "bgcolor": "#355"}, {"id": 23, "type": "CheckpointLoaderSimple", "pos": [-1120, 400], "size": {"0": 410, "1": 100}, "flags": {"pinned": false}, "order": 18, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [2118], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [2217], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [336], "shape": 3, "slot_index": 2}], "title": "SDXL Checkpoint", "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["SDXL_UnstableDiffusers_V9.safetensors"], "color": "#232", "bgcolor": "#353"}, {"id": 169, "type": "CR Module Pipe Loader", "pos": [-250, 400], "size": {"0": 210, "1": 194}, "flags": {"pinned": false, "collapsed": false}, "order": 49, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 2244}, {"name": "pos", "type": "CONDITIONING", "link": 2269}, {"name": "neg", "type": "CONDITIONING", "link": 1641}, {"name": "latent", "type": "LATENT", "link": 1749, "slot_index": 3}, {"name": "vae", "type": "VAE", "link": 336}, {"name": "clip", "type": "CLIP", "link": 2233}, {"name": "controlnet", "type": "CONTROL_NET", "link": null}, {"name": "image", "type": "IMAGE", "link": null}, {"name": "seed", "type": "INT", "link": 1667, "widget": {"name": "seed"}}], "outputs": [{"name": "pipe", "type": "PIPE_LINE", "links": [1831], "shape": 3, "slot_index": 0}], "title": "SDXL PIPE OUT", "properties": {"Node name for S&R": "CR Module Pipe Loader"}, "widgets_values": [948439878254797, "randomize"], "color": "#232", "bgcolor": "#353"}, {"id": 987, "type": "Note", "pos": [-1860, 820], "size": {"0": 440, "1": 160}, "flags": {"pinned": false, "collapsed": false}, "order": 19, "mode": 0, "title": "Post Note", "properties": {"text": ""}, "widgets_values": ["SDXL: LCM + Controlnet + Upscaler + After Detailer + Prompt Builder + Lora\n\n\nComplete flexible pipeline for Text to Image, Lora, Controlnet, Upscaler, After Detailer and Saved Metadata for uploading to popular sites. Use the Notes section to learn how to use all parts of the workflow. | \n@PCMonster in the ComfyUI Workflow Discord for more information. | Tips accepted https://paypal.me/pc3D | https://www.buymeacoffee.com/pcmonster | https://comfyworkflows.com/profile/28a5afb5-c525-42c9-8c0f-1f2e77ef9eaa"], "color": "#223", "bgcolor": "#335"}, {"id": 737, "type": "CR Seed", "pos": [-610, 890], "size": {"0": 320, "1": 82}, "flags": {}, "order": 20, "mode": 0, "outputs": [{"name": "seed", "type": "INT", "links": [1667, 2186], "shape": 3, "slot_index": 0}], "title": "\ud83c\udf31Global Seed", "properties": {"Node name for S&R": "CR Seed"}, "widgets_values": [156671768, "fixed"], "color": "#223", "bgcolor": "#335"}], "links": [[308, 155, 0, 156, 0, "IMAGE"], [336, 23, 2, 169, 4, "VAE"], [1641, 730, 0, 169, 2, "CONDITIONING"], [1667, 737, 0, 169, 8, "INT"], [1731, 745, 1, 136, 1, "MODEL"], [1732, 745, 2, 136, 2, "CONDITIONING"], [1733, 745, 3, 136, 3, "CONDITIONING"], [1741, 136, 0, 718, 0, "*"], [1742, 62, 0, 136, 5, "UPSCALE_MODEL"], [1747, 769, 0, 770, 0, "INT"], [1748, 769, 1, 770, 1, "INT"], [1749, 770, 0, 169, 3, "LATENT"], [1753, 772, 0, 136, 7, "INT"], [1754, 773, 0, 136, 8, "INT"], [1774, 774, 6, 776, 0, "CLIP"], [1775, 153, 0, 776, 1, "STRING"], [1831, 169, 0, 824, 0, "PIPE_LINE"], [1849, 824, 6, 831, 5, "CLIP"], [1891, 824, 4, 842, 3, "LATENT"], [1892, 824, 1, 842, 0, "MODEL"], [1893, 842, 0, 843, 0, "LATENT"], [1894, 824, 5, 843, 1, "VAE"], [1900, 824, 1, 831, 0, "MODEL"], [1901, 824, 4, 831, 3, "LATENT"], [1902, 824, 5, 831, 4, "VAE"], [1907, 843, 0, 831, 7, "IMAGE"], [1912, 848, 0, 849, 0, "IMAGE"], [1913, 847, 3, 848, 0, "MASK"], [1915, 847, 0, 851, 0, "IMAGE"], [1918, 774, 1, 854, 1, "MODEL"], [1919, 774, 6, 854, 2, "CLIP"], [1920, 774, 5, 854, 3, "VAE"], [1923, 143, 0, 854, 6, "BBOX_DETECTOR"], [1924, 144, 0, 854, 7, "SAM_MODEL"], [1926, 854, 3, 155, 0, "MASK"], [1927, 854, 0, 720, 0, "*"], [1929, 854, 4, 847, 1, "DETAILER_PIPE"], [1931, 776, 0, 854, 5, "CONDITIONING"], [1933, 854, 0, 847, 0, "IMAGE"], [1943, 847, 0, 856, 0, "*"], [1944, 854, 0, 857, 0, "IMAGE"], [1947, 774, 9, 847, 2, "INT"], [1956, 152, 0, 867, 1, "STRING"], [1957, 774, 6, 867, 0, "CLIP"], [1961, 867, 0, 854, 4, "CONDITIONING"], [1967, 872, 0, 854, 8, "INT"], [2009, 827, 0, 895, 0, "IMAGE"], [2010, 895, 0, 896, 0, "IMAGE"], [2019, 900, 0, 902, 2, "CONTROL_NET_STACK"], [2021, 902, 0, 842, 1, "CONDITIONING"], [2022, 902, 1, 842, 2, "CONDITIONING"], [2028, 824, 2, 902, 0, "CONDITIONING"], [2029, 824, 3, 902, 1, "CONDITIONING"], [2043, 769, 1, 773, 0, "*"], [2049, 827, 0, 916, 0, "IMAGE"], [2060, 745, 8, 136, 0, "IMAGE"], [2076, 745, 1, 925, 0, "MODEL"], [2077, 745, 2, 925, 1, "CONDITIONING"], [2078, 745, 3, 925, 2, "CONDITIONING"], [2079, 745, 4, 925, 3, "LATENT"], [2080, 745, 5, 925, 4, "VAE"], [2081, 745, 6, 925, 5, "CLIP"], [2082, 136, 0, 925, 7, "IMAGE"], [2083, 925, 0, 923, 1, "PIPE_LINE"], [2086, 923, 0, 926, 0, "*"], [2088, 745, 9, 136, 6, "INT"], [2089, 824, 2, 831, 1, "CONDITIONING"], [2090, 824, 3, 831, 2, "CONDITIONING"], [2095, 774, 8, 854, 0, "IMAGE"], [2118, 23, 0, 932, 0, "MODEL"], [2120, 931, 0, 932, 2, "LORA_STACK"], [2121, 932, 0, 927, 0, "MODEL"], [2122, 916, 0, 841, 0, "IMAGE"], [2123, 916, 0, 900, 0, "IMAGE"], [2132, 843, 0, 938, 0, "*"], [2134, 745, 5, 136, 4, "VAE"], [2136, 895, 0, 900, 1, "IMAGE"], [2150, 483, 0, 482, 0, "CLIPREGION"], [2151, 482, 0, 484, 0, "CLIPREGION"], [2152, 484, 0, 485, 0, "CLIPREGION"], [2153, 485, 0, 486, 0, "CLIPREGION"], [2158, 136, 0, 949, 0, "*"], [2159, 854, 0, 950, 0, "*"], [2160, 847, 0, 952, 0, "*"], [2161, 952, 0, 951, 3, "IMAGE"], [2162, 950, 0, 951, 2, "IMAGE"], [2163, 949, 0, 951, 1, "IMAGE"], [2164, 948, 0, 951, 0, "IMAGE"], [2165, 951, 0, 947, 0, "IMAGE"], [2172, 958, 0, 947, 1, "STRING"], [2174, 959, 0, 960, 0, "*"], [2175, 960, 0, 947, 2, "STRING"], [2186, 737, 0, 967, 0, "*"], [2187, 967, 0, 968, 0, "*"], [2188, 968, 0, 947, 3, "INT"], [2189, 773, 0, 969, 0, "*"], [2190, 772, 0, 970, 0, "*"], [2191, 970, 0, 947, 4, "INT"], [2192, 969, 0, 947, 5, "INT"], [2198, 973, 0, 483, 1, "STRING"], [2203, 980, 0, 730, 1, "STRING"], [2206, 973, 0, 965, 0, "*"], [2208, 965, 0, 958, 0, "*"], [2209, 980, 0, 959, 0, "*"], [2217, 23, 1, 981, 0, "CLIP"], [2220, 486, 0, 489, 0, "CLIPREGION"], [2223, 769, 0, 772, 0, "*"], [2226, 161, 0, 774, 0, "PIPE_LINE"], [2233, 932, 1, 169, 5, "CLIP"], [2235, 824, 9, 842, 4, "INT"], [2236, 824, 9, 831, 8, "INT"], [2237, 843, 0, 471, 0, "IMAGE"], [2239, 831, 0, 923, 0, "PIPE_LINE"], [2240, 831, 0, 745, 0, "PIPE_LINE"], [2241, 973, 0, 988, 1, "STRING"], [2244, 932, 0, 169, 0, "MODEL"], [2262, 136, 0, 472, 0, "IMAGE"], [2263, 926, 0, 161, 0, "*"], [2267, 988, 0, 1000, 0, "CONDITIONING"], [2268, 489, 0, 1000, 1, "CONDITIONING"], [2269, 1000, 0, 169, 1, "CONDITIONING"], [2270, 981, 0, 932, 1, "CLIP"], [2271, 981, 0, 483, 0, "CLIP"], [2272, 981, 0, 988, 0, "CLIP"], [2273, 981, 0, 730, 0, "CLIP"]], "groups": [{"title": "Ultimate SD Upscale", "bounding": [760, 830, 761, 931], "color": "#88A", "font_size": 24, "locked": false}, {"title": "AfterDetailer", "bounding": [1530, 830, 1562, 931], "color": "#a1309b", "font_size": 24, "locked": false}, {"title": "Checkpoint and Lora", "bounding": [-1131, 323, 1117, 652], "color": "#8AA", "font_size": 24, "locked": false}, {"title": "Prompt Positive", "bounding": [-1130, -301, 551, 332], "color": "#8A8", "font_size": 24, "locked": false}, {"title": "Prompt Cutoff", "bounding": [-574, -301, 562, 622], "color": "#a1309b", "font_size": 24, "locked": false}, {"title": "Control Net Depth/Pose", "bounding": [-1128, 979, 1878, 992], "color": "#b58b2a", "font_size": 24, "locked": false}, {"title": "Prompt Negative", "bounding": [-1130, 35, 552, 284], "color": "#A88", "font_size": 24, "locked": false}, {"title": "Final Image Meta Data", "bounding": [3065, -588, 386, 703], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {}, "version": 0.4}