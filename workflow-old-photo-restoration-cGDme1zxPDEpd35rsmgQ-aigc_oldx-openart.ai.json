{"last_node_id":73,"last_link_id":86,"nodes":[{"id":11,"type":"ConstrainImage|pysssss","pos":[-208.02555966811457,976.7538959429028],"size":{"0":320,"1":150},"flags":{},"order":7,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":10,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[11],"slot_index":0,"shape":6,"label":"图像"}],"properties":{"Node name for S&R":"ConstrainImage|pysssss","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[1024,1024,0,0,"no"],"color":"#af3535"},{"id":13,"type":"PreviewImage","pos":[141.97444033188526,966.7538959429029],"size":{"0":230,"1":310},"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":12,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"color":"#af3535"},{"id":19,"type":"PreviewImage","pos":[741.9744403318842,966.7538959429029],"size":{"0":230,"1":310},"flags":{},"order":11,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":15,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"color":"#af3535"},{"id":52,"type":"PreviewImage","pos":[2057.882016991833,1407.3418376048996],"size":{"0":330,"1":460},"flags":{},"order":27,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":54,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"color":"#504489"},{"id":54,"type":"ToBinaryMask","pos":[1707.882016991834,1747.3418376048985],"size":{"0":320,"1":60},"flags":{},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":57,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[58],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ToBinaryMask","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[255],"color":"#504489"},{"id":53,"type":"ImageToMask","pos":[1707.882016991834,1647.3418376048994],"size":{"0":320,"1":60},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":62,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[57],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["red"],"color":"#504489"},{"id":17,"type":"FaceRestoreModelLoader","pos":[384.8417062301395,970.4600906293786],"size":{"0":320,"1":60},"flags":{},"order":0,"mode":0,"outputs":[{"name":"FACERESTORE_MODEL","type":"FACERESTORE_MODEL","links":[13],"slot_index":0,"shape":3,"label":"面部修复模型"}],"properties":{"Node name for S&R":"FaceRestoreModelLoader","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["codeformer-v0.1.0.pth"],"color":"#af3535"},{"id":47,"type":"PreviewImage","pos":[1300.1052171789502,1417.4043467363006],"size":[330,700],"flags":{},"order":23,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":48,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"color":"#788369"},{"id":42,"type":"EmptyLatentImage","pos":[-189.89478282105082,1917.4043467362999],"size":[410,120],"flags":{},"order":17,"mode":0,"inputs":[{"name":"width","type":"INT","link":41,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":42,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[40],"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"EmptyLatentImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[512,512,1],"color":"#788369"},{"id":63,"type":"AIO_Preprocessor","pos":[-1079.4560131194548,1803.591458590184],"size":{"0":320,"1":80},"flags":{},"order":16,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":75,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[76],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["DepthAnythingV2Preprocessor",768],"color":"#af3535"},{"id":38,"type":"AIO_Preprocessor","pos":[-1079.4560131194548,1673.591458590184],"size":{"0":320,"1":80},"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":35,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[36],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["CannyEdgePreprocessor",768],"color":"#af3535"},{"id":36,"type":"ChinesePrompt_Mix","pos":[-680,1250],"size":{"0":400,"1":200},"flags":{},"order":1,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[33],"slot_index":0,"shape":6,"label":"提示词"}],"properties":{"Node name for S&R":"ChinesePrompt_Mix","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["模糊的,老旧的,黑白,景深，复杂的颜色","off",631777726119628,"randomize",true],"color":"#af3535"},{"id":20,"type":"ImageResize+","pos":[-697.68050642969,1677.244562836869],"size":{"0":320,"1":220},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":16,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[17,35,47,49,75],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":[41],"slot_index":1,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[42],"slot_index":2,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[768,768,"lanczos","keep proportion","always",32],"color":"#af3535"},{"id":51,"type":"AuraSR.AuraSRUpscaler","pos":[1711.7908970522035,1407.4326412714488],"size":{"0":320,"1":200},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":53,"label":"image"},{"name":"transparency_mask","type":"MASK","link":58,"label":"transparency_mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[54,77],"slot_index":0,"shape":3,"label":"IMAGE"}],"title":"AuraSR.AuraSRUpscaler","properties":{"Node name for S&R":"AuraSR.AuraSRUpscaler","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["aurasr.safetensors","4x_overlapped_constant",true,8,"default",false],"color":"#504489"},{"id":65,"type":"easy setNode","pos":[1720,1840],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":28,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":77}],"title":"➡️zuizhong","properties":{"previousName":"zuizhong"},"widgets_values":["zuizhong"],"color":"#1f1f48"},{"id":67,"type":"easy getNode","pos":[-1860,939],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[78],"slot_index":0}],"title":"⬅️zuizhong","properties":{},"widgets_values":["zuizhong"],"color":"#1f1f48"},{"id":46,"type":"ReActorFaceSwap","pos":[960,1440],"size":{"0":320,"1":360},"flags":{"collapsed":false},"order":22,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":72,"label":"目标图像"},{"name":"source_image","type":"IMAGE","link":47,"label":"源图像"},{"name":"face_model","type":"FACE_MODEL","link":null,"label":"面部模型"},{"name":"face_boost","type":"FACE_BOOST","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[48,53,62],"slot_index":0,"shape":3,"label":"图像"},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3,"label":"面部模型"}],"properties":{"Node name for S&R":"ReActorFaceSwap","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","codeformer-v0.1.0.pth",1,0.5,"no","no","0","0",1],"color":"#788369"},{"id":14,"type":"FaceRestoreCFWithModel","pos":[384.8417062301395,1080.4600906293795],"size":{"0":320,"1":100},"flags":{},"order":10,"mode":0,"inputs":[{"name":"facerestore_model","type":"FACERESTORE_MODEL","link":13,"label":"面部修复模型"},{"name":"image","type":"IMAGE","link":14,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[15,16],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"FaceRestoreCFWithModel","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["retinaface_resnet50",0.8],"color":"#af3535"},{"id":57,"type":"KSampler (Efficient)","pos":[612.4188043283899,1448.0407761331],"size":{"0":330,"1":590},"flags":{},"order":21,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":63,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":64,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":65,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":73,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":67,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":null,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":null,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE","slot_index":4},{"name":"IMAGE","type":"IMAGE","links":[72],"slot_index":5,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[747392668002441,"randomize",15,4,"dpmpp_2m_sde","karras",0.35000000000000003,"none","true",null],"color":"#788369","bgcolor":"#3f5159","shape":1},{"id":12,"type":"LoadImage","pos":[-1080,990],"size":[370,450],"flags":{},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[10],"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["pasted/image (598).png","image"],"color":"#af3535"},{"id":10,"type":"DDColor_Colorize","pos":[-208.02555966811457,1196.7538959429041],"size":{"0":320,"1":80},"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":11,"label":"image"}],"outputs":[{"name":"colorized_image","type":"IMAGE","links":[12,14],"slot_index":0,"shape":3,"label":"colorized_image"}],"properties":{"Node name for S&R":"DDColor_Colorize","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[256,"ddcolor_modelscope.pth"],"color":"#af3535"},{"id":22,"type":"Efficient Loader","pos":[-187.58119567161074,1448.0407761331],"size":{"0":400,"1":420},"flags":{},"order":19,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":34,"label":"ControlNet堆"},{"name":"positive","type":"STRING","link":32,"widget":{"name":"positive"},"label":"正面条件"},{"name":"negative","type":"STRING","link":33,"widget":{"name":"negative"},"label":"负面条件"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[85],"slot_index":0,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[19],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[20],"slot_index":2,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":[],"slot_index":3,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[22],"slot_index":4,"shape":3,"label":"VAE"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["真人模型\\majicMIX realistic 麦橘写实_v7.safetensors","Baked VAE",-2,"None",1,1,"CLIP_POSITIVE","CLIP_NEGATIVE","none","A1111",512,512,4,true,true],"color":"#788369","bgcolor":"#335555","shape":1},{"id":66,"type":"PreviewImage","pos":[-1710,910],"size":[550,1050],"flags":{},"order":6,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":78,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"color":"#af3535"},{"id":48,"type":"ImageSharpen","pos":[-680,1950],"size":{"0":320,"1":110},"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":49,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[51],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"ImageSharpen","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[1,0.45,1],"color":"#af3535"},{"id":21,"type":"PreviewImage","pos":[-670,2120],"size":[320,280],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":17,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"color":"#af3535"},{"id":34,"type":"ChinesePrompt_Mix","pos":[-680,1010],"size":{"0":400,"1":200},"flags":{},"order":5,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[32],"slot_index":0,"shape":6,"label":"提示词"}],"properties":{"Node name for S&R":"ChinesePrompt_Mix","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["女人，黑色头发，穿着红色大衣，黑色眼镜，双眼皮，清晰的面部，皮肤纹理，白色干净的背景","off",137093343298730,"randomize",true],"color":"#af3535"},{"id":37,"type":"CR Multi-ControlNet Stack","pos":[-1110,1960],"size":{"0":420,"1":450},"flags":{},"order":18,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":36,"label":"图像1"},{"name":"image_2","type":"IMAGE","link":51,"label":"图像2"},{"name":"image_3","type":"IMAGE","link":76,"label":"图像3"},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[34],"shape":3,"label":"ControlNet堆"},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":["On","control_v11p_sd15_canny.pth",1,0,1,"On","control_v11f1e_sd15_tile.pth",0.55,0,1,"On","control_sd15_depth_anything.safetensors",0.6,0,1],"color":"#af3535"},{"id":23,"type":"KSampler (Efficient)","pos":[242.41880432838957,1448.0407761331],"size":{"0":330,"1":590},"flags":{},"order":20,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":85,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":19,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":20,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":40,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":22,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[63],"slot_index":0,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[64],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[65],"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":[73],"slot_index":3,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[67],"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":5,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[1098300099503337,"randomize",30,7.5,"dpmpp_2m_sde","karras",1,"none","true",null],"color":"#788369","bgcolor":"#3f5159","shape":1},{"id":73,"type":"Note","pos":[-1100,750],"size":[850,100],"flags":{},"order":4,"mode":0,"title":"Note","properties":{"text":""},"widgets_values":["在此处上传修复的照片，简单描述内容\n工作流定制或商业合作请联系：Dongnan9606"],"color":"#af3535"}],"links":[[10,12,0,11,0,"IMAGE"],[11,11,0,10,0,"IMAGE"],[12,10,0,13,0,"IMAGE"],[13,17,0,14,0,"FACERESTORE_MODEL"],[14,10,0,14,1,"IMAGE"],[15,14,0,19,0,"IMAGE"],[16,14,0,20,0,"IMAGE"],[17,20,0,21,0,"IMAGE"],[19,22,1,23,1,"CONDITIONING"],[20,22,2,23,2,"CONDITIONING"],[22,22,4,23,4,"VAE"],[32,34,0,22,2,"STRING"],[33,36,0,22,3,"STRING"],[34,37,0,22,1,"CONTROL_NET_STACK"],[35,20,0,38,0,"IMAGE"],[36,38,0,37,0,"IMAGE"],[40,42,0,23,3,"LATENT"],[41,20,1,42,0,"INT"],[42,20,2,42,1,"INT"],[47,20,0,46,1,"IMAGE"],[48,46,0,47,0,"IMAGE"],[49,20,0,48,0,"IMAGE"],[51,48,0,37,1,"IMAGE"],[53,46,0,51,0,"IMAGE"],[54,51,0,52,0,"IMAGE"],[57,53,0,54,0,"MASK"],[58,54,0,51,1,"MASK"],[62,46,0,53,0,"IMAGE"],[63,23,0,57,0,"MODEL"],[64,23,1,57,1,"CONDITIONING"],[65,23,2,57,2,"CONDITIONING"],[67,23,4,57,4,"VAE"],[72,57,5,46,0,"IMAGE"],[73,23,3,57,3,"LATENT"],[75,20,0,63,0,"IMAGE"],[76,63,0,37,2,"IMAGE"],[77,51,0,65,0,"*"],[78,67,0,66,0,"IMAGE"],[85,22,0,23,0,"MODEL"]],"groups":[{"title":"初次还原","bounding":[-219,892,1200,394],"color":"#3f789e","font_size":24,"locked":false},{"title":"最终放大","bounding":[1698,1333,700,544],"color":"#504489","font_size":24,"locked":false},{"title":"采样区域","bounding":[-215,1326,1895,819],"color":"#788369","font_size":24,"locked":false},{"title":"图像控制","bounding":[-1116,1535,874,905],"color":"#3f789e","font_size":24,"locked":false},{"title":"上传要修复的单人照片","bounding":[-1110,870,858,624],"color":"#A88","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.23579476910002814,"offset":[4076.755973266585,789.3774583105837]},"workspace_info":{"id":"_jZ2IAJoi_qNN5WJaks3Z"}},"version":0.4}