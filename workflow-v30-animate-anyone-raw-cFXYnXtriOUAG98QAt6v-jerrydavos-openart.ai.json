{"last_node_id":283,"last_link_id":462,"nodes":[{"id":45,"type":"PreviewImage","pos":[3200,570],"size":{"0":210,"1":250},"flags":{},"order":39,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":459}],"title":"Input Image","properties":{"Node name for S&R":"PreviewImage"}},{"id":167,"type":"Note","pos":[-1240,320],"size":{"0":610,"1":60},"flags":{},"order":0,"mode":0,"title":"Tutorial Link","properties":{"text":""},"widgets_values":["Collection of Documented v3.0 Tutorials: https://www.patreon.com/collection/321458"],"color":"#934000","bgcolor":"#a75406","shape":4},{"id":62,"type":"VHS_SplitImages","pos":[3510,530],"size":{"0":315,"1":118},"flags":{"collapsed":true},"order":76,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":369}],"outputs":[{"name":"IMAGE_A","type":"IMAGE","links":[134],"shape":3,"slot_index":0},{"name":"A_count","type":"INT","links":null,"shape":3},{"name":"IMAGE_B","type":"IMAGE","links":null,"shape":3},{"name":"B_count","type":"INT","links":null,"shape":3}],"title":".","properties":{"Node name for S&R":"VHS_SplitImages"},"widgets_values":{"split_index":5}},{"id":189,"type":"[AnimateAnyone] Pose Guider Encode","pos":[1629.375726704957,894.3870939628722],"size":{"0":292.20001220703125,"1":46},"flags":{"collapsed":true},"order":62,"mode":0,"inputs":[{"name":"pose_guider","type":"POSE_GUIDER","link":316},{"name":"pose_images","type":"IMAGE","link":317}],"outputs":[{"name":"pose_latent","type":"POSE_LATENT","links":[315],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"[AnimateAnyone] Pose Guider Encode"}},{"id":182,"type":"ImageScale","pos":[1329.375726704957,894.3870939628722],"size":{"0":436.79998779296875,"1":131.56387329101562},"flags":{"collapsed":true},"order":55,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":329,"slot_index":0},{"name":"height","type":"INT","link":309,"widget":{"name":"height"}},{"name":"width","type":"INT","link":310,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[317],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",768,512,"disabled"]},{"id":216,"type":"GetNode","pos":[2419.375726704962,474.3870939628727],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":1,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[356]}],"title":"Get_vae","properties":{},"widgets_values":["vae"]},{"id":201,"type":"GetNode","pos":[1109.375726704957,964.3870939628721],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[329]}],"title":"Get_CN_OpenPose","properties":{},"widgets_values":["CN_OpenPose"]},{"id":240,"type":"GetNode","pos":[2790,520],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":3,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[413],"slot_index":0}],"title":"Get_Init_width","properties":{},"widgets_values":["Init_width"]},{"id":241,"type":"GetNode","pos":[2790,580],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":4,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[414],"slot_index":0}],"title":"Get_Init_height","properties":{},"widgets_values":["Init_height"]},{"id":99,"type":"VHS_SplitImages","pos":[1310,1200],"size":{"0":315,"1":118},"flags":{"collapsed":true},"order":56,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":159}],"outputs":[{"name":"IMAGE_A","type":"IMAGE","links":[160],"shape":3,"slot_index":0},{"name":"A_count","type":"INT","links":null,"shape":3},{"name":"IMAGE_B","type":"IMAGE","links":null,"shape":3},{"name":"B_count","type":"INT","links":null,"shape":3}],"title":" ","properties":{"Node name for S&R":"VHS_SplitImages"},"widgets_values":{"split_index":5}},{"id":181,"type":"ImageScale","pos":[1327.6523840174252,76.8737507483162],"size":{"0":440,"1":122},"flags":{"collapsed":true},"order":54,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":458},{"name":"height","type":"INT","link":306,"widget":{"name":"height"}},{"name":"width","type":"INT","link":307,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[297,300],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",768,512,"disabled"]},{"id":17,"type":"LoadImagesFromDirectory","pos":[1730,1320],"size":{"0":360,"1":130},"flags":{"collapsed":true},"order":42,"mode":0,"inputs":[{"name":"image_load_cap","type":"INT","link":429,"widget":{"name":"image_load_cap"},"slot_index":0},{"name":"start_index","type":"INT","link":427,"widget":{"name":"start_index"}},{"name":"directory","type":"STRING","link":418,"widget":{"name":"directory"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[159,319],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3},{"name":"INT","type":"INT","links":null,"shape":3}],"title":"ControlNet 1","properties":{"Node name for S&R":"LoadImagesFromDirectory"},"widgets_values":["F:\\#Projects\\1) SD Animation\\26) Bad Devil\\5) OpenPose_C",50,10],"color":"#323","bgcolor":"#535"},{"id":192,"type":"SetNode","pos":[1730,1280],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":57,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":319}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_CN_OpenPose","properties":{"previousName":"CN_OpenPose"},"widgets_values":["CN_OpenPose"],"color":"#222","bgcolor":"#000"},{"id":257,"type":"GetNode","pos":[1730,1240],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":5,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[429],"slot_index":0}],"title":"Get_Batch_Range","properties":{},"widgets_values":["Batch_Range"],"color":"#222","bgcolor":"#000"},{"id":227,"type":"ConvertAny2Int","pos":[2480,770],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":45,"mode":0,"inputs":[{"name":"input1","type":"*","link":383}],"outputs":[{"name":"INT","type":"INT","links":[384,385],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConvertAny2Int"},"color":"#222","bgcolor":"#000"},{"id":230,"type":"ConvertAny2String","pos":[-275.0999710083008,1157.814203643799],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":48,"mode":0,"inputs":[{"name":"input1","type":"*","link":438,"slot_index":0}],"outputs":[{"name":"STRING","type":"STRING","links":[388],"shape":3,"slot_index":0}],"title":".","properties":{"Node name for S&R":"ConvertAny2String"},"color":"#222","bgcolor":"#000"},{"id":238,"type":"SetNode","pos":[900.2652856914708,1207.3473748730473],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":46,"mode":0,"inputs":[{"name":"INT","type":"INT","link":411}],"outputs":[{"name":"*","type":"*","links":null}],"title":".","properties":{"previousName":""},"widgets_values":["Init_width"]},{"id":259,"type":"GetNode","pos":[3670,470],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":6,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[433],"slot_index":0}],"title":"Get_Output_Path","properties":{},"widgets_values":["Output_Path"],"color":"#222","bgcolor":"#000"},{"id":215,"type":"VAEDecode","pos":[2557.6523840174286,286.8737507483159],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":68,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":398},{"name":"vae","type":"VAE","link":356,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[360],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":207,"type":"Reroute","pos":[2830,370],"size":[75,26],"flags":{},"order":70,"mode":0,"inputs":[{"name":"","type":"*","link":360}],"outputs":[{"name":"","type":"IMAGE","links":[415],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":273,"type":"ConvertAny2Int","pos":[2250,70],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":38,"mode":0,"inputs":[{"name":"input1","type":"*","link":448}],"outputs":[{"name":"INT","type":"INT","links":[449],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConvertAny2Int"},"color":"#222","bgcolor":"#000"},{"id":272,"type":"GetNode","pos":[2230,130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":7,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[448],"slot_index":0}],"title":"Get_Batch_Range","properties":{},"widgets_values":["Batch_Range"],"color":"#222","bgcolor":"#000"},{"id":270,"type":"MathExpression|pysssss","pos":[2270,10],"size":{"0":400,"1":200},"flags":{"collapsed":true},"order":69,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","link":446},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","link":449},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","link":null}],"outputs":[{"name":"INT","type":"INT","links":[],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[445],"shape":3,"slot_index":1}],"title":"Math","properties":{"Node name for S&R":"MathExpression|pysssss"},"widgets_values":["(a/b)"],"color":"#222","bgcolor":"#000"},{"id":251,"type":"ConvertAny2String","pos":[2440,70],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":73,"mode":0,"inputs":[{"name":"input1","type":"*","link":450}],"outputs":[{"name":"STRING","type":"STRING","links":[423],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConvertAny2String"},"color":"#222","bgcolor":"#000"},{"id":271,"type":"CeilNode","pos":[2470,10],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":71,"mode":0,"inputs":[{"name":"input1","type":"*","link":445}],"outputs":[{"name":"INT","type":"INT","links":[450],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CeilNode"},"color":"#222","bgcolor":"#000"},{"id":249,"type":"ConvertAny2Int","pos":[2020,130],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":67,"mode":0,"inputs":[{"name":"input1","type":"*","link":421}],"outputs":[{"name":"INT","type":"INT","links":[446],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConvertAny2Int"},"color":"#222","bgcolor":"#000"},{"id":248,"type":"GetNode","pos":[2000,10],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":8,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[420]}],"title":"Get_OpenPose_Path","properties":{},"widgets_values":["OpenPose_Path"],"color":"#222","bgcolor":"#000"},{"id":244,"type":"file_padding","pos":[2020,70],"size":{"0":280,"1":90},"flags":{"collapsed":true},"order":65,"mode":0,"inputs":[{"name":"latents","type":"LATENT","link":428},{"name":"path","type":"STRING","link":420,"widget":{"name":"path"},"slot_index":1}],"outputs":[{"name":"Number of Images (as str)","type":"STRING","links":[421],"shape":3,"slot_index":0},{"name":"Latent Passtrue","type":"LATENT","links":null,"shape":3,"slot_index":1}],"title":"Laps Needed","properties":{"Node name for S&R":"file_padding"},"widgets_values":["F:\\#Projects\\1) SD Animation\\#Test_3",3],"color":"#222","bgcolor":"#000"},{"id":239,"type":"SetNode","pos":[900.2652856914708,1317.3473748730473],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":47,"mode":0,"inputs":[{"name":"INT","type":"INT","link":412}],"outputs":[{"name":"*","type":"*","links":null}],"title":".","properties":{"previousName":""},"widgets_values":["Init_height"]},{"id":275,"type":"GetNode","pos":[1027.6523840174254,56.87375074831613],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":9,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[458],"slot_index":0}],"title":"Get_Init_Image","properties":{},"widgets_values":["Init_Image"]},{"id":276,"type":"GetNode","pos":[3240,860],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":10,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[459],"slot_index":0}],"title":"Get_Init_Image","properties":{},"widgets_values":["Init_Image"]},{"id":242,"type":"ImageScale","pos":[3070,400],"size":{"0":320,"1":130},"flags":{"collapsed":true},"order":72,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":415},{"name":"width","type":"INT","link":413,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":414,"widget":{"name":"height"},"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[416],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["lanczos",512,512,"disabled"]},{"id":70,"type":"Reroute","pos":[3370,370],"size":[75,26],"flags":{},"order":74,"mode":0,"inputs":[{"name":"","type":"*","link":416}],"outputs":[{"name":"","type":"IMAGE","links":[369,370],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":26,"type":"PreviewImage","pos":[3440,580],"size":{"0":210,"1":246},"flags":{},"order":78,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":134}],"title":"Output","properties":{"Node name for S&R":"PreviewImage"}},{"id":278,"type":"GetNode","pos":[1290,520],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":11,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[461]}],"title":"Get_Clip_Vision","properties":{},"widgets_values":["Clip_Vision"]},{"id":247,"type":"SetNode","pos":[1730,1400],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":43,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":419}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_OpenPose_Path","properties":{"previousName":"OpenPose_Path"},"widgets_values":["OpenPose_Path"],"color":"#222","bgcolor":"#000"},{"id":256,"type":"GetNode","pos":[1730,1360],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":12,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[427],"slot_index":0}],"title":"Get_Skip_Frames","properties":{},"widgets_values":["Skip_Frames"],"color":"#222","bgcolor":"#000"},{"id":185,"type":"[AnimateAnyone] Animate Anyone Sampler","pos":[2017.6523840174252,256.873750748316],"size":{"0":315,"1":618},"flags":{},"order":66,"mode":0,"inputs":[{"name":"reference_unet","type":"UNET2D","link":311},{"name":"denoising_unet","type":"UNET3D","link":312},{"name":"ref_image_latent","type":"LATENT","link":313},{"name":"clip_image_embeds","type":"CLIP_VISION_OUTPUT","link":314},{"name":"pose_latent","type":"POSE_LATENT","link":315}],"outputs":[{"name":"latent","type":"LATENT","links":[398],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"[AnimateAnyone] Animate Anyone Sampler"},"widgets_values":[999999999,"fixed",20,3.5,1,24,1,4,1,1,"DDIM",0.00085,0.012,"linear","v_prediction","trailing",1,false,true,false,"cammy_white_v1.safetensors"],"color":"#310222","bgcolor":"#451636"},{"id":29,"type":"Image Save","pos":[3920,370],"size":{"0":320,"1":560},"flags":{},"order":77,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":370},{"name":"output_path","type":"STRING","link":433,"widget":{"name":"output_path"},"slot_index":1}],"properties":{"Node name for S&R":"Image Save"},"widgets_values":["F:\\#Projects\\1) SD Animation\\14) Golden Dress\\Frame_Out\\Refined","Raw","_",4,"false","png",100,"false","false","false","true","true","true"]},{"id":187,"type":"[AnimateAnyone] Load UNet3D ConditionModel","pos":[110,530],"size":{"0":430,"1":110},"flags":{},"order":13,"mode":0,"outputs":[{"name":"unet3d","type":"UNET3D","links":[312],"shape":3,"slot_index":0}],"title":"2) Load UNet3D ConditionModel","properties":{"Node name for S&R":"[AnimateAnyone] Load UNet3D ConditionModel"},"widgets_values":["./pretrained_weights/stable-diffusion-v1-5/unet/","./pretrained_weights/denoising_unet.pth","./pretrained_weights/motion_module.pth"],"color":"#223","bgcolor":"#335"},{"id":277,"type":"SetNode","pos":[660,820],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":40,"mode":0,"inputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","link":460}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Clip_Vision","properties":{"previousName":"Clip_Vision"},"widgets_values":["Clip_Vision"]},{"id":177,"type":"CLIPVisionLoader","pos":[110,790],"size":{"0":430,"1":60},"flags":{},"order":14,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[460],"shape":3,"slot_index":0}],"title":"4) Load CLIP Vision","properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["Clip_Vision_Animate_Anyone.bin"],"color":"#223","bgcolor":"#335"},{"id":81,"type":"VAELoader","pos":[110,890],"size":{"0":430,"1":60},"flags":{},"order":15,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[320],"shape":3,"slot_index":0}],"title":"5) Load VAE","properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"],"color":"#223","bgcolor":"#335"},{"id":193,"type":"SetNode","pos":[660,920],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":41,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":320}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_vae","properties":{"previousName":"vae"},"widgets_values":["vae"]},{"id":176,"type":"CLIPVisionEncode","pos":[1510,530],"size":{"0":380.4000244140625,"1":46},"flags":{"collapsed":true},"order":61,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":461,"slot_index":0},{"name":"image","type":"IMAGE","link":300}],"outputs":[{"name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","links":[314],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionEncode"}},{"id":174,"type":"VAEEncode","pos":[1630,50],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":60,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":297},{"name":"vae","type":"VAE","link":330,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[313,428],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode","ttNbgOverride":{"color":"#223","bgcolor":"#335","groupcolor":"#88A"}},"color":"#223","bgcolor":"#335"},{"id":204,"type":"GetNode","pos":[1500,150],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":16,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[330]}],"title":"Get_vae","properties":{},"widgets_values":["vae"]},{"id":246,"type":"String to Text","pos":[1350,1380],"size":{"0":320,"1":60},"flags":{},"order":17,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[418,419],"shape":3,"slot_index":0}],"title":"OpenPose Directory","properties":{"Node name for S&R":"String to Text"},"widgets_values":["F:\\#Projects\\1) SD Animation\\26) Bad Devil\\5) OpenPose_C"],"color":"#af2da4","bgcolor":"#c341b8"},{"id":175,"type":"LoadImage","pos":[60,1167],"size":[320,310],"flags":{},"order":18,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[451],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Load Full Body Reference Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["bluetheme_skywater.jpeg","image"],"color":"#2d1c83","bgcolor":"#413097"},{"id":225,"type":"GetNode","pos":[2470,660],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":19,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[383],"slot_index":0}],"title":"Get_Batch_Range","properties":{},"widgets_values":["Batch_Range"],"color":"#222","bgcolor":"#000"},{"id":224,"type":"MathExpression|pysssss","pos":[2500,880],"size":{"0":400,"1":200},"flags":{"collapsed":true},"order":59,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","link":437,"slot_index":0},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","link":384,"slot_index":1},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","link":385}],"outputs":[{"name":"INT","type":"INT","links":[426],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"slot_index":1}],"title":"Math","properties":{"Node name for S&R":"MathExpression|pysssss"},"widgets_values":["(((c/b)*a)*b) "],"color":"#222","bgcolor":"#000"},{"id":236,"type":"INTConstant","pos":[630.2652856914708,1177.3473748730473],"size":{"0":210,"1":58},"flags":{},"order":20,"mode":0,"outputs":[{"name":"value","type":"INT","links":[411],"shape":3,"slot_index":0}],"title":"Resize Image Width","properties":{"Node name for S&R":"INTConstant"},"widgets_values":[480]},{"id":258,"type":"SetNode","pos":[910.2652856914708,1527.3473748730473],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":50,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":430}],"outputs":[{"name":"*","type":"*","links":null}],"title":".","properties":{"previousName":"Output_Path"},"widgets_values":["Output_Path"]},{"id":237,"type":"INTConstant","pos":[630.2652856914708,1287.3473748730473],"size":{"0":210,"1":58},"flags":{},"order":21,"mode":0,"outputs":[{"name":"value","type":"INT","links":[412],"shape":3,"slot_index":0}],"title":"Resize Image Height","properties":{"Node name for S&R":"INTConstant"},"widgets_values":[846]},{"id":263,"type":"GetNode","pos":[-275.0999710083008,1197.814203643799],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":22,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[438]}],"title":"Get_Skip_Frames","properties":{},"widgets_values":["Skip_Frames"],"color":"#222","bgcolor":"#000"},{"id":229,"type":"ShowText|pysssss","pos":[-495.09997100830077,1117.814203643799],"size":{"0":210,"1":80},"flags":{},"order":58,"mode":0,"inputs":[{"name":"text","type":"STRING","link":388,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"Auto Skip Frames Display","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","10"],"color":"#3e5b3f","bgcolor":"#526f53"},{"id":250,"type":"ShowText|pysssss","pos":[-505.0999710083008,1377.814203643799],"size":{"0":240,"1":80},"flags":{},"order":51,"mode":0,"inputs":[{"name":"text","type":"STRING","link":424,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"Laps_Needed","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","48"],"color":"#834545","bgcolor":"#975959"},{"id":153,"type":"Int Literal","pos":[-495.09997100830077,1237.814203643799],"size":{"0":210,"1":60},"flags":{},"order":23,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[372],"shape":3,"slot_index":0}],"title":"Batch Range","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[10],"color":"#232","bgcolor":"#353"},{"id":260,"type":"SetNode","pos":[-245.09997100830077,1577.814203643799],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":53,"mode":0,"inputs":[{"name":"INT","type":"INT","link":434}],"outputs":[{"name":"*","type":"*","links":null}],"title":".","properties":{"previousName":"Lap_Counter"},"widgets_values":["Lap_Counter"],"color":"#222","bgcolor":"#000"},{"id":95,"type":"String to Text","pos":[540,1500],"size":{"0":320,"1":60},"flags":{},"order":24,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[430],"shape":3,"slot_index":0}],"title":"Output Folder Path","properties":{"Node name for S&R":"String to Text"},"widgets_values":["F:\\#Projects\\1) SD Animation\\26) Bad Devil\\Render_9"],"color":"#004d8a","bgcolor":"#00619e"},{"id":254,"type":"GetNode","pos":[-247.2855224609375,1459.9999084472656],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":25,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[424],"slot_index":0}],"title":"Get_Laps_Needed","properties":{},"widgets_values":["Laps_Needed"],"color":"#222","bgcolor":"#000"},{"id":222,"type":"SetNode","pos":[-267.2855224609375,1289.9999084472656],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":49,"mode":0,"inputs":[{"name":"INT","type":"INT","link":372}],"outputs":[{"name":"*","type":"*","links":null}],"title":".","properties":{"previousName":"Batch_Range"},"widgets_values":["Batch_Range"],"color":"#222","bgcolor":"#000"},{"id":98,"type":"PreviewImage","pos":[1100,1250],"size":{"0":220,"1":260},"flags":{},"order":63,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":160}],"title":"CN 1 Preview","properties":{"Node name for S&R":"PreviewImage"}},{"id":168,"type":"Note","pos":[-1240,220],"size":{"0":610,"1":60},"flags":{},"order":26,"mode":0,"title":"File Name + Special Feature","properties":{"text":""},"widgets_values":["#2_7 - Animate Anyone Raw "],"color":"#84116b","bgcolor":"#98257f","shape":4},{"id":252,"type":"SetNode","pos":[2430,130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":75,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":423}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Laps_Needed","properties":{"previousName":"Laps_Needed"},"widgets_values":["Laps_Needed"],"color":"#222","bgcolor":"#000"},{"id":262,"type":"ConvertAny2Int","pos":[2480,820],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":52,"mode":0,"inputs":[{"name":"input1","type":"*","link":436}],"outputs":[{"name":"INT","type":"INT","links":[437],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConvertAny2Int"},"color":"#222","bgcolor":"#000"},{"id":261,"type":"GetNode","pos":[2470,710],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":27,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[436],"slot_index":0}],"title":"Get_Lap_Counter","properties":{},"widgets_values":["Lap_Counter"],"color":"#222","bgcolor":"#000"},{"id":255,"type":"SetNode","pos":[2480,950],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":64,"mode":0,"inputs":[{"name":"INT","type":"INT","link":426}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Skip_Frames","properties":{"previousName":"Skip_Frames"},"widgets_values":["Skip_Frames"],"color":"#222","bgcolor":"#000"},{"id":221,"type":"Seed Generator","pos":[-505.0999710083008,1497.814203643799],"size":{"0":240,"1":90},"flags":{"pinned":false},"order":28,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[434],"shape":3,"slot_index":0}],"title":"Lap Counter","properties":{"Node name for S&R":"Seed Generator"},"widgets_values":[0,"fixed"],"color":"#6b1010","bgcolor":"#7f2424"},{"id":283,"type":"Note","pos":[-950,1420],"size":{"0":220,"1":70},"flags":{},"order":29,"mode":0,"title":"Lap Counter Important Note","properties":{"text":""},"widgets_values":["Make Sure to Put 0 in the Lap Counter before Starting for Final Render and delete the test images."],"color":"#840000","bgcolor":"#980101"},{"id":282,"type":"Note","pos":[-950,1060],"size":[350,320],"flags":{},"order":30,"mode":0,"title":"Automation","properties":{"text":""},"widgets_values":["\nLap Counter: It increases the skip frames after every queue automatically according to the batch range set by you. \n\n1) Enter Batch Range (10 is good) \n2) After the first run it will tell the number n of queues you need in the Laps Needed Node.\n\n3) Change The Control_After_Generate to \"Increment\" when ready for automation\n\n4) Press the Queue Prompt Button n times till your Queue Size = N in the side menu. Or use Extra's Batch Option.  \n\nIt will automatically stop if you by mistakenly entered more laps, with no images found error, which is fine, no need to worry.  \n\n"],"color":"#6b1010","bgcolor":"#7f2424"},{"id":274,"type":"SetNode","pos":[450,1470],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":44,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":451}],"outputs":[{"name":"*","type":"*","links":null}],"title":".","properties":{"previousName":"Init_Image"},"widgets_values":["Init_Image"]},{"id":186,"type":"[AnimateAnyone] Load UNet2D ConditionModel","pos":[110,410],"size":{"0":430,"1":82},"flags":{},"order":31,"mode":0,"outputs":[{"name":"unet2d","type":"UNET2D","links":[311],"shape":3,"slot_index":0}],"title":"1) Load UNet2D ConditionModel","properties":{"Node name for S&R":"[AnimateAnyone] Load UNet2D ConditionModel"},"widgets_values":["./pretrained_weights/stable-diffusion-v1-5/unet/","./pretrained_weights/reference_unet.pth"],"color":"#223","bgcolor":"#335"},{"id":188,"type":"[AnimateAnyone] Load Pose Guider","pos":[110,680],"size":{"0":430,"1":60},"flags":{},"order":32,"mode":0,"outputs":[{"name":"pose_guider","type":"POSE_GUIDER","links":[316],"shape":3,"slot_index":0}],"title":"3) Load Pose Guider","properties":{"Node name for S&R":"[AnimateAnyone] Load Pose Guider"},"widgets_values":["./pretrained_weights/pose_guider.pth"],"color":"#223","bgcolor":"#335"},{"id":166,"type":"Note","pos":[-1240,420],"size":[610,230],"flags":{},"order":33,"mode":0,"title":"#2_7 Animate Anyone Raw","properties":{"text":""},"widgets_values":["HOW TO USE: \n\n*Download and load all the Animate Anyone models in proper folder (See Load Models Note)  \n\n1) Upload a full body reference Image in the load image node [Purple Node]. \n2) Enter the Output path for saving the raw images [Blue Node].\n3) Enter Openpose Directory in the [Neon Pink Node] (It should be already exported by #1 Passes Extractor file) \n4) Enter Batch Range (Minimum 10) \n\nBackground distorts according to the Range, longer range has more wobble. Use higer range (<10) only when you have a more than 8 GB else frequent out of memory issue. \n\n5) Play Lap Counter for automation [Red Node]. (See note for more details) \n\n6) Hit Queue. \n\n\n\n\n\n\n-----------------------------------------\n\n\nMain Download Folder Link : https://drive.google.com/drive/folders/1HoZxKUX7WAg7ObqP00R4oIv48sXCEryQ?usp=sharing\n_________________________________________\n\n\nVideo Tutorials On my Channel - AnimateDiff ControlNet Animation\nhttps://www.youtube.com/watch?v=qczh3caLZ8o&ab_channel=JerryDavosAI\n\n\nNode Workflow By \nJerry Davos"],"color":"#80430a","bgcolor":"#94571e","shape":4},{"id":184,"type":"INTConstant","pos":[1030,120],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":34,"mode":0,"outputs":[{"name":"value","type":"INT","links":[306,309],"shape":3,"slot_index":0}],"title":"Animate_AnyOne_Height","properties":{"Node name for S&R":"INTConstant"},"widgets_values":[768],"color":"#1b4669","bgcolor":"#29699c"},{"id":183,"type":"INTConstant","pos":[1030,160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":35,"mode":0,"outputs":[{"name":"value","type":"INT","links":[307,310],"shape":3,"slot_index":0}],"title":"Animate_Anyone_Width","properties":{"Node name for S&R":"INTConstant"},"widgets_values":[512],"color":"#1b4669","bgcolor":"#29699c"},{"id":279,"type":"Note","pos":[40,30],"size":[610,310],"flags":{},"order":36,"mode":0,"title":"Loading Models + Errors Fix ","properties":{"text":""},"widgets_values":["GitHub Link: https://github.com/MrForExample/ComfyUI-AnimateAnyone-Evolved\n\n1) Download this: \nhttps://huggingface.co/runwayml/stable-diffusion-v1-5/blob/main/unet/diffusion_pytorch_model.bin\nPut Here: ComfyUI\\custom_nodes\\ComfyUI-AnimateAnyone-Evolved\\pretrained_weights\\stable-diffusion-v1-5\\unet\n\n\n2 + 3) Download these:  \ndenoising_unet.pth\nmotion_module.pth\npose_guider.pth\nreference_unet.pth\n\nfrom here here: https://huggingface.co/patrolli/AnimateAnyone/tree/main \n\nand put here: ComfyUI\\custom_nodes\\ComfyUI-AnimateAnyone-Evolved\\pretrained_weights\n\n\n4) Download Pytorch_model.bin From here \nhttps://huggingface.co/lambdalabs/sd-image-variations-diffusers/tree/main/image_encoder\n\nrename it to Clip_Vision_Animate_Anyone and put here: ComfyUI\\models\\clip_vision \n\n*Other than this clip vision model will give errors \n\n\n5) You can use any SD vae in this. \n\n\n__________________________________________________________________________\n\n\nAlso pip install diffusers in the venv if getting 'diffusers.models.embeddings' error \nhttps://github.com/MrForExample/ComfyUI-AnimateAnyone-Evolved/issues/2#issuecomment-1901089199\n\n\n\nTrouble shooting errors : https://github.com/MrForExample/ComfyUI-AnimateAnyone-Evolved/issues\n"],"color":"#223","bgcolor":"#335","shape":4},{"id":281,"type":"Note","pos":[230,1660],"size":{"0":610,"1":230},"flags":{},"order":37,"mode":0,"title":"Image Loading and Resizing","properties":{"text":""},"widgets_values":["1) Since Animate Anyone is trained on 512x768 resolution, Input Reference Images close to this dimension. \n\n2) Load Portrait full body images which are facing in the front with face, hands, legs fully visible and no overlapping. This will give best output.  \n\n3) Resize: OpenPose Images will be of Different dimension, Put Resize values in ratio to the open pose image dimension.  Do not worry if there is little stretching or squashing of the image, it will be fixed in the refiner file. \n\n4) Keep Background simple or plain (which does not have objects), because it going to wobble a lot in the background.\n\nTip: For every batch change, it will be inconsistent, use value to around 10-12 in the \"start refiner from nth step\" to reduce this inconsistency. inside the refiner file. \n"],"color":"#004d8a","bgcolor":"#00619e","shape":4}],"links":[[134,62,0,26,0,"IMAGE"],[159,17,0,99,0,"IMAGE"],[160,99,0,98,0,"IMAGE"],[297,181,0,174,0,"IMAGE"],[300,181,0,176,1,"IMAGE"],[306,184,0,181,1,"INT"],[307,183,0,181,2,"INT"],[309,184,0,182,1,"INT"],[310,183,0,182,2,"INT"],[311,186,0,185,0,"UNET2D"],[312,187,0,185,1,"UNET3D"],[313,174,0,185,2,"LATENT"],[314,176,0,185,3,"CLIP_VISION_OUTPUT"],[315,189,0,185,4,"POSE_LATENT"],[316,188,0,189,0,"POSE_GUIDER"],[317,182,0,189,1,"IMAGE"],[319,17,0,192,0,"*"],[320,81,0,193,0,"*"],[329,201,0,182,0,"IMAGE"],[330,204,0,174,1,"VAE"],[356,216,0,215,1,"VAE"],[360,215,0,207,0,"*"],[369,70,0,62,0,"IMAGE"],[370,70,0,29,0,"IMAGE"],[372,153,0,222,0,"*"],[383,225,0,227,0,"*"],[384,227,0,224,1,"INT,FLOAT,IMAGE,LATENT"],[385,227,0,224,2,"INT,FLOAT,IMAGE,LATENT"],[388,230,0,229,0,"STRING"],[398,185,0,215,0,"LATENT"],[411,236,0,238,0,"*"],[412,237,0,239,0,"*"],[413,240,0,242,1,"INT"],[414,241,0,242,2,"INT"],[415,207,0,242,0,"IMAGE"],[416,242,0,70,0,"*"],[418,246,0,17,2,"STRING"],[419,246,0,247,0,"*"],[420,248,0,244,1,"STRING"],[421,244,0,249,0,"*"],[423,251,0,252,0,"*"],[424,254,0,250,0,"STRING"],[426,224,0,255,0,"*"],[427,256,0,17,1,"INT"],[428,174,0,244,0,"LATENT"],[429,257,0,17,0,"INT"],[430,95,0,258,0,"*"],[433,259,0,29,1,"STRING"],[434,221,0,260,0,"*"],[436,261,0,262,0,"*"],[437,262,0,224,0,"INT,FLOAT,IMAGE,LATENT"],[438,263,0,230,0,"*"],[445,270,1,271,0,"*"],[446,249,0,270,0,"INT,FLOAT,IMAGE,LATENT"],[448,272,0,273,0,"*"],[449,273,0,270,1,"INT,FLOAT,IMAGE,LATENT"],[450,271,0,251,0,"*"],[451,175,0,274,0,"*"],[458,275,0,181,0,"IMAGE"],[459,276,0,45,0,"IMAGE"],[460,177,0,277,0,"*"],[461,278,0,176,0,"CLIP_VISION"]],"groups":[{"title":"Animate_Anyone","bounding":[1,-84,2709,1109],"color":"#514a73","font_size":24,"locked":false},{"title":"2) Input OpenPose Directory","bounding":[1033,1056,931,545],"color":"#5e468c","font_size":24,"locked":false},{"title":"1) Input - Output","bounding":[-1,1054,1016,550],"color":"#486dc2","font_size":24,"locked":false},{"title":"Heart","bounding":[-585,1029,568,580],"color":"#ae1010","font_size":24,"locked":false}],"config":{},"extra":{"groupNodes":{}},"version":0.4}