{"last_node_id":187,"last_link_id":403,"nodes":[{"id":25,"type":"ImageScale","pos":[-140.04754903456427,-103.3256945597213],"size":{"0":210,"1":130},"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":288},{"name":"width","type":"INT","link":297,"widget":{"name":"width"}},{"name":"height","type":"INT","link":298,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[34,331,339,375],"shape":3,"slot_index":0}],"title":"Scale to Fit","properties":{"Node name for S&R":"ImageScale","ttNbgOverride":{"color":"#332922","bgcolor":"#593930","groupcolor":"#b06634"}},"widgets_values":["nearest-exact",512,512,"disabled"],"color":"#432","bgcolor":"#653"},{"id":164,"type":"MaskToImage","pos":[-860.1280630812162,-106.03547435484872],"size":{"0":202.81430053710938,"1":27.54825210571289},"flags":{},"order":21,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":367}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[358],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"color":"#323","bgcolor":"#535"},{"id":170,"type":"MaskToImage","pos":[-404.5281180128571,-107.83544688902842],"size":{"0":210,"1":26},"flags":{},"order":26,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":383}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[371],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"color":"#323","bgcolor":"#535"},{"id":171,"type":"PreviewImage","pos":[-402.5281180128571,-40.83544688902839],"size":{"0":204.2635498046875,"1":246},"flags":{},"order":28,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":371}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#323","bgcolor":"#535"},{"id":54,"type":"CheckpointLoaderSimple","pos":[-525.0000610351564,310.27702289187334],"size":{"0":329.8061218261719,"1":98},"flags":{},"order":0,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[321],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[322],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[291,292,311],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["dreamshaper_8LCM.safetensors"],"color":"#223","bgcolor":"#335"},{"id":153,"type":"CR Apply LoRA Stack","pos":[-523.0000610351564,451.27702289187334],"size":{"0":328.54718017578125,"1":66},"flags":{},"order":15,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":321},{"name":"clip","type":"CLIP","link":322},{"name":"lora_stack","type":"LORA_STACK","link":320}],"outputs":[{"name":"MODEL","type":"MODEL","links":[325],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[323,324],"shape":3,"slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Apply LoRA Stack"},"color":"#223","bgcolor":"#335"},{"id":157,"type":"TilePreprocessor","pos":[-138.88218169984748,69.97950275392314],"size":{"0":210,"1":82.85492706298828},"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":339}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[340],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TilePreprocessor"},"widgets_values":[2,512],"color":"#432","bgcolor":"#653"},{"id":173,"type":"InpaintPreprocessor","pos":[-136.88218169984745,196.97950275392301],"size":{"0":210,"1":46},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":375},{"name":"mask","type":"MASK","link":378}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[377],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"InpaintPreprocessor"},"color":"#432","bgcolor":"#653"},{"id":165,"type":"ImageScale","pos":[-637,-112.02043699343562],"size":{"0":210,"1":122},"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":358},{"name":"width","type":"INT","link":356,"widget":{"name":"width"}},{"name":"height","type":"INT","link":357,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[360],"shape":3,"slot_index":0}],"title":"Scale to Fit","properties":{"Node name for S&R":"ImageScale","ttNbgOverride":{"color":"#332922","bgcolor":"#593930","groupcolor":"#b06634"}},"widgets_values":["nearest-exact",512,512,"disabled"],"color":"#323","bgcolor":"#535"},{"id":166,"type":"ImageToMask","pos":[-639.1280630812162,47.96452564515144],"size":{"0":210,"1":58},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":360}],"outputs":[{"name":"MASK","type":"MASK","links":[378,382,383],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"color":"#323","bgcolor":"#535"},{"id":101,"type":"IPAdapterModelLoader","pos":[685,-102],"size":{"0":345.29583740234375,"1":58},"flags":{},"order":1,"mode":4,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[195],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter_sd15_light.safetensors"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":155,"type":"CR Apply Multi-ControlNet","pos":[257.1178183001526,393.9795027539227],"size":{"0":330,"1":98},"flags":{},"order":29,"mode":0,"inputs":[{"name":"base_positive","type":"CONDITIONING","link":333},{"name":"base_negative","type":"CONDITIONING","link":334},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":327}],"outputs":[{"name":"base_pos","type":"CONDITIONING","links":[335,379],"shape":3,"slot_index":0},{"name":"base_neg","type":"CONDITIONING","links":[336,380],"shape":3,"slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Apply Multi-ControlNet"},"widgets_values":["On"],"color":"#432","bgcolor":"#653"},{"id":103,"type":"CLIPVisionLoader","pos":[686,-10],"size":{"0":342.29583740234375,"1":58},"flags":{},"order":2,"mode":4,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[196],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["model.safetensors"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":180,"type":"PrepImageForClipVision","pos":[691,372],"size":{"0":331.7503662109375,"1":106.5643081665039},"flags":{},"order":12,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":394}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[395],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","top",0.1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":158,"type":"LoadImage","pos":[690,516],"size":{"0":328.81524658203125,"1":314.20751953125},"flags":{},"order":3,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[394],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"IPAdapter reference","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["749D6CD437B2A062FADB329B046220E45A57D01B3145E0E5198059416CEEC964.jpeg","image"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":28,"type":"VAEEncode","pos":[1083,-108],"size":{"0":140,"1":46},"flags":{"collapsed":false},"order":17,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":34},{"name":"vae","type":"VAE","link":291}],"outputs":[{"name":"LATENT","type":"LATENT","links":[45],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode","ttNbgOverride":{"color":"#332922","bgcolor":"#593930","groupcolor":"#b06634"}},"color":"#323","bgcolor":"#535"},{"id":39,"type":"VAEDecode","pos":[1230,-110],"size":{"0":140,"1":46},"flags":{"collapsed":false},"order":31,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":47},{"name":"vae","type":"VAE","link":292}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[362],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#323","bgcolor":"#535"},{"id":167,"type":"PreviewImage","pos":[1385,-108],"size":{"0":420.8614501953125,"1":336.5257568359375},"flags":{},"order":33,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":362}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#323","bgcolor":"#535"},{"id":161,"type":"Mask Gaussian Region","pos":[-860.1280630812162,-39.0354743548487],"size":{"0":210,"1":58},"flags":{},"order":16,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":366}],"outputs":[{"name":"MASKS","type":"MASK","links":[367],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Mask Gaussian Region"},"widgets_values":[4],"color":"#323","bgcolor":"#535"},{"id":162,"type":"GrowMask","pos":[-860.1280630812162,59.96452564515137],"size":{"0":210,"1":82},"flags":{},"order":13,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":352}],"outputs":[{"name":"MASK","type":"MASK","links":[366],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[3,true],"color":"#323","bgcolor":"#535"},{"id":183,"type":"ImageUpscaleWithModel","pos":[1386,428],"size":{"0":314.006591796875,"1":46},"flags":{},"order":37,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":401,"slot_index":0},{"name":"image","type":"IMAGE","link":402}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[403],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"},"color":"#233","bgcolor":"#355"},{"id":62,"type":"SaveImage","pos":[671,1002],"size":{"0":789.0941772460938,"1":848.2140502929688},"flags":{},"order":39,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":403}],"properties":{},"widgets_values":["%date:M-d-yy%/sketch"],"color":"#332922","bgcolor":"#593930"},{"id":147,"type":"ImageScale","pos":[1549,1037],"size":{"0":247.4456787109375,"1":122},"flags":{},"order":36,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":313},{"name":"width","type":"INT","link":314,"widget":{"name":"width"}},{"name":"height","type":"INT","link":315,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[350],"shape":3,"slot_index":0}],"title":"Downscale To Canvas","properties":{"Node name for S&R":"ImageScale","ttNbgOverride":{"color":"#332922","bgcolor":"#593930","groupcolor":"#b06634"}},"widgets_values":["nearest-exact",512,512,"disabled"],"color":"#332922","bgcolor":"#593930"},{"id":146,"type":"VAEDecode","pos":[1545,945],"size":{"0":246.56646728515625,"1":46},"flags":{"collapsed":false},"order":35,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":310},{"name":"vae","type":"VAE","link":311}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[313,402],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#332922","bgcolor":"#593930"},{"id":119,"type":"Send_To_Editor","pos":[1551,1199],"size":{"0":244.0801544189453,"1":26},"flags":{},"order":38,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":350}],"properties":{"Node name for S&R":"Send_To_Editor"},"color":"#332922","bgcolor":"#593930"},{"id":112,"type":"Canvas_Tab","pos":[171.79285178750666,1118.1009076189118],"size":{"0":448.0934143066406,"1":466.0882263183594},"flags":{},"order":4,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[288],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[352],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Canvas_Tab"},"widgets_values":[false,"bingo","",""],"color":"#232","bgcolor":"#353"},{"id":141,"type":"KSampler","pos":[1085,457],"size":{"0":274.0299987792969,"1":257.3533935546875},"flags":{},"order":34,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":398},{"name":"positive","type":"CONDITIONING","link":379,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":380},{"name":"latent_image","type":"LATENT","link":301},{"name":"seed","type":"INT","link":397,"widget":{"name":"seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[310],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[631922618868706,"fixed",8,2,"lcm","normal",0.35000000000000003],"color":"#233","bgcolor":"#355"},{"id":184,"type":"UpscaleModelLoader","pos":[1385,332],"size":{"0":315,"1":58},"flags":{},"order":5,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[401],"shape":3}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x4plus.pth"],"color":"#233","bgcolor":"#355"},{"id":142,"type":"LatentUpscaleBy","pos":[1085,328],"size":{"0":275.91888427734375,"1":91.80769348144531},"flags":{},"order":32,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":296},{"name":"scale_by","type":"FLOAT","link":300,"widget":{"name":"scale_by"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[301],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentUpscaleBy"},"widgets_values":["bilinear",1.5],"color":"#233","bgcolor":"#355"},{"id":181,"type":"CR Seed","pos":[291,913],"size":{"0":329.79248046875,"1":102},"flags":{},"order":6,"mode":0,"outputs":[{"name":"seed","type":"INT","links":[396,397],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Seed"},"widgets_values":[216221137369780,"randomize"],"color":"#232","bgcolor":"#353"},{"id":38,"type":"KSampler","pos":[1083,-26],"size":{"0":288.0806884765625,"1":257.2035827636719},"flags":{},"order":30,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":199},{"name":"positive","type":"CONDITIONING","link":335,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":336},{"name":"latent_image","type":"LATENT","link":45},{"name":"seed","type":"INT","link":396,"widget":{"name":"seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[47,296],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[380686007085086,"randomize",7,2.3000000000000003,"lcm","normal",0.65],"color":"#323","bgcolor":"#535"},{"id":130,"type":"CLIPTextEncode","pos":[225,760],"size":{"0":397.41741943359375,"1":108.66476440429688},"flags":{"collapsed":false},"order":20,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":324,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[334],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(text:1.3), (words:1.3), signature, watermark, worst quality, embed:baddream"],"color":"#322","bgcolor":"#533"},{"id":102,"type":"IPAdapterApply","pos":[688,79],"size":{"0":335.35980224609375,"1":258},"flags":{},"order":25,"mode":4,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":195},{"name":"clip_vision","type":"CLIP_VISION","link":196,"slot_index":1},{"name":"image","type":"IMAGE","link":395},{"name":"model","type":"MODEL","link":325},{"name":"attn_mask","type":"MASK","link":382,"slot_index":4}],"outputs":[{"name":"MODEL","type":"MODEL","links":[199,398],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[1.52,0.1,"original",0,1,false],"color":"#2a363b","bgcolor":"#3f5159"},{"id":143,"type":"CR SD1.5 Aspect Ratio","pos":[-130,596],"size":{"0":335.3785400390625,"1":278},"flags":{},"order":7,"mode":0,"outputs":[{"name":"width","type":"INT","links":[297,314,356],"shape":3,"slot_index":0},{"name":"height","type":"INT","links":[298,315,357],"shape":3,"slot_index":1},{"name":"upscale_factor","type":"FLOAT","links":[300],"shape":3,"slot_index":2},{"name":"batch_size","type":"INT","links":null,"shape":3},{"name":"empty_latent","type":"LATENT","links":null,"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR SD1.5 Aspect Ratio"},"widgets_values":[512,512,"1:1 square 512x512","On",1.4000000000000001,1],"color":"#232","bgcolor":"#353"},{"id":152,"type":"CR LoRA Stack","pos":[-868.0000610351564,301.27702289187334],"size":{"0":315,"1":342},"flags":{},"order":8,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[320],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","detail_slider_v4.safetensors",0.5,0.5,"Off","None",1,1,"Off","None",1,1],"color":"#223","bgcolor":"#335"},{"id":53,"type":"CLIPTextEncode","pos":[224,600],"size":{"0":400.75994873046875,"1":117.56962585449219},"flags":{"collapsed":false},"order":19,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":323,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[333],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["green alien, blue handlebar mustache, (masterpiece:1.3), (best quality:1.3),( highly detailed:1.3)"],"color":"#232","bgcolor":"#353"},{"id":154,"type":"CR Multi-ControlNet Stack","pos":[167.1178183001525,-102.02049724607693],"size":{"0":418.1999816894531,"1":454},"flags":{},"order":27,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":331},{"name":"image_2","type":"IMAGE","link":340},{"name":"image_3","type":"IMAGE","link":377},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[327],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","coadapter-sketch-sd15v1.pth",0.5,0,1,"On","control_v11f1e_sd15_tile.pth",0.15,0,1,"Off","control_v11p_sd15_inpaint.pth",1,0,1],"color":"#432","bgcolor":"#653"},{"id":185,"type":"Note","pos":[-880.230690210156,975.8819086066741],"size":{"0":1015.0906372070312,"1":365.685302734375},"flags":{},"order":9,"mode":0,"title":"Getting Started","properties":{"text":""},"widgets_values":["1. Make sure you have all the custom nodes installed. If you don't, start with the manager: https://github.com/ltdrdata/ComfyUI-Manager then install missing nodes\n2. The canvas node can be a little tricky to use in the way I am interacting with it. I recommend starting simple with a 512x512 canvas.\n\nSimple sketch flow:\n1. Not necessary, but reinforcement with prompts helps quite a bit for whatever you want to sketch\n2. Disable the inpaint controlnet for a first pass, otherwise you will have to completely color in the mask in canvas (the IPAdaptor requires the mask too, so make sure there is some black on the mask if you want that to work)\n3. Click Edit on the Canvas node. Create a new image in the same size you selected for the aspect ratio\n4. Add a new layer and right click on it to make the red target appear (this will be where the result image gets placed for the next iteration)\n5. Click on the base layer and start sketching\n6. Queue it up (then follow the inpainting if you want)\n\nInpainting flow:\n1. Make sure the inpainting controlnet is enabled\n2. (optional) If you didn't already generate an image from sketch, right click on the base layer to mark it as target. Then go drag a background image onto the canvas node in the ComfyUI workspace. (best if it is the same size)\n3. Create two new layers in canvas on top of the base, right click on the top one to make it the next target (this way you can always revert to a previous iteration if you want)\n4. Click on the layer between that is blank to draw any new stuff. You may need to update your prompt to match whatever you are trying to inpaint.\n5. Color in the mask layer where you want the inpainting to happen. Make sure the mask includes all the sketches you made or you might get weird unrendered parts)\n(Note that currently Canvas will automatically queue the prompt every time you release the mouse when editing the mask layer, I think this is a bug, so hopefully you don't have that problem)\n6. Repeat\n\n(optional IPAdapter)\n1. The IPAdapter is pretty great at adopting the style of whatever image you drop in there as reference. "],"color":"#222","bgcolor":"#000"},{"id":186,"type":"Note","pos":[-877.230690210156,1380.8819086066744],"size":[1006.6414446046873,251.8322088249663],"flags":{},"order":10,"mode":0,"title":"Recommendations","properties":{"text":""},"widgets_values":["-- Canvas is freaking amazing, and also a little clunky at the time I built this workflow. Watch which layer you have targetted and which image you have active with the little green tab at the top right.\n\nModels/Sampler\n--This is set up for SD1.5 models and ratios. I haven't tested on 2.0 or XL models.\n--Use the Dreamshaper LCM model for speedy rendering. I use about 5-6 steps on the first pass when using upscale, and 7-9 steps on upscale sampler. When I disable upscale, I bump the steps up on the first sampler.\n--For the LCM, be careful with the CFG, keep it around 2-2.5\n--If you go much higher than 1.5 upscale factor, stuff starts to get weird\n--Make sure your selected base image size in the aspect ratio box matches the canvas size selected in the ComfyUI Canvas Editor\n--If you decide to try a different model that isn't LCM, just make sure you update all the samplers accordingly.\n\nIPAdapter\n--The preprocessing I have is pretty basic. If you don't want your image to be cropped weirdly, pre-crop it to the reference you want, and scale it to 512\n--If you add much noise beyond 0.05, it starts to affect the whole image during inpainting, not just the masked part. Might be what you want, but if you want the inpainting to be really focused, keep the noise low\n\n"],"color":"#222","bgcolor":"#000"},{"id":187,"type":"Note","pos":[-878,1673],"size":{"0":1003.7387084960938,"1":64.03767395019531},"flags":{},"order":11,"mode":0,"properties":{"text":""},"widgets_values":["Thanks to all you guys who built this amazing program. Stability, ComfyUI, Comfyroll, IPAdaptor, ControlNet, and Canvas. And a huge thanks to all the artists who knowingly or unknowingly trained the models. It's all EPIC!"],"color":"#222","bgcolor":"#000"}],"links":[[34,25,0,28,0,"IMAGE"],[45,28,0,38,3,"LATENT"],[47,38,0,39,0,"LATENT"],[195,101,0,102,0,"IPADAPTER"],[196,103,0,102,1,"CLIP_VISION"],[199,102,0,38,0,"MODEL"],[288,112,0,25,0,"IMAGE"],[291,54,2,28,1,"VAE"],[292,54,2,39,1,"VAE"],[296,38,0,142,0,"LATENT"],[297,143,0,25,1,"INT"],[298,143,1,25,2,"INT"],[300,143,2,142,1,"FLOAT"],[301,142,0,141,3,"LATENT"],[310,141,0,146,0,"LATENT"],[311,54,2,146,1,"VAE"],[313,146,0,147,0,"IMAGE"],[314,143,0,147,1,"INT"],[315,143,1,147,2,"INT"],[320,152,0,153,2,"LORA_STACK"],[321,54,0,153,0,"MODEL"],[322,54,1,153,1,"CLIP"],[323,153,1,53,0,"CLIP"],[324,153,1,130,0,"CLIP"],[325,153,0,102,3,"MODEL"],[327,154,0,155,2,"CONTROL_NET_STACK"],[331,25,0,154,0,"IMAGE"],[333,53,0,155,0,"CONDITIONING"],[334,130,0,155,1,"CONDITIONING"],[335,155,0,38,1,"CONDITIONING"],[336,155,1,38,2,"CONDITIONING"],[339,25,0,157,0,"IMAGE"],[340,157,0,154,1,"IMAGE"],[350,147,0,119,0,"IMAGE"],[352,112,1,162,0,"MASK"],[356,143,0,165,1,"INT"],[357,143,1,165,2,"INT"],[358,164,0,165,0,"IMAGE"],[360,165,0,166,0,"IMAGE"],[362,39,0,167,0,"IMAGE"],[366,162,0,161,0,"MASK"],[367,161,0,164,0,"MASK"],[371,170,0,171,0,"IMAGE"],[375,25,0,173,0,"IMAGE"],[377,173,0,154,2,"IMAGE"],[378,166,0,173,1,"MASK"],[379,155,0,141,1,"CONDITIONING"],[380,155,1,141,2,"CONDITIONING"],[382,166,0,102,4,"MASK"],[383,166,0,170,0,"MASK"],[394,158,0,180,0,"IMAGE"],[395,180,0,102,2,"IMAGE"],[396,181,0,38,4,"INT"],[397,181,0,141,4,"INT"],[398,102,0,141,0,"MODEL"],[401,184,0,183,0,"UPSCALE_MODEL"],[402,146,0,183,1,"IMAGE"],[403,183,0,62,0,"IMAGE"]],"groups":[{"title":"Prompts","bounding":[-157,521,797,513],"color":"#444","font_size":24},{"title":"Model and Lora","bounding":[-883,223,714,434],"color":"#88A","font_size":24},{"title":"ControlNets","bounding":[-157,-179,803,690],"color":"#b58b2a","font_size":24},{"title":"IPAdapter","bounding":[654,-178,407,1044],"color":"#3f789e","font_size":24},{"title":"Sampler","bounding":[1071,-176,748,421],"color":"#a1309b","font_size":24},{"title":"Canvas","bounding":[160,1045,482,558],"color":"#8A8","font_size":24},{"title":"Save","bounding":[653,878,1161,1021],"color":"#b06634","font_size":24},{"title":"Upscale","bounding":[1071,253,746,613],"color":"#8AA","font_size":24},{"title":"Mask","bounding":[-882,-180,713,393],"color":"#a1309b","font_size":24},{"title":"Notes","bounding":[-899,895,1042,854],"color":"#444","font_size":24}],"config":{},"extra":{},"version":0.4}