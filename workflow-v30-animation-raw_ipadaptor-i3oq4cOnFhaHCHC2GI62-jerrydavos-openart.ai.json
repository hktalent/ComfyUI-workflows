{"last_node_id":559,"last_link_id":969,"nodes":[{"id":176,"type":"Reroute","pos":[5420,970],"size":[90.4,26],"flags":{},"order":103,"mode":0,"inputs":[{"name":"","type":"*","link":688}],"outputs":[{"name":"LATENT","type":"LATENT","links":[765],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":361,"type":"CR Integer To String","pos":[5010,500],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":71,"mode":0,"inputs":[{"name":"int_","type":"INT","link":690,"widget":{"name":"int_"},"slot_index":0}],"outputs":[{"name":"STRING","type":"STRING","links":[689],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Integer To String"},"widgets_values":[0]},{"id":136,"type":"Reroute","pos":[6050,3110],"size":[75,26],"flags":{},"order":109,"mode":0,"inputs":[{"name":"","type":"*","link":703}],"outputs":[{"name":"VAE","type":"VAE","links":[677],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":223,"type":"Reroute","pos":[2040,3030],"size":[75,26],"flags":{},"order":80,"mode":0,"inputs":[{"name":"","type":"*","link":748}],"outputs":[{"name":"CLIP","type":"CLIP","links":[456],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":224,"type":"Reroute","pos":[1730,3130],"size":[75,26],"flags":{},"order":81,"mode":0,"inputs":[{"name":"","type":"*","link":758}],"outputs":[{"name":"VAE","type":"VAE","links":[407]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":230,"type":"smZ CLIPTextEncode","pos":[3800,2320],"size":{"0":220,"1":160},"flags":{"collapsed":true},"order":127,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":679},{"name":"text","type":"STRING","link":414,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[944],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"smZ CLIPTextEncode"},"widgets_values":["","comfy",true,false,false,false,6,1024,1024,0,0,1024,1024,"","",1],"color":"#322","bgcolor":"#533"},{"id":368,"type":"VHS_SplitImages","pos":[7720,1230],"size":{"0":315,"1":118},"flags":{"collapsed":true},"order":144,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":714}],"outputs":[{"name":"IMAGE_A","type":"IMAGE","links":[702],"shape":3,"slot_index":0},{"name":"A_count","type":"INT","links":null,"shape":3},{"name":"IMAGE_B","type":"IMAGE","links":null,"shape":3},{"name":"B_count","type":"INT","links":null,"shape":3}],"title":"Preview Only 5 Images","properties":{"Node name for S&R":"VHS_SplitImages"},"widgets_values":{"split_index":5}},{"id":334,"type":"Image Save","pos":[8080,930],"size":{"0":320,"1":560},"flags":{},"order":145,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":715},{"name":"output_path","type":"STRING","link":692,"widget":{"name":"output_path"}},{"name":"filename_prefix","type":"STRING","link":684,"widget":{"name":"filename_prefix"}}],"properties":{"Node name for S&R":"Image Save"},"widgets_values":["F:\\#Projects\\1) SD Animation\\14) Golden Dress\\Raw","","_",4,"false","png",100,"false","false","false","true","true","true"]},{"id":363,"type":"Reroute","pos":[5010,420],"size":[75,26],"flags":{},"order":78,"mode":0,"inputs":[{"name":"","type":"*","link":761,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[692],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":418,"type":"Reroute","pos":[5880,1520],"size":[75,26],"flags":{},"order":70,"mode":0,"inputs":[{"name":"","type":"*","link":789,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"FLOAT","links":[788],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":10,"type":"VAEDecode","pos":[7430,1330],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":142,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":782},{"name":"vae","type":"VAE","link":677}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[793],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":370,"type":"Reroute","pos":[7720,1170],"size":[75,26],"flags":{},"order":143,"mode":0,"inputs":[{"name":"","type":"*","link":793}],"outputs":[{"name":"","type":"IMAGE","links":[714,715],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":407,"type":"KSamplerAdvanced","pos":[7040,1160],"size":{"0":320,"1":540},"flags":{},"order":141,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":776},{"name":"positive","type":"CONDITIONING","link":777},{"name":"negative","type":"CONDITIONING","link":778},{"name":"latent_image","type":"LATENT","link":775},{"name":"cfg","type":"FLOAT","link":780,"widget":{"name":"cfg"}},{"name":"steps","type":"INT","link":784,"widget":{"name":"steps"}},{"name":"noise_seed","type":"INT","link":791,"widget":{"name":"noise_seed"}},{"name":"start_at_step","type":"INT","link":794,"widget":{"name":"start_at_step"},"slot_index":7}],"outputs":[{"name":"LATENT","type":"LATENT","links":[782],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",539728296666085,"fixed",10,8,"lcm","normal",4,269,"disable"]},{"id":420,"type":"Reroute","pos":[4020,1410],"size":[75,26],"flags":{},"order":90,"mode":0,"inputs":[{"name":"","type":"*","link":796,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[795]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":419,"type":"Reroute","pos":[4020,1580],"size":[75,26],"flags":{},"order":74,"mode":0,"inputs":[{"name":"","type":"*","link":797,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[794]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":319,"type":"PreviewImage","pos":[7710,1270],"size":{"0":210,"1":246},"flags":{"collapsed":false},"order":146,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":702}],"title":"Output Image","properties":{"Node name for S&R":"PreviewImage"}},{"id":405,"type":"Reroute","pos":[5870,960],"size":[75,26],"flags":{},"order":137,"mode":0,"inputs":[{"name":"","type":"*","link":804,"slot_index":0}],"outputs":[{"name":"","type":"MODEL","links":[768,776],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":434,"type":"Reroute","pos":[3820,2340],"size":[75,26],"flags":{},"order":76,"mode":0,"inputs":[{"name":"","type":"*","link":813,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"FLOAT","links":[814],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":417,"type":"Cfg Literal","pos":[1350,1310],"size":{"0":260,"1":60},"flags":{},"order":0,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[789],"shape":3,"slot_index":0}],"title":"HIghRes Fix Upscale","properties":{"Node name for S&R":"Cfg Literal"},"widgets_values":[1.2000000000000002],"color":"#5c1010","bgcolor":"#702424"},{"id":362,"type":"Int Literal","pos":[1130,960],"size":{"0":210,"1":80},"flags":{},"order":1,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[690],"shape":3}],"title":"Batch Number Naming","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[1],"color":"#232","bgcolor":"#353"},{"id":438,"type":"Reroute","pos":[1550,3380],"size":[75,26],"flags":{},"order":108,"mode":0,"inputs":[{"name":"","type":"*","link":819}],"outputs":[{"name":"","type":"LORA_STACK","links":[820],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":383,"type":"Int Literal","pos":[1130,1310],"size":{"0":210,"1":60},"flags":{},"order":2,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[792],"shape":3}],"title":"Total Sampler Steps","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[10],"color":"#5c1010","bgcolor":"#702424"},{"id":92,"type":"PreviewImage","pos":[1750,880],"size":{"0":210,"1":260},"flags":{},"order":112,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":698}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":367,"type":"VHS_SplitImages","pos":[1960,830],"size":{"0":315,"1":118},"flags":{"collapsed":true},"order":104,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":697}],"outputs":[{"name":"IMAGE_A","type":"IMAGE","links":[698],"shape":3,"slot_index":0},{"name":"A_count","type":"INT","links":null,"shape":3},{"name":"IMAGE_B","type":"IMAGE","links":null,"shape":3},{"name":"B_count","type":"INT","links":null,"shape":3}],"title":".","properties":{"Node name for S&R":"VHS_SplitImages"},"widgets_values":{"split_index":5}},{"id":70,"type":"ControlNetLoaderAdvanced","pos":[2030,1080],"size":{"0":350,"1":60},"flags":{"collapsed":false},"order":3,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[945],"shape":3,"slot_index":0}],"title":"Load Advanced ControlNet 1 Model üõÇüÖêüÖíüÖù","properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11p_sd15_openpose.pth"],"color":"#232","bgcolor":"#353"},{"id":366,"type":"VHS_SplitImages","pos":[1980,350],"size":{"0":315,"1":118},"flags":{"collapsed":true},"order":105,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":699}],"outputs":[{"name":"IMAGE_A","type":"IMAGE","links":[700],"shape":3,"slot_index":0},{"name":"A_count","type":"INT","links":null,"shape":3},{"name":"IMAGE_B","type":"IMAGE","links":null,"shape":3},{"name":"B_count","type":"INT","links":null,"shape":3}],"title":".","properties":{"Node name for S&R":"VHS_SplitImages"},"widgets_values":{"split_index":5}},{"id":440,"type":"FloatConstant","pos":[2400,980],"size":{"0":210,"1":60},"flags":{},"order":4,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[948],"shape":3,"slot_index":0}],"title":"CN 1 Start Percent","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0],"color":"#232","bgcolor":"#353"},{"id":441,"type":"FloatConstant","pos":[2400,1080],"size":{"0":210,"1":60},"flags":{},"order":5,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[949],"shape":3,"slot_index":0}],"title":"CN 1 End Percent","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.8],"color":"#232","bgcolor":"#353"},{"id":439,"type":"FloatConstant","pos":[2400,880],"size":{"0":210,"1":60},"flags":{},"order":6,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[947],"shape":3,"slot_index":0}],"title":"CN 1 Strength","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.8],"color":"#232","bgcolor":"#353"},{"id":436,"type":"Int Literal","pos":[1620,1410],"size":{"0":210,"1":60},"flags":{},"order":7,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[818],"shape":3}],"title":"AD - Macro Motion","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[3],"color":"#5c1010","bgcolor":"#702424"},{"id":403,"type":"Reroute","pos":[5730,2050],"size":[75,26],"flags":{},"order":135,"mode":0,"inputs":[{"name":"","type":"*","link":941,"slot_index":0}],"outputs":[{"name":"","type":"CONDITIONING","links":[769,777],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":400,"type":"Reroute","pos":[5730,2100],"size":[75,26],"flags":{},"order":136,"mode":0,"inputs":[{"name":"","type":"*","link":942}],"outputs":[{"name":"","type":"CONDITIONING","links":[770,778],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":408,"type":"LatentUpscaleBy","pos":[6570,1370],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":139,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":773},{"name":"scale_by","type":"FLOAT","link":788,"widget":{"name":"scale_by"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[774],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentUpscaleBy"},"widgets_values":["nearest-exact",1.2]},{"id":410,"type":"BNK_InjectNoise","pos":[6850,1440],"size":{"0":315,"1":98},"flags":{"collapsed":true},"order":140,"mode":0,"inputs":[{"name":"latents","type":"LATENT","link":774},{"name":"noise","type":"LATENT","link":null},{"name":"mask","type":"MASK","link":null}],"outputs":[{"name":"LATENT","type":"LATENT","links":[775],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"BNK_InjectNoise"},"widgets_values":[1]},{"id":399,"type":"KSamplerAdvanced","pos":[6080,1180],"size":{"0":320,"1":540},"flags":{"collapsed":false},"order":138,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":768},{"name":"positive","type":"CONDITIONING","link":769},{"name":"negative","type":"CONDITIONING","link":770},{"name":"latent_image","type":"LATENT","link":779},{"name":"cfg","type":"FLOAT","link":772,"widget":{"name":"cfg"}},{"name":"steps","type":"INT","link":771,"widget":{"name":"steps"}},{"name":"noise_seed","type":"INT","link":790,"widget":{"name":"noise_seed"}},{"name":"end_at_step","type":"INT","link":795,"widget":{"name":"end_at_step"},"slot_index":7}],"outputs":[{"name":"LATENT","type":"LATENT","links":[773],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",539728296666085,"fixed",20,8,"lcm","normal",0,5,"disable"]},{"id":406,"type":"Reroute","pos":[5870,1140],"size":[75,26],"flags":{},"order":72,"mode":0,"inputs":[{"name":"","type":"*","link":792,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[771,784],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":404,"type":"Reroute","pos":[5870,1110],"size":[75,26],"flags":{},"order":77,"mode":0,"inputs":[{"name":"","type":"*","link":767,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"FLOAT","links":[772,780],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":401,"type":"Reroute","pos":[5870,990],"size":[75,26],"flags":{},"order":111,"mode":0,"inputs":[{"name":"","type":"*","link":765,"slot_index":0}],"outputs":[{"name":"","type":"LATENT","links":[779],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":444,"type":"FloatConstant","pos":[2410,490],"size":{"0":210,"1":60},"flags":{},"order":8,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[939],"shape":3,"slot_index":0}],"title":"CN 2 Start Percent","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0],"color":"#232","bgcolor":"#353"},{"id":97,"type":"ControlNetLoaderAdvanced","pos":[2040,590],"size":{"0":350,"1":60},"flags":{},"order":9,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[936],"shape":3,"slot_index":0}],"title":"Load Advanced ControlNet 2 Model üõÇüÖêüÖíüÖù","properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11p_sd15_softedge.pth"],"color":"#232","bgcolor":"#353"},{"id":422,"type":"Int Literal","pos":[1350,1410],"size":{"0":260.3999938964844,"1":60},"flags":{},"order":10,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[797],"shape":3,"slot_index":0}],"title":"Start Highres Fix from nth Step","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[5],"color":"#5c1010","bgcolor":"#702424"},{"id":378,"type":"Reroute","pos":[2060,2940],"size":[75,26],"flags":{},"order":79,"mode":0,"inputs":[{"name":"","type":"*","link":800}],"outputs":[{"name":"","type":"MODEL","links":[740],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":175,"type":"Note","pos":[460,1030],"size":{"0":520,"1":160},"flags":{},"order":11,"mode":0,"title":"Batch Range Note","properties":{"text":""},"widgets_values":["LCM - As lcm uses under 10 steps, you 2x input the batch range and image resolution. \n\nBatch Range - How much images you want to render in a single queue.\n\nIt also Controls the number of empty latent images for Ksampler\n\nUse Exact Number of images you want to render.\n\nDon't Use \"0\" as it also provides for Latent Image for ksampler else it will break.\n\nTIP: Use at least 10 frames for testing else it will give you noisy image.\n\n\n----------------------¬†\n\nBUG: If you are rendering images in batches because of low specs, After each Batch the Images will change even after same seed, so it can't be helped. \n\nSOLUTION: Render it in one go or longer batches, it will take hours to render, put some ice on the graphic card for faster result :D ( You can minimize this bug by specifying the minute details in prompts) or \nFix in Davinci Deflicker - Flora Light (Masking the duration only of the sudden change), \nAlso See the tip in Note Near the Ksampler node.\n\n--------------------\n\nBUG 2: I have 8GB graphics so max frames I can render in a single go is around 150 \n\nIf I go beyond that, the ksampler will show like its rendering but will not actually render.\n\nIf your GPU is not melting then your ksampler is stuck, try reducing the batch range then try melting again :)"],"color":"#432","bgcolor":"#653"},{"id":437,"type":"Note","pos":[450,1260],"size":{"0":530,"1":230},"flags":{},"order":12,"mode":0,"title":"HigheRes Fix | Detail Enhancer | AD Macro Motion","properties":{"text":""},"widgets_values":["Total Sampler Steps: Total Number of steps for ksampler. (Default value - 10) \n\nStop raw at nth step: Raw sampler will stop at this step.  (Default Value - 6)\n\nHighRes Fix Upscale - It upscales the Latent - (value around 1.1 - 1.4 is good, above 1.5 no change is observed)\n(Default Value - 1.2 which is good, it will be enhanced in the refiner workflow)\n\nStart Highres Fix from nth step: Higres fix sampler will start at this step and continue till the total sampler steps. (Default Value - 5)\n\n\n----------------------\nSteps Theory: \n \nTotal Steps - 10 iterations.\nRaw Steps - First 6 Iterations.\nHigh Res Steps - From 5th to 10th iteration. (1 overlapping iteration for good blending)  \n__________________________________________________________________________________________________\n__________________________________________________________________________________________________\n\n\nDetail Enhancer - It injects noise in the model, use up to max value of 20 - Higer values cause micro details into morphing/sliding. (Default value is 2) \n\nAD Macro Motion - AnimateDiff motion of Background Elements is controlled by this value. Use up to max value of 10. Higer values cause jittering/Choppy motion. Min value 1 is for normal motion (Default Value - 3 for stable elements, almost no motion)\n\n*Higer value above 10 till 1000 in AD Macro Motion gives ghosting like Echo images, can be cool for some abstract effects. Sometimes it becomes like deforum img2img animation with consistent jittering background. Try different values for fun. \n\n*Higer Values than 10 till 200 in macro motion can sometimes experimentally give perfectly still background with good details and good character consistency, you need to find your x value. \n\n\n"],"color":"#8f0000","bgcolor":"#a30000"},{"id":391,"type":"FloatConstant","pos":[1130,1670],"size":{"0":210,"1":60},"flags":{},"order":13,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[755],"shape":3,"slot_index":0}],"title":"LCM Lora Strength","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.65],"color":"#00577b","bgcolor":"#006b8f"},{"id":384,"type":"Note","pos":[450,1560],"size":{"0":530,"1":230},"flags":{},"order":14,"mode":0,"title":"LCM Sampler Step and CFG","properties":{"text":""},"widgets_values":["\nSampler CFG - Use Between 1 - 9, Higher values causes artifacts, color noise, and weird backgrounds. Default value is 3. \n\nUse Lower 1-5 for Realistic Models and 3-7 for anime/cartoon.\n\nLCM Lora Strength - 0.65 seems good, you can experiment with higher values, also balance CFG and steps.\n\n\n\n\n-------------------------------\n\n*When Background gets messy, use low cfg for good backgrounds.\n\n*Value of cfg below 4 causes some faded look. You can experiment with \n\n1) LCM Lora Strength \n2) Sampler Steps\n3) Sampler CFG \n\nAll three are dependent on each other.\n"],"color":"#00577b","bgcolor":"#006b8f"},{"id":353,"type":"Text String","pos":[7382,871],"size":{"0":315,"1":190},"flags":{"collapsed":true},"order":15,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[682],"shape":3,"slot_index":0},{"name":"STRING","type":"STRING","links":[],"shape":3,"slot_index":1},{"name":"STRING","type":"STRING","links":null,"shape":3},{"name":"STRING","type":"STRING","links":null,"shape":3}],"title":"Name","properties":{"Node name for S&R":"Text String"},"widgets_values":["Batch_","","",""]},{"id":354,"type":"Text Concatenate","pos":[7698,1015],"size":{"0":315,"1":178},"flags":{"collapsed":true},"order":97,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":682,"widget":{"name":"text_a"}},{"name":"text_b","type":"STRING","link":689,"widget":{"name":"text_b"}},{"name":"text_c","type":"STRING","link":null,"widget":{"name":"text_c"}},{"name":"text_d","type":"STRING","link":null,"widget":{"name":"text_d"}}],"outputs":[{"name":"STRING","type":"STRING","links":[684],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Text Concatenate"},"widgets_values":["","true","false","","",""]},{"id":430,"type":"Cfg Literal","pos":[1620,1310],"size":{"0":210,"1":60},"flags":{},"order":16,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[813],"shape":3}],"title":"Details Enhancer","properties":{"Node name for S&R":"Cfg Literal"},"widgets_values":[3],"color":"#5c1010","bgcolor":"#702424"},{"id":169,"type":"Reroute","pos":[2600,2850],"size":[82,26],"flags":{},"order":117,"mode":0,"inputs":[{"name":"","type":"*","link":833}],"outputs":[{"name":"MODEL","type":"MODEL","links":[722],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":226,"type":"CLIPSetLastLayer","pos":[2600,2960],"size":{"0":220,"1":60},"flags":{"collapsed":true},"order":118,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":670}],"outputs":[{"name":"CLIP","type":"CLIP","links":[724],"shape":3,"slot_index":0}],"title":"CLIP","properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-24]},{"id":392,"type":"Reroute","pos":[2610,2990],"size":[75,26],"flags":{},"order":75,"mode":0,"inputs":[{"name":"","type":"*","link":755,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"FLOAT","links":[756],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":453,"type":"Note","pos":[2850,3070],"size":{"0":320,"1":160},"flags":{},"order":17,"mode":0,"title":"LCM Model","properties":{"text":""},"widgets_values":["Download it from here:\n\nhuggingface.co/latent-consistency/lcm-lora-sdv1-5/tree/main \n\nor \n\nhttps://civitai.com/models/195519?modelVersionId=225222"],"color":"#323","bgcolor":"#535"},{"id":415,"type":"ADE_AnimateDiffModelSettingsSimple","pos":[4870,3040],"size":{"0":344.3999938964844,"1":110},"flags":{"collapsed":true},"order":73,"mode":0,"inputs":[{"name":"mask_motion_scale","type":"MASK","link":null},{"name":"motion_pe_stretch","type":"INT","link":818,"widget":{"name":"motion_pe_stretch"},"slot_index":1}],"outputs":[{"name":"MOTION_MODEL_SETTINGS","type":"MOTION_MODEL_SETTINGS","links":[785],"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffModelSettingsSimple"},"widgets_values":[3,100,100]},{"id":445,"type":"FloatConstant","pos":[2410,590],"size":{"0":210,"1":60},"flags":{},"order":18,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[940],"shape":3,"slot_index":0}],"title":"CN 2 End Percent","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.9500000000000001],"color":"#232","bgcolor":"#353"},{"id":454,"type":"Note","pos":[7040,1740],"size":{"0":320,"1":160},"flags":{},"order":19,"mode":0,"title":"OUT OF MEMORY ERROR","properties":{"text":""},"widgets_values":["If you got out of memory Error while it reaches the above sampler, then See the \"Requested Memory:  xx MB\" in the red error box.\n\nIf that xx memory requested is below 1GB then just queue the prompt again, the workflow will just run fine. It will take CPU's Ram to Render. \n\nIf it's above 1GB then lower the Resolution and then queue to run it smoothly. \n\n"],"color":"#6c0000","bgcolor":"#800000"},{"id":382,"type":"Cfg Literal","pos":[1130,1570],"size":{"0":210,"1":60},"flags":{},"order":20,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[767],"shape":3}],"title":"Sampler CFG","properties":{"Node name for S&R":"Cfg Literal"},"widgets_values":[3.5],"color":"#00577b","bgcolor":"#006b8f"},{"id":455,"type":"FreeU_V2","pos":[4950,2860],"size":{"0":315,"1":130},"flags":{"collapsed":true},"order":130,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":828}],"outputs":[{"name":"MODEL","type":"MODEL","links":[830],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FreeU_V2"},"widgets_values":[1.3,1.4,0.9,0.2]},{"id":205,"type":"Note","pos":[4670,2280],"size":{"0":320,"1":160},"flags":{},"order":21,"mode":0,"title":"Additional ControlNets","properties":{"text":""},"widgets_values":["More control nets do not affect the time to render as they have already been rendered which makes it easy to test animations. By default 2 controlNets are enough. \nYou can add more control nets after this apply ControlNet 2 Node.\n\n"],"color":"#432","bgcolor":"#653"},{"id":347,"type":"CR Apply LoRA Stack","pos":[2350,3390],"size":{"0":210,"1":66},"flags":{"collapsed":true},"order":114,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":740},{"name":"clip","type":"CLIP","link":721},{"name":"lora_stack","type":"LORA_STACK","link":820}],"outputs":[{"name":"MODEL","type":"MODEL","links":[833],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[670],"shape":3,"slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Apply LoRA Stack"}},{"id":188,"type":"Reroute","pos":[2150,3170],"size":[75,26],"flags":{},"order":98,"mode":0,"inputs":[{"name":"","type":"*","link":456,"slot_index":0}],"outputs":[{"name":"CLIP","type":"CLIP","links":[721],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":491,"type":"SetNode","pos":[910,2410],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":101,"mode":0,"inputs":[{"name":"INT","type":"INT","link":875}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Disable = 0","properties":{"previousName":""},"widgets_values":["Enable_Prompt_Travel"],"color":"#222","bgcolor":"#000"},{"id":492,"type":"MathExpression|pysssss","pos":[910,2370],"size":{"0":400,"1":200},"flags":{"collapsed":true},"order":88,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","link":876,"slot_index":0},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","link":null},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","link":null}],"outputs":[{"name":"INT","type":"INT","links":[875],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3}],"title":"Enable = 1","properties":{"Node name for S&R":"MathExpression|pysssss"},"widgets_values":["a+1"],"color":"#222","bgcolor":"#000"},{"id":497,"type":"Int Literal","pos":[3980,840],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":94,"mode":0,"inputs":[{"name":"int","type":"INT","link":880,"widget":{"name":"int"}}],"outputs":[{"name":"INT","type":"INT","links":[881],"shape":3,"slot_index":0}],"title":",","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[10],"color":"#222","bgcolor":"#000"},{"id":344,"type":"smZ CLIPTextEncode","pos":[3780,2260],"size":{"0":220,"1":160},"flags":{"collapsed":true},"order":126,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":661},{"name":"text","type":"STRING","link":659,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[892],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"smZ CLIPTextEncode"},"widgets_values":["","comfy",true,true,false,false,6,1024,1024,0,0,1024,1024,"","",1],"color":"#232","bgcolor":"#353"},{"id":170,"type":"Reroute","pos":[3611,2535],"size":[75,26],"flags":{},"order":123,"mode":0,"inputs":[{"name":"","type":"*","link":725}],"outputs":[{"name":"CLIP","type":"CLIP","links":[661,679],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":229,"type":"Text Multiline","pos":[1110,2050],"size":{"0":410,"1":150},"flags":{},"order":22,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[414],"shape":3,"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"Text Multiline"},"widgets_values":["ugly, deformed, bad lighting, blurry, text, clouds, watermark, extra hands, bad quality, deformed hands, deformed fingers, nostalgic, drawing, painting, bad anatomy, worst quality, blurry, blurred, normal quality, bad focus, tripod, three legs, weird legs, short legs, bag, handbag, 3 hands, 4 hands, three hands\n\n(embedding:BadDream:1) boy, man, male,\n(embedding:ng_deepnegative_v1_75t:1), \n(embedding:epiCNegative:1), \n(embedding:bad-picture-chill-75v:1), \n(embedding:AS-YoungV2-neg:1), \n(embedding:ERA09NEGV2:1) "],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":398,"type":"String to Text","pos":[1130,300],"size":{"0":320,"1":60},"flags":{},"order":23,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[761],"shape":3,"slot_index":0}],"title":"Output Folder Path","properties":{"Node name for S&R":"String to Text"},"widgets_values":["F:\\#Projects\\1) SD Animation\\26) Bad Devil\\Renders\\Test"],"color":"#006a94","bgcolor":"#007ea8"},{"id":1,"type":"CheckpointLoaderSimpleWithNoiseSelect","pos":[1100,2960],"size":{"0":310,"1":130},"flags":{},"order":24,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[800],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[748],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[],"shape":3,"slot_index":2}],"title":"Load Checkpoint","properties":{"Node name for S&R":"CheckpointLoaderSimpleWithNoiseSelect"},"widgets_values":["imp_v10.safetensors","sqrt_linear (AnimateDiff)"],"color":"#172d88","bgcolor":"#2b419c"},{"id":395,"type":"Note","pos":[520,2960],"size":{"0":530,"1":290},"flags":{},"order":25,"mode":0,"title":"Recommended Models and Loras","properties":{"text":""},"widgets_values":["------------------------------------------------------------\nModels - \n\n1) Epic Realism - https://civitai.com/models/25694?modelVersionId=143906\n*Epic Realism Natural RC1 Vae seems best for realistic Result.\n\n2) Imp Anime Model - https://civitai.com/models/56680/imp\n3) Dark Shushi - https://civitai.com/models/24779/dark-sushi-mix-mix\n4) Mistoon Collection - https://civitai.com/user/Inzaniak/models\n5) MeinaMix - https://civitai.com/models/7240/meinamix\n6) Animerge - https://civitai.com/models/144249?modelVersionId=224851\n\n-----------------------------------------------------------\n\nLoras - \n\n1) Skin Tone Slider - https://civitai.com/models/112594/skin-tone-slider-lora\nUse Negative Values (-1) for better result. \n\n2)  Saturation Tweaker - https://civitai.com/models/71192/saturation-tweaker-lora-lora\nAdd Saturation ( 0.3- 0.7) when getting less contrast. \n\n3) Detail Slider  -  \nhttps://civitai.com/models/58390/detail-tweaker-lora-lora \nhttps://civitai.com/models/153562/detail-slider-lora\nUse Negative Values if getting weird details in High CFG value\n\n4) Blue theme- https://civitai.com/models/102153/blue-theme\nUse Loras like this which control background to get more better backgrounds.\n"],"color":"#1828a6","bgcolor":"#2c3cba"},{"id":189,"type":"Note","pos":[180,2960],"size":{"0":320,"1":210},"flags":{},"order":26,"mode":0,"title":"CheckPoint","properties":{"text":""},"widgets_values":["Checkpoint - Try Different Checkpoints for creative (results:0.95) \n\n\nTo use Lora - add the Lora in the loras stack\n\nIf your renders are glitchy or incomplete, it may be lora incompatible with AnimateDiff Loader or You have some problem in the Prompts.\n\nBeta_Scheldule: It only works with sqrt_linear(AnimateDiff)\n\n"],"color":"#172d88","bgcolor":"#2b419c"},{"id":2,"type":"VAELoader","pos":[1100,3140],"size":{"0":320,"1":64},"flags":{},"order":27,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[758],"shape":3,"slot_index":0}],"title":"Optional VAE","properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"]},{"id":489,"type":"GetNode","pos":[1130,2470],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":28,"mode":2,"outputs":[{"name":"INT","type":"INT","links":[886],"slot_index":0}],"title":"max_frames","properties":{},"widgets_values":["Batch_Range"]},{"id":500,"type":"GetNode","pos":[1130,2430],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":29,"mode":2,"outputs":[{"name":"CLIP","type":"CLIP","links":[887],"slot_index":0}],"title":"Clip","properties":{},"widgets_values":["LCM_CLIP_OUT"]},{"id":502,"type":"ImpactSwitch","pos":[3800,2050],"size":{"0":210,"1":120},"flags":{"collapsed":true},"order":129,"mode":0,"inputs":[{"name":"input1","type":"CONDITIONING","link":892},{"name":"input2","type":"CONDITIONING","link":895},{"name":"input3","type":"CONDITIONING","link":null},{"name":"select","type":"INT","link":896,"widget":{"name":"select"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[943],"shape":3,"label":"CONDITIONING"},{"name":"selected_label","type":"STRING","links":null,"shape":3},{"name":"selected_index","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImpactSwitch"},"widgets_values":[1,true],"color":"#222","bgcolor":"#000"},{"id":493,"type":"GetNode","pos":[3760,1990],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":30,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[874,896],"slot_index":0}],"title":"Get_Enable_Prompt_Travel","properties":{},"widgets_values":["Enable_Prompt_Travel"],"color":"#222","bgcolor":"#000"},{"id":373,"type":"LoraLoader","pos":[2850,2880],"size":{"0":320,"1":130},"flags":{"collapsed":false},"order":121,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":722},{"name":"clip","type":"CLIP","link":724},{"name":"strength_model","type":"FLOAT","link":756,"widget":{"name":"strength_model"},"slot_index":2}],"outputs":[{"name":"MODEL","type":"MODEL","links":[723],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[725,897],"shape":3,"slot_index":1}],"title":"Load LCM LoRA","properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["lcm_pytorch_lora_weights.safetensors",0.65,0.1],"color":"#640beb","bgcolor":"#781fff"},{"id":498,"type":"SetNode","pos":[3370,3060],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":124,"mode":0,"inputs":[{"name":"CLIP","type":"CLIP","link":897}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_LCM_CLIP_OUT","properties":{"previousName":""},"widgets_values":["LCM_CLIP_OUT"],"color":"#222","bgcolor":"#000"},{"id":504,"type":"Int Literal","pos":[3980,890],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":89,"mode":0,"inputs":[{"name":"int","type":"INT","link":899,"widget":{"name":"int"}}],"outputs":[{"name":"INT","type":"INT","links":[898],"shape":3,"slot_index":0}],"title":",","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[180],"color":"#222","bgcolor":"#000"},{"id":507,"type":"SetNode","pos":[1380,630],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":84,"mode":0,"inputs":[{"name":"INT","type":"INT","link":900}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Init_Width","properties":{"previousName":""},"widgets_values":["Init_Width"],"color":"#222","bgcolor":"#000"},{"id":508,"type":"SetNode","pos":[1380,670],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":83,"mode":0,"inputs":[{"name":"INT","type":"INT","link":901}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Init_Height","properties":{"previousName":""},"widgets_values":["Init_Height"],"color":"#222","bgcolor":"#000"},{"id":396,"type":"Note","pos":[2650,710],"size":{"0":430,"1":140},"flags":{},"order":31,"mode":0,"title":"ControlNet Important Note","properties":{"text":""},"widgets_values":["* Lower Strength and End Percent can lead to creative results which will reduce the original image look (Applicable in Softedge, Canny, Depth, and LineArt Pass) and give more stylized look, close resemblance to the prompts.\n\n* Greater Start percent around 0.3-0.5 tends to create a still image from the main prompt first and then an artifact character overlayed on it.  This Can be used for Abstract creation.\n\n"],"color":"#512bda","bgcolor":"#653fee"},{"id":506,"type":"Int","pos":[1130,680],"size":{"0":210,"1":60},"flags":{"collapsed":false},"order":32,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[901],"shape":3,"slot_index":0}],"title":"Height","properties":{"Node name for S&R":"Int"},"widgets_values":[856],"color":"#223","bgcolor":"#335"},{"id":505,"type":"Int","pos":[1130,570],"size":{"0":210,"1":60},"flags":{"collapsed":false},"order":33,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[900],"shape":3,"slot_index":0}],"title":"Width","properties":{"Node name for S&R":"Int"},"widgets_values":[480],"color":"#223","bgcolor":"#335"},{"id":512,"type":"GetNode","pos":[1984.4450915628229,119.8194534680075],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":34,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[905],"slot_index":0}],"title":"Get_Skip_Frames","properties":{},"widgets_values":["Skip_Frames"],"color":"#222","bgcolor":"#000"},{"id":513,"type":"GetNode","pos":[1774.4450915628229,119.8194534680075],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":35,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[904]}],"title":"Get_Batch_Range","properties":{},"widgets_values":["Batch_Range"],"color":"#222","bgcolor":"#000"},{"id":525,"type":"Image Blank","pos":[2344.445091562823,-140.18054653199252],"size":{"0":320,"1":150},"flags":{"collapsed":true},"order":86,"mode":4,"inputs":[{"name":"width","type":"INT","link":916,"widget":{"name":"width"},"slot_index":0},{"name":"height","type":"INT","link":917,"widget":{"name":"height"},"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[921],"shape":3,"slot_index":0}],"title":"Blank White","properties":{"Node name for S&R":"Image Blank"},"widgets_values":[480,856,255,255,255],"color":"#222","bgcolor":"#000"},{"id":526,"type":"GetNode","pos":[1954.4450915628229,-170.18054653199252],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":36,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[916]}],"title":"Get_Init_Width","properties":{},"widgets_values":["Init_Width"],"color":"#222","bgcolor":"#000"},{"id":527,"type":"GetNode","pos":[1954.4450915628229,-130.18054653199252],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":37,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[917],"slot_index":0}],"title":"Get_Init_Height","properties":{},"widgets_values":["Init_Height"],"color":"#222","bgcolor":"#000"},{"id":528,"type":"ImpactSwitch","pos":[2584.445091562823,-20.180546531992512],"size":{"0":210,"1":120},"flags":{"collapsed":true},"order":110,"mode":4,"inputs":[{"name":"input1","type":"IMAGE","link":918},{"name":"input2","type":"IMAGE","link":919},{"name":"input3","type":"IMAGE","link":null},{"name":"select","type":"INT","link":920,"widget":{"name":"select"},"slot_index":3}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[925,930],"shape":3,"label":"IMAGE","slot_index":0},{"name":"selected_label","type":"STRING","links":null,"shape":3},{"name":"selected_index","type":"INT","links":null,"shape":3}],"title":"Fail_Safe","properties":{"Node name for S&R":"ImpactSwitch"},"widgets_values":[1,true],"color":"#222","bgcolor":"#000"},{"id":529,"type":"GetNode","pos":[2324.445091562823,59.81945346800749],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":38,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[920]}],"title":"Get_Enable_Mask_CN","properties":{},"widgets_values":["Enable_Mask_CN"],"color":"#222","bgcolor":"#000"},{"id":530,"type":"ImageBatchRepeatInterleaving","pos":[2294.445091562823,-60.18054653199251],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":100,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":921,"slot_index":0},{"name":"repeats","type":"INT","link":922,"widget":{"name":"repeats"},"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[918],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageBatchRepeatInterleaving"},"widgets_values":[10],"color":"#222","bgcolor":"#000"},{"id":531,"type":"GetNode","pos":[2324.445091562823,-100.1805465319925],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":39,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[922]}],"title":"Get_Batch_Range","properties":{},"widgets_values":["Batch_Range"],"color":"#222","bgcolor":"#000"},{"id":533,"type":"SetNode","pos":[1530,-50],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":107,"mode":0,"inputs":[{"name":"INT","type":"INT","link":923}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Disable = 0","properties":{"previousName":""},"widgets_values":["Enable_Mask_CN"],"color":"#222","bgcolor":"#000"},{"id":535,"type":"ImageToMask","pos":[2844.445091562823,79.8194534680075],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":115,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":925}],"outputs":[{"name":"MASK","type":"MASK","links":[926],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":540,"type":"VHS_SplitImages","pos":[2914.445091562823,-240.18054653199252],"size":{"0":315,"1":118},"flags":{"collapsed":true},"order":116,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":930}],"outputs":[{"name":"IMAGE_A","type":"IMAGE","links":[929],"shape":3,"slot_index":0},{"name":"A_count","type":"INT","links":null,"shape":3},{"name":"IMAGE_B","type":"IMAGE","links":null,"shape":3},{"name":"B_count","type":"INT","links":null,"shape":3}],"title":".","properties":{"Node name for S&R":"VHS_SplitImages"},"widgets_values":{"split_index":5},"color":"#222","bgcolor":"#000"},{"id":103,"type":"PreviewImage","pos":[1750,390],"size":{"0":220,"1":250},"flags":{},"order":113,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":700}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":443,"type":"FloatConstant","pos":[2410,390],"size":{"0":210,"1":60},"flags":{},"order":40,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[938],"shape":3,"slot_index":0}],"title":"CN 2 Strength","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.8],"color":"#232","bgcolor":"#353"},{"id":541,"type":"ACN_AdvancedControlNetApply","pos":[4680,1920],"size":{"0":310,"1":250},"flags":{},"order":133,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":950,"slot_index":0},{"name":"negative","type":"CONDITIONING","link":951,"slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":936},{"name":"image","type":"IMAGE","link":937},{"name":"mask_optional","type":"MASK","link":953,"slot_index":4},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":938,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":939,"widget":{"name":"start_percent"}},{"name":"end_percent","type":"FLOAT","link":940,"widget":{"name":"end_percent"}}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[941],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[942],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.25,0.2,0.4]},{"id":542,"type":"ACN_AdvancedControlNetApply","pos":[4240,1920],"size":{"0":310,"1":250},"flags":{},"order":131,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":943,"slot_index":0},{"name":"negative","type":"CONDITIONING","link":944,"slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":945},{"name":"image","type":"IMAGE","link":946},{"name":"mask_optional","type":"MASK","link":952,"slot_index":4},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":947,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":948,"widget":{"name":"start_percent"}},{"name":"end_percent","type":"FLOAT","link":949,"widget":{"name":"end_percent"}}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[950],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[951],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.25,0.2,0.4]},{"id":174,"type":"LoadImagesFromDirectory","pos":[2040,390],"size":{"0":350,"1":140},"flags":{},"order":93,"mode":0,"inputs":[{"name":"image_load_cap","type":"INT","link":360,"widget":{"name":"image_load_cap"},"slot_index":0},{"name":"start_index","type":"INT","link":362,"widget":{"name":"start_index"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[699,937],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3},{"name":"INT","type":"INT","links":null,"shape":3}],"title":"ControlNet 2","properties":{"Node name for S&R":"LoadImagesFromDirectory"},"widgets_values":["F:\\#Projects\\1) SD Animation\\26) Bad Devil\\11) SoftEdgePlus_C",10,180],"color":"#323","bgcolor":"#535"},{"id":172,"type":"LoadImagesFromDirectory","pos":[2030,880],"size":{"0":350,"1":140},"flags":{},"order":92,"mode":0,"inputs":[{"name":"image_load_cap","type":"INT","link":359,"widget":{"name":"image_load_cap"},"slot_index":0},{"name":"start_index","type":"INT","link":361,"widget":{"name":"start_index"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[697,946],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3},{"name":"INT","type":"INT","links":null,"shape":3}],"title":"ControlNet 1","properties":{"Node name for S&R":"LoadImagesFromDirectory"},"widgets_values":["F:\\#Projects\\1) SD Animation\\26) Bad Devil\\5) OpenPose_C",10,180],"color":"#323","bgcolor":"#535"},{"id":534,"type":"MathExpression|pysssss","pos":[1530,-90],"size":{"0":400,"1":200},"flags":{"collapsed":true},"order":95,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","link":924,"slot_index":0},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","link":null},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","link":null}],"outputs":[{"name":"INT","type":"INT","links":[923],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3}],"title":"Enable = 1","properties":{"Node name for S&R":"MathExpression|pysssss"},"widgets_values":["a+1"],"color":"#222","bgcolor":"#000"},{"id":511,"type":"LoadImagesFromDirectory","pos":[1774.4450915628229,-50.18054653199251],"size":{"0":370,"1":140},"flags":{},"order":85,"mode":4,"inputs":[{"name":"image_load_cap","type":"INT","link":904,"widget":{"name":"image_load_cap"},"slot_index":0},{"name":"start_index","type":"INT","link":905,"widget":{"name":"start_index"},"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[911,919],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"slot_index":1},{"name":"INT","type":"INT","links":null,"shape":3}],"title":"Mask","properties":{"Node name for S&R":"LoadImagesFromDirectory"},"widgets_values":["F:\\#Projects\\1) SD Animation\\26) Bad Devil\\8) Mask_C",10,0],"color":"#006599","bgcolor":"#0079ad"},{"id":536,"type":"SetNode","pos":[2874.445091562823,119.8194534680075],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":119,"mode":4,"inputs":[{"name":"MASK","type":"MASK","link":926}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Mask_CN","properties":{"previousName":""},"widgets_values":["Mask_CN"]},{"id":503,"type":"SetNode","pos":[4230,890],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":102,"mode":0,"inputs":[{"name":"INT","type":"INT","link":898}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Skip_Frames","properties":{"previousName":"Skip_Frames"},"widgets_values":["Skip_Frames"],"color":"#222","bgcolor":"#000"},{"id":510,"type":"GetNode","pos":[4640,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":41,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[903],"slot_index":0}],"title":"Get_Init_Height","properties":{},"widgets_values":["Init_Height"],"color":"#222","bgcolor":"#000"},{"id":151,"type":"EmptyLatentImage","pos":[4990,1000],"size":{"0":304,"1":112},"flags":{"collapsed":true},"order":91,"mode":0,"inputs":[{"name":"width","type":"INT","link":902,"widget":{"name":"width"}},{"name":"height","type":"INT","link":903,"widget":{"name":"height"}},{"name":"batch_size","type":"INT","link":305,"widget":{"name":"batch_size"},"slot_index":2}],"outputs":[{"name":"LATENT","type":"LATENT","links":[688],"shape":3,"slot_index":0}],"title":"Empty Latent Images","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[480,856,10]},{"id":509,"type":"GetNode","pos":[4640,1040],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":42,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[902],"slot_index":0}],"title":"Get_Init_Width","properties":{},"widgets_values":["Init_Width"],"color":"#222","bgcolor":"#000"},{"id":369,"type":"ModelSamplingDiscrete","pos":[3570,2920],"size":{"0":315,"1":82},"flags":{"collapsed":true},"order":122,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":723}],"outputs":[{"name":"MODEL","type":"MODEL","links":[958],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ModelSamplingDiscrete"},"widgets_values":["lcm",false]},{"id":551,"type":"FloatConstant","pos":[1120,4130],"size":{"0":210,"1":60},"flags":{},"order":43,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[966],"shape":3,"slot_index":0}],"title":"IP Start At","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0],"color":"#00577b","bgcolor":"#006b8f"},{"id":546,"type":"LoadImage","pos":[1350,3920],"size":{"0":430,"1":380},"flags":{},"order":44,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[960],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Load IP Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["cutecore_dreampop (1).png","image"],"color":"#00577b","bgcolor":"#006b8f"},{"id":213,"type":"Reroute","pos":[4430,3110],"size":[75,26],"flags":{},"order":99,"mode":0,"inputs":[{"name":"","type":"*","link":407}],"outputs":[{"name":"VAE","type":"VAE","links":[703],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":427,"type":"TonemapNoiseWithRescaleCFG","pos":[4700,2920],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":128,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":959},{"name":"tonemap_multiplier","type":"FLOAT","link":814,"widget":{"name":"tonemap_multiplier"},"slot_index":1}],"outputs":[{"name":"MODEL","type":"MODEL","links":[828],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TonemapNoiseWithRescaleCFG"},"widgets_values":[100,1]},{"id":94,"type":"ADE_AnimateDiffUniformContextOptions","pos":[4880,3000],"size":{"0":315,"1":154},"flags":{"collapsed":true},"order":45,"mode":0,"outputs":[{"name":"CONTEXT_OPTIONS","type":"CONTEXT_OPTIONS","links":[206],"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffUniformContextOptions"},"widgets_values":[16,1,4,"uniform",true]},{"id":428,"type":"Reroute","pos":[5720,2830],"size":[75,26],"flags":{},"order":134,"mode":0,"inputs":[{"name":"","type":"*","link":832,"slot_index":0}],"outputs":[{"name":"","type":"MODEL","links":[804],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":552,"type":"FloatConstant","pos":[1120,4240],"size":{"0":210,"1":60},"flags":{},"order":46,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[968],"shape":3,"slot_index":0}],"title":"IP End At","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.75],"color":"#00577b","bgcolor":"#006b8f"},{"id":5,"type":"PrimitiveNode","pos":[1130,420],"size":{"0":210,"1":80},"flags":{},"order":47,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[790,791],"slot_index":0,"widget":{"name":"noise_seed"}}],"title":"Seed","properties":{"Run widget replace on values":false},"widgets_values":[539728296666085,"fixed"],"color":"#171717","bgcolor":"#2b2b2b"},{"id":499,"type":"BatchPromptSchedule","pos":[1340,2330],"size":{"0":420,"1":430},"flags":{},"order":82,"mode":2,"inputs":[{"name":"clip","type":"CLIP","link":887},{"name":"max_frames","type":"INT","link":886,"widget":{"name":"max_frames"}}],"outputs":[{"name":"POS","type":"CONDITIONING","links":[895],"shape":3,"slot_index":0},{"name":"NEG","type":"CONDITIONING","links":null,"shape":3}],"title":"Prompt Traveller","properties":{"Node name for S&R":"BatchPromptSchedule"},"widgets_values":["\"0\" :\" Nature \",\n\"50\" :\" Ocean, Water\",\n\"100\" :\"Fire\",\n\"150\" :\"Nature\"",120,false,"(masterpiece, top quality, best quality, official art, beautiful and aesthetic), Extreme detailed, Sexy ,1girl,","0",0,0,0,0,0],"color":"#055d2b","bgcolor":"#19713f"},{"id":490,"type":"Logic Boolean","pos":[860,2250],"size":{"0":210,"1":80},"flags":{},"order":48,"mode":0,"outputs":[{"name":"NUMBER","type":"NUMBER","links":[],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[876],"shape":3,"slot_index":1}],"title":"Enable Prompt Traveller","properties":{"Node name for S&R":"Logic Boolean"},"widgets_values":[0],"color":"#193b72","bgcolor":"#2d4f86"},{"id":539,"type":"PreviewImage","pos":[2874.445091562823,-210.18054653199252],"size":{"0":160,"1":250},"flags":{},"order":120,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":929}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":543,"type":"GetNode","pos":[4050,1770],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":49,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[952,953],"slot_index":0}],"title":"Get_Mask_CN","properties":{},"widgets_values":["Mask_CN"]},{"id":345,"type":"Text Multiline","pos":[1110,1860],"size":{"0":410,"1":140},"flags":{},"order":50,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[659],"shape":3,"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"Text Multiline"},"widgets_values":["(masterpiece, top quality, best quality, official art, beautiful and aesthetic), Extreme detailed, Sexy ,1girl, yoga pants, white pant, background is cyber punk neon city, neon city in the background"],"color":"#1a571a","bgcolor":"#2e6b2e"},{"id":164,"type":"PrimitiveNode","pos":[1130,840],"size":{"0":210,"1":80},"flags":{},"order":51,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[361,362,899],"slot_index":0,"widget":{"name":"start_index"}}],"title":"Skip Frames","properties":{"Run widget replace on values":false},"widgets_values":[180,"fixed"],"color":"#232","bgcolor":"#353"},{"id":421,"type":"Int Literal","pos":[1130,1410],"size":{"0":210,"1":60},"flags":{},"order":52,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[796],"shape":3,"slot_index":0}],"title":"Stop Raw at nth Step","properties":{"Node name for S&R":"Int Literal"},"widgets_values":[6],"color":"#5c1010","bgcolor":"#702424"},{"id":160,"type":"PrimitiveNode","pos":[1130,1080],"size":{"0":210,"1":80},"flags":{},"order":53,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[305,359,360,880],"slot_index":0,"widget":{"name":"batch_size"}}],"title":"Batch Range","properties":{"Run widget replace on values":false},"widgets_values":[10,"fixed"],"color":"#232","bgcolor":"#353"},{"id":532,"type":"Logic Boolean","pos":[1480,-210],"size":{"0":210,"1":80},"flags":{},"order":54,"mode":0,"outputs":[{"name":"NUMBER","type":"NUMBER","links":[],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[924],"shape":3,"slot_index":1}],"title":"Enable CN Mask","properties":{"Node name for S&R":"Logic Boolean"},"widgets_values":[0],"color":"#193b72","bgcolor":"#2d4f86"},{"id":204,"type":"Note","pos":[4290,2280],"size":{"0":320,"1":160},"flags":{},"order":55,"mode":0,"title":"Softedge, Canny, Lineart","properties":{"text":""},"widgets_values":["Stronger Strength and End Percent results in floating artifacts and Alien objects in Softedge, Canny, or lineArt Models\n\nYou can experiment with depth also.\n"],"color":"#432","bgcolor":"#653"},{"id":177,"type":"Note","pos":[460,750],"size":{"0":510,"1":200},"flags":{},"order":56,"mode":0,"title":"Skip Frames Note","properties":{"text":""},"widgets_values":["Skip Frames - After Each Queue, skip the \"total\" of rendered frames. \n(Give some rest to the computer so it does not catch fire, don't be cruel)\n\nEg:\n \n1st Queue- Batch Range 60 | Skip Frames 0  | Rendered 60 \n2nd Queue- Batch Range 60 | Skip Frames 60 | Rendered 60\n3rd Queue- Batch Range 60 | Skip Frames 120 (60+60)...\nand so on... till your batch size.\n\nInput your last batch correctly. \n\n*If Controlnet Images are not equal in all passes then final rendered image may not have any movement and it may appear like floating.\n \n\nWarning: Ksampler can stuck if your input batch range is greater than the source images.\n\nEg : I have my last batch of 55 images left but I input 60 images in batch range then the ksampler got stuck. \nThen I put 55 as my batch range then it worked. Hurraah!\n\n\n\nTip: In the input box, basic Maths can be done inside comfyui only not need of calculator. \n\nEg : if I put \"200-50\" (250 minus 50) in the input, it will calculate to 150 automatically, like wise other basic Maths\n\n\n\n\n\n\n\n"],"color":"#432","bgcolor":"#653"},{"id":550,"type":"FloatConstant","pos":[1120,4020],"size":{"0":210,"1":60},"flags":{},"order":57,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[964],"shape":3,"slot_index":0}],"title":"IP Noise","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.5],"color":"#00577b","bgcolor":"#006b8f"},{"id":201,"type":"Note","pos":[450,1860],"size":{"0":530,"1":180},"flags":{},"order":58,"mode":0,"title":"Prompt Note","properties":{"text":""},"widgets_values":["*Positive Prompt: Write as usual, specify minute details, the elements are usually changed during the render, also you can try to use same keywords multiple times but same meaning ( Eg: blue jeans, blue color jeans, jeans of blue color) to reduce major changes. \n\nUsing the word multiple times increase it's strength.\nAvoid writing multiple color words. A prompt which has \"black\" keyword written x3 will darken the image x3\n\n\nIf you weight the keywords like \"(this:1.9), it may produce glitchy result. Avoid high weights.\n\n*Negative Prompt: Write as usual, Sometimes Negative prompts causes noise in images, try reducing the use of embeddings if you encounter them. \n\n"],"color":"#1a571a","bgcolor":"#2e6b2e"},{"id":494,"type":"SetNode","pos":[4240,840],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":106,"mode":0,"inputs":[{"name":"INT","type":"INT","link":881}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Batch_Range","properties":{"previousName":""},"widgets_values":["Batch_Range"],"color":"#222","bgcolor":"#000"},{"id":555,"type":"Note","pos":[460,2460],"size":{"0":530,"1":180},"flags":{},"order":59,"mode":0,"title":"Traveller Note","properties":{"text":""},"widgets_values":["*Enable the Traveller from above blue node, and Unmute the prompt travel group to use it, \n\n*First box is the changing prompt box formatted as - \n \"Frame Number\" : \"Changing Keyword\",\n\n*Second Box is the Normal positive prompt box, enter the text which will not change throughout the frames\n\n*Third box is optional, ignore it. \n_________________________________________________________\n\n1) Frame Number: Use at least 15 - 20 frames increase for a noticeable change.\n2) Changing Keyword: Use minimum words (2-10) here, large sentences may give token error. \n\n3) Make Sure there is a comma in the last to separate the keyframes\nFor Eg- \n\n\"0\" :\" Nature \",\n\"50\" :\" Ocean, Water\",\n\"100\" :\"Fire\",\n\"150\" :\"Nature\"\n \n150th key frame has no comma in the end. \n\n\n"],"color":"#1a571a","bgcolor":"#2e6b2e"},{"id":557,"type":"Note","pos":[420,170],"size":{"0":560,"1":60},"flags":{},"order":60,"mode":0,"title":"Tutorial Link","properties":{"text":""},"widgets_values":["Collection of Documented v3.0 Tutorials: https://www.patreon.com/collection/321458"],"color":"#934000","bgcolor":"#a75406","shape":4},{"id":549,"type":"FloatConstant","pos":[1120,3920],"size":{"0":210,"1":60},"flags":{},"order":61,"mode":0,"outputs":[{"name":"value","type":"FLOAT","links":[969],"shape":3,"slot_index":0}],"title":"IP Weight","properties":{"Node name for S&R":"FloatConstant"},"widgets_values":[0.65],"color":"#00577b","bgcolor":"#006b8f"},{"id":558,"type":"Note","pos":[1740,-530],"size":{"0":530,"1":190},"flags":{},"order":62,"mode":0,"title":"CN Masking","properties":{"text":""},"widgets_values":["1) Enable the CN mask from the blue node, and Ummute the group below to use the CN Masking Feature.  \n\n2) Put the mask folder path in the mask directory node,\n\nMake sure they are of same dimensions and image count as controlnets, else it might give dimension errors. \n\n\nBy using mask, you can have more dynamic background animation, which was not possible in v.2 versions because of controlnet effect on backgrounds.  "],"color":"#0b362f","bgcolor":"#1f4a43"},{"id":208,"type":"Note","pos":[420,270],"size":{"0":557.23828125,"1":363.5209045410156},"flags":{},"order":63,"mode":0,"title":"#2 Animation Raw - LCM v3.0","properties":{"text":""},"widgets_values":["HOW TO USE: \n\n1) Choose Model checkpoint you want to use\n2) Enter Width and Height of your Output Image \n3) Choose Positive Prompts, you want to see in the output\n4) Choose Loras, (You have to experiment which looks good or not)\n5) Paste the Passes Directories in ControlNets (1 and 2) Loaders and set their models and weight (See Neon Purple note) also you can use CN mask for dynamic animated background.\n\nTo Use the Masking feature, you should have masks available from #1_1 Extra Passes file or rotoscoped them from somewhere.\n\n6) Paste The Directory where you want to save the Images in the Output Save Directory Node\n7) Select Batch Range (Number of images you want to render in one Queue)\n8) Choose LCM, Highres and AD Motion Settings, Default is good but experimental (See note)\n\n9) [Optional] Choose Special feature - IP, Prompt Travel, Sparse if you want. (Notes will be available Besides them)\n \n\n10) After every batch you can increase the batch naming for organizing the batches.\n11) After every queue increase the skip frames to the Total number of images rendered already.\n12) After All the batches are rendered it's Ready for #3 LCM Refiner workflow\n\n*Don't Use Overlapping Technique in this phase, Use that in the final refiner phase, \n \n*Special Features are separated in different files due to technical limitation, if combined in one file it will give dimensions errors if used in parallel :D\n\n\n________________________________________\n\nMain Download Folder Link : https://drive.google.com/drive/folders/1HoZxKUX7WAg7ObqP00R4oIv48sXCEryQ?usp=sharing\n_________________________________________\n\n\nUpdate Log: Version 3.0 - Jan 24\n\n1) Added Cn Masking for more dynamic image control.\n2) Added Prompt Travel feature\n\n\n________________________________________\n\nUpdate Log: Version 2.1 - Dec 23 \n\n1) Added Detail Enhance, AD Macro Motion, Highres Fix.\n2) Improved Control Nets node placements, settings and naming.\n\n________________________________________\n\n\nUpdate Log: Version 2 - Dec 23 \n\n1) The weird color bleed/tint in the final images is removed by LCM technique (Found Experimentally) in this workflow. \n\n*A yellow tint may be observed (In low cfg) with TemporalDiff model in the final output which can be removed easily in post processing by using curves > blue channel >playing with the curve.   \n\n2) LCM now supported, will have 2x - 3x Render speed with higher batch range input, as lcm uses under 10 steps, you 2x input the batch range and image resolution. \n\n3) Added Batch Number Naming for organizing\n4) Added Output Save Location Path\n5) Added bunch of custom nodes for more efficiency and organizing. (See installation List)\n\n___________________________________________\n\n\n* If Faces are not Looking good, or some weird but small artifacts, it's fine, the refiner pass will take care of it\n* In prompts experiment with extreme words, and also test with loras with low strength. \n* Background still has weird artifacts. Play with sampler cfg (1-6) to see some change.\n* IP adaptor produces messy results with LCM"],"color":"#934000","bgcolor":"#a75406","shape":4},{"id":93,"type":"ADE_AnimateDiffLoaderWithContext","pos":[5180,2830],"size":{"0":407.929931640625,"1":190},"flags":{"collapsed":false},"order":132,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":830},{"name":"context_options","type":"CONTEXT_OPTIONS","link":206,"slot_index":1},{"name":"motion_lora","type":"MOTION_LORA","link":null},{"name":"motion_model_settings","type":"MOTION_MODEL_SETTINGS","link":785,"slot_index":3}],"outputs":[{"name":"MODEL","type":"MODEL","links":[832],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ADE_AnimateDiffLoaderWithContext"},"widgets_values":["motionModel_v01.ckpt","sqrt_linear (AnimateDiff)",1,false],"color":"#5d360a","bgcolor":"#714a1e"},{"id":356,"type":"Note","pos":[5180,3070],"size":{"0":410,"1":120},"flags":{},"order":64,"mode":0,"title":"AnimateDiff","properties":{"text":""},"widgets_values":["Model - motionModel_v01 and Temporaldiff-v1-animatediff was seen to produce best results.\nContext Length to 16\n----------------------------\nmotionModel_v01 - https://civitai.com/models/139237?modelVersionId=154097\n\nTemporaldiff - https://huggingface.co/CiaraRowles/TemporalDiff/tree/main\n* Temporal Diff can sometime give yellow tint to the final image, which can be fixed in post using curves>playing with the blue channel.\n\n\nFeel free to test out other motion models. \n"],"color":"#5d360a","bgcolor":"#714a1e"},{"id":346,"type":"CR LoRA Stack","pos":[1110,3380],"size":{"0":315,"1":342},"flags":{"collapsed":false},"order":96,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":757}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[819],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"title":"[Optional] CR LoRA Stack","properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","None",1,1,"On","None",1,1,"On","None",1,1],"color":"#172d88","bgcolor":"#2b419c"},{"id":393,"type":"CR LoRA Stack","pos":[770,3380],"size":{"0":315,"1":342},"flags":{"collapsed":false},"order":65,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[757],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"title":"[Optional] CR LoRA Stack","properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","None",1,1,"On","None",1,1,"On","None",1,1],"color":"#172d88","bgcolor":"#2b419c"},{"id":544,"type":"CLIPVisionLoader","pos":[2004.7379034362498,4020.7120049576133],"size":{"0":315,"1":58},"flags":{"collapsed":false},"order":66,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[956],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["Clip_Vision.safetensors"]},{"id":548,"type":"Reroute","pos":[3430,3420],"size":[75,26],"flags":{},"order":87,"mode":0,"inputs":[{"name":"","type":"*","link":960}],"outputs":[{"name":"","type":"IMAGE","links":[961],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":547,"type":"IPAdapterApply","pos":[3920,3380],"size":{"0":360,"1":260},"flags":{},"order":125,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":955},{"name":"clip_vision","type":"CLIP_VISION","link":956},{"name":"image","type":"IMAGE","link":961},{"name":"model","type":"MODEL","link":958},{"name":"attn_mask","type":"MASK","link":null},{"name":"weight","type":"FLOAT","link":969,"widget":{"name":"weight"},"slot_index":5},{"name":"noise","type":"FLOAT","link":964,"widget":{"name":"noise"}},{"name":"start_at","type":"FLOAT","link":966,"widget":{"name":"start_at"},"slot_index":7},{"name":"end_at","type":"FLOAT","link":968,"widget":{"name":"end_at"}}],"outputs":[{"name":"MODEL","type":"MODEL","links":[959],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[1,0,"original",0,1,false]},{"id":545,"type":"IPAdapterModelLoader","pos":[2004.7379034362498,3920.7120049576133],"size":{"0":315,"1":58},"flags":{"collapsed":false},"order":67,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[955],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.bin"]},{"id":556,"type":"Note","pos":[480,3860],"size":{"0":570,"1":480},"flags":{},"order":68,"mode":0,"title":"IP Adaptor","properties":{"text":""},"widgets_values":["1) Drag and drop IP image in the load IP image node \n2) Set Weights, noise, start at and End at values,\n\n\n*IP Weight: Use Between 0.4 - 0.8 for best results (0.65 is default) \n*IP Noise: It injects some additional noise for better results. (0.5 is default) \n*IP Start At: Start injecting the image from nth percent. Leave value at 0 if you don't know what it is. \n*IP End At: Stop injecting the image at nth Percent. Use value between 0.5 - 0.8 for best results (Default is 0.75) \n\nIP Models and Github Page: https://github.com/cubiq/ComfyUI_IPAdapter_plus\n\nPut models and clip vision here (if they don't exists then create the folders):\n \n1) ComfyUI\\models\\ipadaptor\n2) ComfyUI\\models\\clip_vision"],"color":"#60185e","bgcolor":"#742c72"},{"id":559,"type":"Note","pos":[420,70],"size":{"0":560,"1":60},"flags":{},"order":69,"mode":0,"title":"File Name + Special Feature","properties":{"text":""},"widgets_values":["#2_2 - Raw Animation with IP Adaptor + Prompt Travel and CN Masking"],"color":"#84116b","bgcolor":"#98257f","shape":4}],"links":[[206,94,0,93,1,"CONTEXT_OPTIONS"],[305,160,0,151,2,"INT"],[359,160,0,172,0,"INT"],[360,160,0,174,0,"INT"],[361,164,0,172,1,"INT"],[362,164,0,174,1,"INT"],[407,224,0,213,0,"*"],[414,229,0,230,1,"STRING"],[456,223,0,188,0,"*"],[659,345,0,344,1,"STRING"],[661,170,0,344,0,"CLIP"],[670,347,1,226,0,"CLIP"],[677,136,0,10,1,"VAE"],[679,170,0,230,0,"CLIP"],[682,353,0,354,0,"STRING"],[684,354,0,334,2,"STRING"],[688,151,0,176,0,"*"],[689,361,0,354,1,"STRING"],[690,362,0,361,0,"INT"],[692,363,0,334,1,"STRING"],[697,172,0,367,0,"IMAGE"],[698,367,0,92,0,"IMAGE"],[699,174,0,366,0,"IMAGE"],[700,366,0,103,0,"IMAGE"],[702,368,0,319,0,"IMAGE"],[703,213,0,136,0,"*"],[714,370,0,368,0,"IMAGE"],[715,370,0,334,0,"IMAGE"],[721,188,0,347,1,"CLIP"],[722,169,0,373,0,"MODEL"],[723,373,0,369,0,"MODEL"],[724,226,0,373,1,"CLIP"],[725,373,1,170,0,"*"],[740,378,0,347,0,"MODEL"],[748,1,1,223,0,"*"],[755,391,0,392,0,"*"],[756,392,0,373,2,"FLOAT"],[757,393,0,346,0,"LORA_STACK"],[758,2,0,224,0,"*"],[761,398,0,363,0,"*"],[765,176,0,401,0,"*"],[767,382,0,404,0,"*"],[768,405,0,399,0,"MODEL"],[769,403,0,399,1,"CONDITIONING"],[770,400,0,399,2,"CONDITIONING"],[771,406,0,399,5,"INT"],[772,404,0,399,4,"FLOAT"],[773,399,0,408,0,"LATENT"],[774,408,0,410,0,"LATENT"],[775,410,0,407,3,"LATENT"],[776,405,0,407,0,"MODEL"],[777,403,0,407,1,"CONDITIONING"],[778,400,0,407,2,"CONDITIONING"],[779,401,0,399,3,"LATENT"],[780,404,0,407,4,"FLOAT"],[782,407,0,10,0,"LATENT"],[784,406,0,407,5,"INT"],[785,415,0,93,3,"MOTION_MODEL_SETTINGS"],[788,418,0,408,1,"FLOAT"],[789,417,0,418,0,"*"],[790,5,0,399,6,"INT"],[791,5,0,407,6,"INT"],[792,383,0,406,0,"*"],[793,10,0,370,0,"*"],[794,419,0,407,7,"INT"],[795,420,0,399,7,"INT"],[796,421,0,420,0,"*"],[797,422,0,419,0,"*"],[800,1,0,378,0,"*"],[804,428,0,405,0,"*"],[813,430,0,434,0,"*"],[814,434,0,427,1,"FLOAT"],[818,436,0,415,1,"INT"],[819,346,0,438,0,"*"],[820,438,0,347,2,"LORA_STACK"],[828,427,0,455,0,"MODEL"],[830,455,0,93,0,"MODEL"],[832,93,0,428,0,"*"],[833,347,0,169,0,"*"],[874,493,0,488,0,"INT"],[875,492,0,491,0,"*"],[876,490,1,492,0,"INT,FLOAT,IMAGE,LATENT"],[880,160,0,497,0,"INT"],[881,497,0,494,0,"*"],[886,489,0,499,1,"INT"],[887,500,0,499,0,"CLIP"],[892,344,0,502,0,"*"],[895,499,0,502,1,"CONDITIONING"],[896,493,0,502,3,"INT"],[897,373,1,498,0,"CLIP"],[898,504,0,503,0,"*"],[899,164,0,504,0,"INT"],[900,505,0,507,0,"*"],[901,506,0,508,0,"*"],[902,509,0,151,0,"INT"],[903,510,0,151,1,"INT"],[904,513,0,511,0,"INT"],[905,512,0,511,1,"INT"],[911,511,0,520,0,"IMAGE"],[916,526,0,525,0,"INT"],[917,527,0,525,1,"INT"],[918,530,0,528,0,"IMAGE"],[919,511,0,528,1,"IMAGE"],[920,529,0,528,3,"INT"],[921,525,0,530,0,"IMAGE"],[922,531,0,530,1,"INT"],[923,534,0,533,0,"*"],[924,532,1,534,0,"INT,FLOAT,IMAGE,LATENT"],[925,528,0,535,0,"IMAGE"],[926,535,0,536,0,"*"],[929,540,0,539,0,"IMAGE"],[930,528,0,540,0,"IMAGE"],[936,97,0,541,2,"CONTROL_NET"],[937,174,0,541,3,"IMAGE"],[938,443,0,541,8,"FLOAT"],[939,444,0,541,9,"FLOAT"],[940,445,0,541,10,"FLOAT"],[941,541,0,403,0,"*"],[942,541,1,400,0,"*"],[943,502,0,542,0,"CONDITIONING"],[944,230,0,542,1,"CONDITIONING"],[945,70,0,542,2,"CONTROL_NET"],[946,172,0,542,3,"IMAGE"],[947,439,0,542,8,"FLOAT"],[948,440,0,542,9,"FLOAT"],[949,441,0,542,10,"FLOAT"],[950,542,0,541,0,"CONDITIONING"],[951,542,1,541,1,"CONDITIONING"],[952,543,0,542,4,"MASK"],[953,543,0,541,4,"MASK"],[955,545,0,547,0,"IPADAPTER"],[956,544,0,547,1,"CLIP_VISION"],[958,369,0,547,3,"MODEL"],[959,547,0,427,0,"MODEL"],[960,546,0,548,0,"*"],[961,548,0,547,2,"IMAGE"],[964,550,0,547,6,"FLOAT"],[966,551,0,547,7,"FLOAT"],[968,552,0,547,8,"FLOAT"],[969,549,0,547,5,"FLOAT"]],"groups":[{"title":"Prompt Travel","bounding":[1102,2224,689,558],"color":"#19671f","font_size":24,"locked":false},{"title":"Masking","bounding":[1739,-329,1355,509],"color":"#1c7d6d","font_size":24,"locked":false},{"title":"IP Adaptor","bounding":[1088,3833,714,503],"color":"#dc38d7","font_size":24,"locked":false},{"title":"Load IP Models","bounding":[1931,3827,464,295],"color":"#ba33eb","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}